execute unless block ~ ~ ~ #retina:piston[extended=true] run function retina:hitbox/cubic
execute unless block ~ ~ ~ #retina:piston[extended=true] run return 1
execute if block ~ ~ ~ #retina:piston[facing=east] run data modify storage retina:data Surfaces set value {Top:[[0,1024,0,768,1024,1024]],Bottom:[[0,0,0,768,0,1024]],West:[[0,1024,0,0,1024,1024]],East:[[768,1024,0,768,1024,1024]],North:[[0,0,0,768,1024,0]],South:[[0,0,1024,768,1024,1024]]}
execute if block ~ ~ ~ #retina:piston[facing=west] run data modify storage retina:data Surfaces set value {Top:[[256,1024,0,1024,1024,1024]],Bottom:[[256,0,0,1024,0,1024]],West:[[256,1024,0,256,1024,1024]],East:[[1024,1024,0,1024,1024,1024]],North:[[256,0,0,1024,1024,0]],South:[[256,0,1024,1024,1024,1024]]}
execute if block ~ ~ ~ #retina:piston[facing=south] run data modify storage retina:data Surfaces set value {Top:[[0,1024,0,1024,1024,768]],Bottom:[[0,0,0,1024,0,768]],West:[[0,1024,0,0,1024,768]],East:[[1024,1024,0,1024,1024,768]],North:[[0,0,0,1024,1024,0]],South:[[0,0,768,1024,1024,768]]}
execute if block ~ ~ ~ #retina:piston[facing=north] run data modify storage retina:data Surfaces set value {Top:[[0,1024,256,1024,1024,1024]],Bottom:[[0,0,256,1024,0,1024]],West:[[0,1024,256,0,1024,1024]],East:[[1024,1024,256,1024,1024,1024]],North:[[0,0,256,1024,1024,256]],South:[[0,0,1024,1024,1024,1024]]}
execute if block ~ ~ ~ #retina:piston[facing=up] run data modify storage retina:data Surfaces set value {Top:[[0,768,0,1024,768,1024]],Bottom:[[0,0,0,1024,0,1024]],West:[[0,768,0,0,768,1024]],East:[[1024,768,0,1024,768,1024]],North:[[0,0,0,1024,768,0]],South:[[0,0,1024,1024,768,1024]]}
execute if block ~ ~ ~ #retina:piston[facing=down] run data modify storage retina:data Surfaces set value {Top:[[0,1024,0,1024,1024,1024]],Bottom:[[0,256,0,1024,256,1024]],West:[[0,1024,0,0,1024,1024]],East:[[1024,1024,0,1024,1024,1024]],North:[[0,256,0,1024,1024,0]],South:[[0,256,1024,1024,1024,1024]]}