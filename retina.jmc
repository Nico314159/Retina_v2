import "math";
import "tags";

//summon minecraft:marker 0 0 0 {Tags:["retina.height","retina.ignore"]};
$overflow_risk = 2147483647;
$overflow_risk /= SCALE;
Scoreboard.add(retina.id, dummy);
Scoreboard.add(retina.hit, dummy);
data merge storage retina:input {HorizontalCount: 1b, VerticalCount: 1b, CenteredCount: 0b, SpreadFactor: [100, 100], EndpointEntity: 0b};
if (!data storage retina:input MaxRecursionDepth) data merge storage retina:input {MaxRecursionDepth: 50}
if (!data storage retina:input TargetEntities) data merge storage retina:input {TargetEntities: true}
data merge storage retina:output {ContactCoordinates: [], ContactSurface: [], Distance: 0.0d, HitFace: "", PlacingPosition: [], Target: "", TargetedBlock: []};

class traverse {
    function setup() {
        // guard condition
        Hardcode.repeatList(
            "[i]",
            () => {
                $int_[i] = data get entity @s Pos[0] 1;
                $test_[i] = $int_[i];
                $test_[i] /= $overflow_risk;
                if (!$test_[i] matches -1..0) Text.tellraw(@a, "&<dark_red>[Error] &<red>Raycast [i] coordinate of &<$int_[i]> is out of range (-&<$overflow_risk>, &<$overflow_risk>)");
                if (!$test_[i] matches -1..0) return 0;
            },
            ["X", "Z"] // not worried about Y since that's never gonna be high enough to overflow
        );
        
        data modify storage retina:output Target set value "NONE";
        data modify storage retina:output Distance set from storage retina:input MaxRecursionDepth;
        data remove storage retina:output TargetedBlock;
        data remove storage retina:output TargetedEntity;
        data remove storage retina:output PlacingPosition;
        data remove storage retina:output ContactSurface;
        data remove storage retina:output HitFace;
        data modify storage retina:output HitEntityHead set value false;
        $block_distance = execute run $entity_distance = 2147483647;
		$hit_block = execute run $hit_entity = execute run $contact = false;
        $max_depth = data get storage retina:input MaxRecursionDepth;
        
        tag @s add retina.executing;
        if ($single_call) {
            tag @e remove retina.target;
            scoreboard players reset * retina.hit;
            kill @e[type=marker,tag=retina.endpoint];
            $input_pitch = data get entity @s Rotation[1] 10;
            $input_yaw = data get entity @s Rotation[0] 10;
            if ($debug_messages) Text.tellraw(@a, "&<!bold, white>Pitch: &<$input_pitch, red>, &<!bold, white>Yaw: &<$input_yaw, red>");
            Math.gimbal_to_vec();
            if ($debug_messages) Text.tellraw(@a, "Facing Vector: &<gold>[&<$output_vec3.X>, &<$output_vec3.Y>, &<$output_vec3.Z>]");
        }

        execute anchored eyes positioned ^ ^ ^ summon minecraft:marker run {
            $X = data get entity @s Pos[0] SCALE;
            $Y = data get entity @s Pos[1] SCALE;
            $Z = data get entity @s Pos[2] SCALE;
            kill @s;
        }
        Hardcode.repeatList(
            "[i]",
            () => {
                $origin_[i] = $[i];
                $frac_origin_[i] = $[i];
                $frac_origin_[i] %= SCALE;
                $step_[i] = 0;

                if ($output_vec3.[i] < 0) $sign_[i] = -1;
                if ($output_vec3.[i] >= 0) $sign_[i] = 1;

                $delta_[i] = 230400;
                $delta_[i] /= $output_vec3.[i];
                $delta_[i] /= $sign_[i];

                $distance_[i] = $[i];
                $distance_[i] *= $sign_[i];
                $distance_[i] *= -1;
                $distance_[i] %= SCALE;
                $distance_[i] *= $delta_[i];
                $distance_[i] /= SCALE;

                if ($output_vec3.[i] == 0) $delta_[i] = 2147483647;
                if ($output_vec3.[i] == 0) $distance_[i] = 2147483647;

                $int_[i] = $[i];
                $int_[i] /= SCALE;
            },
            ["X", "Y", "Z"]
        );
        if ($debug_messages) Text.tellraw(@a, "Origin: &<yellow>[&<$int_X>, &<$int_Y>, &<$int_Z>]");

        $step = 0;
        $offset_Y = data get entity @s Pos[1] -SCALE;
        $offset_Y += $Y;
        if ($offset_Y matches 776..778) execute positioned ~ ~1.62 ~ run traverse.loop();
        if ($offset_Y matches 608..610) execute positioned ~ ~1.27 ~ run traverse.loop();
        if ($offset_Y = 192) execute positioned ~ ~0.4 ~ run traverse.loop();

        if ($hit_block) storage.block();
        if ($hit_entity) storage.entity();
        execute run function #retina:on_hit;
        tag @s remove retina.executing;
    }
    function loop() {
        // Find nearest axis
        $shortest_distance = $distance_X;
        $shortest_distance < $distance_Y;
        $shortest_distance < $distance_Z;
        if ($shortest_distance = $distance_Z) $nearest_axis = 2;
        if ($shortest_distance = $distance_Y) $nearest_axis = 1;
        if ($shortest_distance = $distance_X) $nearest_axis = 0;
        
        $prev_X = $int_X;
        $prev_Y = $int_Y;
        $prev_Z = $int_Z;

        if ($debug_messages == 2) particle crit;

        // Process data based on nearest axis
        if ($nearest_axis = 0 && no_break) traverse.x();
        if ($nearest_axis = 1 && no_break) traverse.y();
        if ($nearest_axis = 2 && no_break) traverse.z();
    }
    function x() {
        if ($debug_messages) Text.tellraw(@a, "Distances to each block: &<green>[&<$distance_X>, &<$distance_Y>, &<$distance_Z>]");
        if ($debug_messages) Text.tellraw(@a, "&<!bold, white>Closest direction: &<bold,aqua>X");
        $distance_X += $delta_X;
        $step_X += $sign_X;
        $int_X += $sign_X;

        if ($sign_X = -1) execute positioned ~-1 ~0 ~0 run check.main();
        if ($sign_X = 1) execute positioned ~1 ~0 ~0 run check.main();
    }
    function y() {
        if ($debug_messages) Text.tellraw(@a, "Distances to each block: &<green>[&<$distance_X>, &<$distance_Y>, &<$distance_Z>]");
        if ($debug_messages) Text.tellraw(@a, "&<!bold, white>Closest direction: &<bold,aqua>Y");
        $distance_Y += $delta_Y;
        $step_Y += $sign_Y;
        $int_Y += $sign_Y;

        if ($sign_Y = -1) execute positioned ~0 ~-1 ~0 run check.main();
        if ($sign_Y = 1) execute positioned ~0 ~1 ~0 run check.main();
    }
    function z() {
        if ($debug_messages) Text.tellraw(@a, "Distances to each block: &<green>[&<$distance_X>, &<$distance_Y>, &<$distance_Z>]");
        if ($debug_messages) Text.tellraw(@a, "&<!bold, white>Closest direction: &<bold,aqua>Z");
        $distance_Z += $delta_Z;
        $step_Z += $sign_Z;
        $int_Z += $sign_Z;

        if ($sign_Z = -1) execute positioned ~0 ~0 ~-1 run check.main();
        if ($sign_Z = 1) execute positioned ~0 ~0 ~1 run check.main();
    }
    function multicast() {
        $horizontal_count = data get storage retina:input HorizontalCount 10;
        $vertical_count = data get storage retina:input VerticalCount 10;
        $centered_count = data get storage retina:input CenteredCount 1;

        // input validation
        if ($horizontal_count <= 0) Text.tellraw(@a, "&<dark_red>[Error] &<red>HorizontalCount storage has invalid value of &<$horizontal_count>");
        if ($horizontal_count <= 0) return 0;
        if ($vertical_count <= 0) Text.tellraw(@a, "&<dark_red>[Error] &<red>VerticalCount storage has invalid value of &<$vertical_count>");
        if ($vertical_count <= 0) return 0;
        if ($centered_count < 0) Text.tellraw(@a, "&<dark_red>[Error] &<red>CenteredCount storage has invalid value of &<$centered_count>");
        if ($centered_count < 0) return 0;

        $spread_least = data get storage retina:input SpreadFactor[0];
        $spread_range = data get storage retina:input SpreadFactor[1];
        $spread_range -= $spread_least;

        $single_call = false;
        tag @e remove retina.target;
        scoreboard players reset * retina.hit;
        kill @e[type=marker,tag=retina.endpoint];
        $input_pitch = data get entity @s Rotation[1] 10;
        $input_yaw = data get entity @s Rotation[0] 10;
        for ($i = 0; $i < $horizontal_count; $i += 10) { 
            for ($j = 0; $j < $vertical_count; $j += 10) {
                $input_vec3.X = $i;
                $input_vec3.X *= 2;
                $input_vec3.X += 10;
                $input_vec3.X -= $horizontal_count;
                if ($horizontal_count == 10) {
                    $input_vec3.X = Math.random(2, 6);
                    $input_vec3.X %= 3;
                    $input_vec3.X --;
                    $input_vec3.X *= 20;
                }
                $spread = Math.random();
                $spread %= $spread_range;
                $spread += $spread_least;
                if ($spread_range == 0) $spread = $spread_least;
                $input_vec3.X *= $spread;
                $input_vec3.X /= 100;

                $input_vec3.Y = $j;
                $input_vec3.Y *= 2;
                $input_vec3.Y += 10;
                $input_vec3.Y -= $vertical_count;
                if ($vertical_count == 10) {
                    $input_vec3.Y = Math.random(2, 6);
                    $input_vec3.Y %= 3;
                    $input_vec3.Y --;
                    $input_vec3.Y *= 20;
                }
                $spread = Math.random();
                $spread %= $spread_range;
                $spread += $spread_least;
                if ($spread_range == 0) $spread = $spread_least;
                $input_vec3.Y *= $spread;
                $input_vec3.Y /= 100;

                $input_vec3.Z = 500;
                if ($debug_messages) Text.tellraw(@a, "Input Vector: &<red, italic>[&<$input_vec3.X, italic>, &<$input_vec3.Y, italic>, &<$input_vec3.Z, italic>]"); 

                $length = 0;
                Hardcode.repeatList("[axis]", () => {$temp = $input_vec3.[axis]; $temp *= $input_vec3.[axis]; $length += $temp;}, ["X", "Y", "Z"]);
                $length = Math.sqrt($length);
                Math.gimbal_to_matrix();
                Hardcode.repeatList("[pair]", () => {$input_mat3.[pair] = $output_mat3.[pair];}, ["XX", "XY", "XZ", "YX", "YY", "YZ", "ZX", "ZY", "ZZ"]);
                Math.matrix_transform();
                Hardcode.repeatList("[axis]", () => {$output_vec3.[axis] *= SCALE; $output_vec3.[axis] /= $length;}, ["X", "Y", "Z"]);
                if ($debug_messages) Text.tellraw(@a, "Angled Vector: &<gold, italic>[&<$output_vec3.X, italic>, &<$output_vec3.Y, italic>, &<$output_vec3.Z, italic>]");
                traverse.setup();
            } 
        }

        for ($k = 0; $k < $centered_count; $k++) {traverse.setup();}
        $single_call = true;
    }
}   

class check {
    function main() {
        $step ++;

        check.block.main();
        if (data storage retina:input {TargetEntities: true}) check.entity.main();

        if ($step >= $max_depth && $debug_messages) Text.tellraw(@a, "&<italic, light_purple>Failed to find anything within &<$step> blocks. End coordinates: &<bold>[&<$int_X>, &<$int_Y>, &<$int_Z>]");
        if (no_break) traverse.loop();
    }
    class block {
        function main() {
            if (block ~ ~ ~ #retina:airs) return 0;
            check.block.found();
            if (!$hit_block && $debug_messages) Text.tellraw(@a, "&<italic, white>No block... Coordinates: &<blue>[&<$int_X>, &<$int_Y>, &<$int_Z>]");
            if (!$hit_block) return 0;
            
            if ($debug_messages) Text.tellraw(@a, "&<bold, underlined, gray>Block has been hit! Coordinates: &<blue>[&<$int_X>, &<$int_Y>, &<$int_Z>]");
            if ($debug_gold) setblock ~ ~ ~ gold_block;
            // if ($end_particle) particle minecraft:end_rod ~ ~ ~ 0 0 0 0 1 force @a;
        }
        function found() {
            // Clear residual data from `Surfaces`
            data remove storage retina:data Surfaces;
            data modify storage retina:data Surfaces set value {Top:[],Bottom:[],West:[],East:[],North:[],South:[]};
            check.block.get_hitbox();

            // See if the ray hits any surface
            if (data storage retina:data Surfaces) find_closest_surface.main(); 
            if ($contact) $block_distance = $min_distance_to_surface;
            $hit_block = $contact;
        }
        function get_hitbox() {
            Hardcode.repeatList(
                "[shape]",
                () => { 
                    if (block ~ ~ ~ #retina:[shape]) hitbox.[shape]();
                    if (block ~ ~ ~ #retina:[shape]) return 1;
                },
                ["amethyst", "anvil", "attached_stem", "azalea", "bed", "bell", "berries", "big_dripleaf", "big_dripleaf_stem", "brewing_stand", "button", 
                "cactus_shaped", "candle", "cake", "campfire", "carpet", "cauldron", "chain", "chest", "composter", "conduit", "coral_fan", "coral_plant",
                "daylight_detector", "door", "end_portal_frame", "extended_piston", "farmland_shaped", "fence_gate", "fence", "fire", "grass_shaped", "grindstone",
                "head", "hanging_roots", "hanging_sign", "ladder", "lantern", "lectern", "lever", "mushroom_shaped", "nether_fungus", "nether_sprouts",
                "pane_shaped", "pickle", "piglin_head", "piglin_wall_head", "pink_petals", "piston_head", "pitcher_crop", "pressure_plate", "rail", "repeater_shaped", "rod",
                "sapling", "seagrass", "short_crop", "slab", "small_dripleaf", "sniffer_egg", "snow", "spore_blossom", "sugar_cane_like", "stair", "standing_sign_or_banner", 
                "stem", "stonecutter", "structure_void", "tall_crop", "torchflower_crop", "trapdoor", "tripwire", "tripwire_hook", "turtle_egg", "twisting_vines", 
                "vertical_torch", "vine_like", "wall_banner", "wall_hanging_sign", "wall_head", "wall_sign", "wall_torch", "wall", "weeping_vines"]
            );
            hitbox.cubic(); // if it doesn't match any special hitbox, assume it's a 1x1x1 cube.
        }
    }
    class entity {
        function main() {
            // This doesn't need to be its own function, but now I can add debug stuff later	
            execute align xyz if entity @e[type=!#retina:intangible, tag=!retina.ignore, tag=!retina.executing, dx=0, dy=0, dz=0] run check.entity.found();
            if (!$hit_entity && $debug_messages) Text.tellraw(@a, "&<italic, white>No entity... Coordinates: &<dark_aqua>[&<$int_X>, &<$int_Y>, &<$int_Z>]");
            if (!$hit_entity) return 0;
            
            if ($debug_messages) Text.tellraw(@a, "&<bold, underlined, dark_gray>Entity has been hit! Coordinates: &<dark_aqua>[&<$int_X>, &<$int_Y>, &<$int_Z>]. hit_entity = &<$hit_entity>");
            // if ($end_particle) particle minecraft:soul_fire_flame ~ ~ ~ 0 0 0 0 1 force @a;
        }
        function found() {
            // Clear residual data from `Surfaces`
            data remove storage retina:data Surfaces;
            data modify storage retina:data Surfaces set value {Top:[],Bottom:[],West:[],East:[],North:[],South:[]};

            // Identify the entity and get a list of surfaces
            retina.id:$max = 0;
            $check_for_head = false;
            tag @e[type=!#retina:intangible] remove retina.possible_target;
            execute align xyz as @e[type=!#retina:intangible, tag=!retina.executing, dx=0, dy=0, dz=0] at @s run check.entity.get_hitbox();

            // See if the ray hits any surface
            $contact = false;
            if (data storage retina:data Surfaces) find_closest_surface.main();
            if ($contact) $entity_distance = $min_distance_to_surface;
            $hit_entity = $contact;

            // If the ray could hit both an entity and a block, remember only the one that comes first
            if ($hit_block && $hit_entity && $debug_messages) Text.tellraw(@a, "&<gold>Distance comparison: entity_distance = &<$entity_distance>, block_distance = &<$block_distance>");
            if ($hit_block && $hit_entity && $entity_distance < $block_distance) $hit_block = false;
            if ($hit_block && $hit_entity && $entity_distance >= $block_distance) $hit_entity = false;
        }
        function get_hitbox() {
            execute run {
                Hardcode.repeatList( 
                    "[type]",
                    () => {
                        if (entity @s[type=#retina:[type]]) entity_hitbox.[type]();
                        if (entity @s[type=#retina:[type]]) return 1;
                    },
                    ["allay", "armor_stand", "axolotl", "bat_like", "bee", "boat", "camel", "cat_like", "cave_spider", "chicken", "cow", "cod", "creeper", 
                    "dolphin", "donkey", "elder_guardian", "end_crystal", "enderman", "falling_block_like", "frog", "ghast", "giant", "guardian",
                    "hoglin", "horse_like",  "iron_golem", "item_frame", "leash_knot", "llama", "minecart", "panda", "phantom", "pig", "player_like", 
                    "polar_bear", "pufferfish", "rabbit", "ravager", "salmon", "sheep_like", "shulker", "skeleton", "slime_like", "small_arthropod", "sniffer",
                    "snow_golem", "spider", "squid", "strider", "tropical_fish", "turtle", "vex", "warden", "wither", "wither_skeleton", "wolf", "zombie_like"]
                );
            }

            // Get the entity's coordinates
            execute summon marker run {
                data modify storage retina:data Pos set from entity @s Pos;
		        
                // Get position (fractional coordinates)
                Hardcode.repeatLists(
                    ["[axis]", "$index"],
                    () => { 
                        $entity_frac_[axis] = data get storage retina:data Pos[$index] SCALE;
						//$debug_[axis] = $entity_frac_[axis];
                        $temp = SCALE;
                        $temp *= $int_[axis];
                        $entity_frac_[axis] -= $temp;
                    },
                    [["X", "Y", "Z"], ["0", "1", "2"]]
                );

                // Clean up
                data remove storage retina:data Pos;
                kill @s;
            }
        
            Hardcode.repeatList(
                "[i]",
                () => { 
                    $entity_[i]0 = $entity_frac_[i];
                    $entity_[i]0 -= $entity_half_width;
                    $entity_[i]0 > 0;
                    $entity_[i]1 = $entity_frac_[i];
                    $entity_[i]1 += $entity_half_width;
                    $entity_[i]1 < SCALE;
                },
                ["X", "Z"]
            );
            $entity_Y0 = $entity_frac_Y;
            $entity_Y0 > 0;
            $entity_Y1 = $entity_frac_Y;
            $entity_Y1 += $entity_height;
            $entity_Y1 < SCALE;

            // Store these coordinates to storage
            Hardcode.repeatList(
                "[face]", () => {data modify storage retina:data Surfaces.[face] append value [0, 0, 0, 0, 0, 0];}, 
                ["Top", "Bottom", "West", "East", "North", "South"]
            );

            execute store result storage retina:data Surfaces.Top[-1][0] int 1 run $entity_X0.get();
            execute store result storage retina:data Surfaces.Top[-1][1] int 1 run $entity_Y1.get();
            execute store result storage retina:data Surfaces.Top[-1][2] int 1 run $entity_Z0.get();
            execute store result storage retina:data Surfaces.Top[-1][3] int 1 run $entity_X1.get();
            execute store result storage retina:data Surfaces.Top[-1][4] int 1 run $entity_Y1.get();
            execute store result storage retina:data Surfaces.Top[-1][5] int 1 run $entity_Z1.get();

            execute store result storage retina:data Surfaces.Bottom[-1][0] int 1 run $entity_X0.get();
            execute store result storage retina:data Surfaces.Bottom[-1][1] int 1 run $entity_Y0.get();
            execute store result storage retina:data Surfaces.Bottom[-1][2] int 1 run $entity_Z0.get();
            execute store result storage retina:data Surfaces.Bottom[-1][3] int 1 run $entity_X1.get();
            execute store result storage retina:data Surfaces.Bottom[-1][4] int 1 run $entity_Y0.get();
            execute store result storage retina:data Surfaces.Bottom[-1][5] int 1 run $entity_Z1.get();

            execute store result storage retina:data Surfaces.West[-1][0] int 1 run $entity_X0.get();
            execute store result storage retina:data Surfaces.West[-1][1] int 1 run $entity_Y0.get();
            execute store result storage retina:data Surfaces.West[-1][2] int 1 run $entity_Z0.get();
            execute store result storage retina:data Surfaces.West[-1][3] int 1 run $entity_X0.get();
            execute store result storage retina:data Surfaces.West[-1][4] int 1 run $entity_Y1.get();
            execute store result storage retina:data Surfaces.West[-1][5] int 1 run $entity_Z1.get();

            execute store result storage retina:data Surfaces.East[-1][0] int 1 run $entity_X1.get();
            execute store result storage retina:data Surfaces.East[-1][1] int 1 run $entity_Y0.get();
            execute store result storage retina:data Surfaces.East[-1][2] int 1 run $entity_Z0.get();
            execute store result storage retina:data Surfaces.East[-1][3] int 1 run $entity_X1.get();
            execute store result storage retina:data Surfaces.East[-1][4] int 1 run $entity_Y1.get();
            execute store result storage retina:data Surfaces.East[-1][5] int 1 run $entity_Z1.get();

            execute store result storage retina:data Surfaces.North[-1][0] int 1 run $entity_X0.get();
            execute store result storage retina:data Surfaces.North[-1][1] int 1 run $entity_Y0.get();
            execute store result storage retina:data Surfaces.North[-1][2] int 1 run $entity_Z0.get();
            execute store result storage retina:data Surfaces.North[-1][3] int 1 run $entity_X1.get();
            execute store result storage retina:data Surfaces.North[-1][4] int 1 run $entity_Y1.get();
            execute store result storage retina:data Surfaces.North[-1][5] int 1 run $entity_Z0.get();

            execute store result storage retina:data Surfaces.South[-1][0] int 1 run $entity_X0.get();
            execute store result storage retina:data Surfaces.South[-1][1] int 1 run $entity_Y0.get();
            execute store result storage retina:data Surfaces.South[-1][2] int 1 run $entity_Z1.get();
            execute store result storage retina:data Surfaces.South[-1][3] int 1 run $entity_X1.get();
            execute store result storage retina:data Surfaces.South[-1][4] int 1 run $entity_Y1.get();
            execute store result storage retina:data Surfaces.South[-1][5] int 1 run $entity_Z1.get();

            if (entity @s[type=#retina:item_frame]) entity_hitbox.item_frame(); // Special case for item frames and paintings which are annoying

            // Give this entity a tag and an ID
            tag @s add retina.possible_target;
            retina.id:@s = retina.id:$max;
            retina.id:$max++;
        }
    }
}

class find_closest_surface {
    function main() {
        // @within check.block.found()

        $min_distance_to_surface = 832; // sqrt(3) * 480
        Hardcode.repeatLists(
            ["[direction]", "[axis]", "[sign]"],
            () => {if (!$sign_[axis] = [sign] && no_break) find_closest_surface.[direction]();},
            [
                ["east", "west", "top", "bottom", "south", "north"],
                ["X", "X", "Y", "Y", "Z", "Z"],
                ["1", "-1", "1", "-1", "1", "-1"]
            ]
        );
    }
    function store_coords() {
        Hardcode.repeatLists(
            ["[axis]", "index"],
            () => {
                $[axis]0 = data get storage retina:data List[-1][index];
                $[axis]1 = data get storage retina:data List[-1][ Hardcode.calc(index + 3) ];
                $t_[axis] = 480;
                $t_[axis] *= $step_[axis];
                $t_[axis] -= $frac_origin_[axis];
                $[axis]0 += $t_[axis];
                $[axis]1 += $t_[axis];
            },
            [
                ["X", "Y", "Z"],
                ["0", "1", "2"]
            ]
        );
    }
    function west() {
        // @within find_closest_surface.main()

        data modify storage retina:data List set from storage retina:data Surfaces.West;
        $surfaces = data get storage retina:data List;
        $cuboid_id = $surfaces;
        $cuboid_id --;
        while ($surfaces >= 1) {
            find_closest_surface.store_coords(); // Store all coordinates to scores (List[0] and List[3] should have the same values)

            if ($debug_messages) Text.tellraw(@a, "&<italic,bold>[WEST] &<white>X0: &<light_purple,$X0>");
            execute run {
                if ($output_vec3.X == 0) return 0; // The code block is actually its own function, so this gives control back to the while loop.
                $distance = $X0;
                $distance /= $output_vec3.X;
                if ($debug_messages) Text.tellraw(@a, "&<italic>Distance: &<light_purple,$distance>");

                // If this distance is closer than the minimum distance to a surface hit by the ray found so far, see if the ray intersects with the surface
                if (!$distance < $min_distance_to_surface) return 0;
                
                $X_intersection = $X0; // Get x position of the intersection
            
                // Get y position of the intersection
                $Y_intersection = $X0;
                $Y_intersection *= $output_vec3.Y;
                $Y_intersection /= $output_vec3.X;
            
                // Get z position of the intersection
                $Z_intersection = $X0;
                $Z_intersection *= $output_vec3.Z;
                $Z_intersection /= $output_vec3.X;
            
                if ($debug_messages) Text.tellraw(@a, "&<italic,bold>[WEST] &<!bold>Y-Int: &<!italic,light_purple,$Y_intersection>, &<italic,white>Y0: &<!italic,light_purple,$Y0>, &<italic,white>Y1: &<!italic,light_purple,$Y1>");
                if ($debug_messages) Text.tellraw(@a, "&<italic,bold>[WEST] &<!bold>Z-Int: &<!italic,light_purple,$Z_intersection>, &<italic,white>Z0: &<!italic,light_purple,$Z0>, &<italic,white>Z1: &<!italic,light_purple,$Z1>"); 
                // If the ray hits the surface, return this as the minimum distance and the contact surface
                if ($Y_intersection >= $Y0 && $Y_intersection <= $Y1 && $Z_intersection >= $Z0 && $Z_intersection <= $Z1) {
                    find_closest_surface.ray_intersects_with_surface();
                    data modify storage retina:output HitFace set value "West";
                    if ($check_for_head && $Y_intersection >= $head_Y) data modify storage retina:output HitEntityHead set value true;
                }
            }

            // Loop this function
            data remove storage retina:data List[-1];
            $surfaces --;
            $cuboid_id --;
        }
    }
    function east() {
        // @within find_closest_surface.main()

        data modify storage retina:data List set from storage retina:data Surfaces.East;
        $surfaces = data get storage retina:data List;
        $cuboid_id = $surfaces;
        $cuboid_id --;
        while ($surfaces >= 1) {
            find_closest_surface.store_coords(); // Store all coordinates to scores (List[0] and List[3] should have the same values)
            
            if ($debug_messages) Text.tellraw(@a, "&<italic,bold>[EAST] &<white>X0: &<light_purple,$X0>");
            execute run {
                if ($output_vec3.X == 0) return 0; // The code block is actually its own function, so this gives control back to the while loop.
                $distance = $X0;
                $distance /= $output_vec3.X;
                if ($debug_messages) Text.tellraw(@a, "&<italic>Distance: &<light_purple,$distance>");

                // If this distance is closer than the minimum distance to a surface hit by the ray found so far, see if the ray intersects with the surface
                if (!$distance < $min_distance_to_surface) return 0;

                $X_intersection = $X0; // Get x position of the intersection
            
                // Get y position of the intersection
                $Y_intersection = $X0;
                $Y_intersection *= $output_vec3.Y;
                $Y_intersection /= $output_vec3.X;
            
                // Get z position of the intersection
                $Z_intersection = $X0;
                $Z_intersection *= $output_vec3.Z;
                $Z_intersection /= $output_vec3.X;
            
                if ($debug_messages) Text.tellraw(@a, "&<italic,bold>[EAST] &<!bold>Y-Int: &<!italic,light_purple,$Y_intersection>, &<italic,white>Y0: &<!italic,light_purple,$Y0>, &<italic,white>Y1: &<!italic,light_purple,$Y1>");
                if ($debug_messages) Text.tellraw(@a, "&<italic,bold>[EAST] &<!bold>Z-Int: &<!italic,light_purple,$Z_intersection>, &<italic,white>Z0: &<!italic,light_purple,$Z0>, &<italic,white>Z1: &<!italic,light_purple,$Z1>"); 
                // If the ray hits the surface, return this as the minimum distance and the contact surface
                if ($Y_intersection >= $Y0 && $Y_intersection <= $Y1 && $Z_intersection >= $Z0 && $Z_intersection <= $Z1) {
                    find_closest_surface.ray_intersects_with_surface();
                    data modify storage retina:output HitFace set value "East";
                    if ($check_for_head && $Y_intersection >= $head_Y) data modify storage retina:output HitEntityHead set value true;
                }
            }

            // Loop this function
            data remove storage retina:data List[-1];
            $surfaces --;
            $cuboid_id --;
        }
    }
    function bottom() {
        // @within find_closest_surface.main()

        data modify storage retina:data List set from storage retina:data Surfaces.Bottom;
        $surfaces = data get storage retina:data List;
        $cuboid_id = $surfaces;
        $cuboid_id --;
        while ($surfaces >= 1) {
            find_closest_surface.store_coords(); // Store all coordinates to scores (List[1] and List[4] should have the same values)
            
            if ($debug_messages) Text.tellraw(@a, "&<italic,bold>[BOTTOM] &<white>Y0: &<light_purple,$Y0>");
            execute run {
                if ($output_vec3.Y == 0) return 0; // The code block is actually its own function, so this gives control back to the while loop.
                $distance = $Y0;
                $distance /= $output_vec3.Y;
                if ($debug_messages) Text.tellraw(@a, "&<italic>Distance: &<light_purple,$distance>");

                // If this distance is closer than the minimum distance to a surface hit by the ray found so far, see if the ray intersects with the surface
                if (!$distance < $min_distance_to_surface) return 0;

                // Get x position of the intersection
                $X_intersection = $Y0;
                $X_intersection *= $output_vec3.X;
                $X_intersection /= $output_vec3.Y;
                    
                $Y_intersection = $Y0; // Get y position of the intersection
            
                // Get y position of the intersection
                $Z_intersection = $Y0;
                $Z_intersection *= $output_vec3.Z;
                $Z_intersection /= $output_vec3.Y;

                if ($debug_messages) Text.tellraw(@a, "&<italic,bold>[BOTTOM] &<!bold>X-Int: &<!italic,light_purple,$X_intersection>, &<italic,white>X0: &<!italic,light_purple,$X0>, &<italic,white>X1: &<!italic,light_purple,$X1>");
                if ($debug_messages) Text.tellraw(@a, "&<italic,bold>[BOTTOM] &<!bold>Z-Int: &<!italic,light_purple,$Z_intersection>, &<italic,white>Z0: &<!italic,light_purple,$Z0>, &<italic,white>Z1: &<!italic,light_purple,$Z1>");     
                // If the ray hits the surface, return this as the minimum distance and the contact surface
                if ($X_intersection >= $X0 && $X_intersection <= $X1 && $Z_intersection >= $Z0 && $Z_intersection <= $Z1) {
                    find_closest_surface.ray_intersects_with_surface();
                    data modify storage retina:output HitFace set value "Bottom";
                    if ($check_for_head && $Y_intersection >= $head_Y) data modify storage retina:output HitEntityHead set value true;
                }
            }

            // Loop this function
            data remove storage retina:data List[-1];
            $surfaces --;
            $cuboid_id --;
        }
    }
    function top() {
        // @within find_closest_surface.main()

        data modify storage retina:data List set from storage retina:data Surfaces.Top;
        $surfaces = data get storage retina:data List;
        $cuboid_id = $surfaces;
        $cuboid_id --;
        while ($surfaces >= 1) {
            find_closest_surface.store_coords(); // Store all coordinates to scores (List[1] and List[4] should have the same values)

            if ($debug_messages) Text.tellraw(@a, "&<italic,bold>[TOP] &<white>Y0: &<light_purple,$Y0>");
            execute run {
                if ($output_vec3.Y == 0) return 0; // The code block is actually its own function, so this gives control back to the while loop.
                $distance = $Y0;
                $distance /= $output_vec3.Y;
                if ($debug_messages) Text.tellraw(@a, "&<italic>Distance: &<light_purple,$distance>");

                // If this distance is closer than the minimum distance to a surface hit by the ray found so far, see if the ray intersects with the surface
                if (!$distance < $min_distance_to_surface) return 0;

                // Get x position of the intersection
                $X_intersection = $Y0;
                $X_intersection *= $output_vec3.X;
                $X_intersection /= $output_vec3.Y;
                    
                $Y_intersection = $Y0; // Get y position of the intersection
            
                // Get y position of the intersection
                $Z_intersection = $Y0;
                $Z_intersection *= $output_vec3.Z;
                $Z_intersection /= $output_vec3.Y;  
            
                if ($debug_messages) Text.tellraw(@a, "&<italic,bold>[TOP] &<!bold>X-Int: &<!italic,light_purple,$X_intersection>, &<italic,white>X0: &<!italic,light_purple,$X0>, &<italic,white>X1: &<!italic,light_purple,$X1>");
                if ($debug_messages) Text.tellraw(@a, "&<italic,bold>[TOP] &<!bold>Z-Int: &<!italic,light_purple,$Z_intersection>, &<italic,white>Z0: &<!italic,light_purple,$Z0>, &<italic,white>Z1: &<!italic,light_purple,$Z1>");     
                // If the ray hits the surface, return this as the minimum distance and the contact surface
                if ($X_intersection >= $X0 && $X_intersection <= $X1 && $Z_intersection >= $Z0 && $Z_intersection <= $Z1) {
                    find_closest_surface.ray_intersects_with_surface();
                    data modify storage retina:output HitFace set value "Top";
                    if ($check_for_head && $Y_intersection >= $head_Y) data modify storage retina:output HitEntityHead set value true;
                }
            }

            // Loop this function
            data remove storage retina:data List[-1];
            $surfaces --;
            $cuboid_id --;
        }
    }
    function north() {
        // @within find_closest_surface.main()

        data modify storage retina:data List set from storage retina:data Surfaces.North;
        $surfaces = data get storage retina:data List;
        $cuboid_id = $surfaces;
        $cuboid_id --;
        while ($surfaces >= 1) {
            find_closest_surface.store_coords(); // Store all coordinates to scores (List[2] and List[5] should have the same values)
            
            if ($debug_messages) Text.tellraw(@a, "&<italic,bold>[NORTH] &<white>Z0: &<light_purple,$Z0>");
            execute run {
                if ($output_vec3.Z == 0) return 0; // The code block is actually its own function, so this gives control back to the while loop.
                $distance = $Z0;
                $distance /= $output_vec3.Z;
                if ($debug_messages) Text.tellraw(@a, "&<italic>Distance: &<light_purple,$distance>");

                // If this distance is closer than the minimum distance to a surface hit by the ray found so far, see if the ray intersects with the surface
                if (!$distance < $min_distance_to_surface) return 0;

                // Get x position of the intersection
                $X_intersection = $Z0;
                $X_intersection *= $output_vec3.X;
                $X_intersection /= $output_vec3.Z;
                    
                // Get y position of the intersection
                $Y_intersection = $Z0;
                $Y_intersection *= $output_vec3.Y;
                $Y_intersection /= $output_vec3.Z;
                
                $Z_intersection = $Z0; // Get z position of the intersection
            
                if ($debug_messages) Text.tellraw(@a, "&<italic,bold>[NORTH] &<!bold>X-Int: &<!italic,light_purple,$X_intersection>, &<italic,white>X0: &<!italic,light_purple,$X0>, &<italic,white>X1: &<!italic,light_purple,$X1>");
                if ($debug_messages) Text.tellraw(@a, "&<italic,bold>[NORTH] &<!bold>Y-Int: &<!italic,light_purple,$Y_intersection>, &<italic,white>Y0: &<!italic,light_purple,$Y0>, &<italic,white>Y1: &<!italic,light_purple,$Y1>"); 
                // If the ray hits the surface, return this as the minimum distance and the contact surface
                if ($X_intersection >= $X0 && $X_intersection <= $X1 && $Y_intersection >= $Y0 && $Y_intersection <= $Y1) {
                    find_closest_surface.ray_intersects_with_surface();
                    data modify storage retina:output HitFace set value "North";
                    if ($check_for_head && $Y_intersection >= $head_Y) data modify storage retina:output HitEntityHead set value true;
                }
            }

            // Loop this function
            data remove storage retina:data List[-1];
            $surfaces --;
            $cuboid_id --;
        }
    }
    function south() {
        // @within find_closest_surface.main()

        data modify storage retina:data List set from storage retina:data Surfaces.South;
        $surfaces = data get storage retina:data List;
        $cuboid_id = $surfaces;
        $cuboid_id --;
        while ($surfaces >= 1) {
            find_closest_surface.store_coords(); // Store all coordinates to scores (List[2] and List[5] should have the same values)
            
            if ($debug_messages) Text.tellraw(@a, "&<italic,bold>[SOUTH] &<white>Z0: &<light_purple,$Z0>");
            execute run {
                if ($output_vec3.Z == 0) return 0; // The code block is actually its own function, so this gives control back to the while loop.
                $distance = $Z0;
                $distance /= $output_vec3.Z;
                if ($debug_messages) Text.tellraw(@a, "&<italic>Distance: &<light_purple,$distance>");
            
                // If this distance is closer than the minimum distance to a surface hit by the ray found so far, see if the ray intersects with the surface
                if (!$distance < $min_distance_to_surface) return 0;

                // Get x position of the intersection
                $X_intersection = $Z0;
                $X_intersection *= $output_vec3.X;
                $X_intersection /= $output_vec3.Z;
                    
                // Get y position of the intersection
                $Y_intersection = $Z0;
                $Y_intersection *= $output_vec3.Y;
                $Y_intersection /= $output_vec3.Z;
                
                $Z_intersection = $Z0; // Get z position of the intersection
            
                if ($debug_messages) Text.tellraw(@a, "&<italic,bold>[SOUTH] &<!bold>X-Int: &<!italic,light_purple,$X_intersection>, &<italic,white>X0: &<!italic,light_purple,$X0>, &<italic,white>X1: &<!italic,light_purple,$X1>");
                if ($debug_messages) Text.tellraw(@a, "&<italic,bold>[SOUTH] &<!bold>Y-Int: &<!italic,light_purple,$Y_intersection>, &<italic,white>Y0: &<!italic,light_purple,$Y0>, &<italic,white>Y1: &<!italic,light_purple,$Y1>"); 
                // If the ray hits the surface, return this as the minimum distance and the contact surface
                if ($X_intersection >= $X0 && $X_intersection <= $X1 && $Y_intersection >= $Y0 && $Y_intersection <= $Y1) {
                    find_closest_surface.ray_intersects_with_surface();
                    data modify storage retina:output HitFace set value "South";
                    if ($check_for_head && $Y_intersection >= $head_Y) data modify storage retina:output HitEntityHead set value true;
                }
            }

            // Loop this function
            data remove storage retina:data List[-1];
            $surfaces --;
            $cuboid_id --;
        }
    }

    function ray_intersects_with_surface() {
        // Establishes the current surface as the first the ray will hit.
        // This function only runs if the ray is closer to this surface than it is to any other surface analysed so far, but there is no guarantee that this is the surface the ray will eventually hit first.
        
        // @within find_closest_surface.bottom()
        // @within find_closest_surface.east()
        // @within find_closest_surface.north()
        // @within find_closest_surface.south()
        // @within find_closest_surface.top()
        // @within find_closest_surface.west()

        $contact = true;
        $closest_cuboid_id = $cuboid_id;
        $min_distance_to_surface = $distance;

        $targeted_X = $X_intersection;
        $targeted_Y = $Y_intersection;
        $targeted_Z = $Z_intersection;
        data modify storage retina:data ContactSurface set from storage retina:data List[-1];
    }
}

class hitbox {
    function amethyst() {
        if (block ~ ~ ~ minecraft:small_amethyst_bud[facing=up]) data modify storage retina:data Surfaces set value {Top:[[120, 90, 120, 360, 90, 360]], Bottom:[[120, 0, 120, 360, 0, 360]], West:[[120, 0, 120, 120, 90, 360]], East:[[360, 0, 120, 360, 90, 360]], North:[[120, 0, 120, 360, 90, 120]], South:[[120, 0, 360, 360, 90, 360]]}
        if (block ~ ~ ~ minecraft:small_amethyst_bud[facing=down]) data modify storage retina:data Surfaces set value {Top:[[120, 480, 120, 360, 480, 360]], Bottom:[[120, 390, 120, 360, 390, 360]], West:[[120, 390, 120, 120, 480, 360]], East:[[360, 390, 120, 360, 480, 360]], North:[[120, 390, 120, 360, 480, 120]], South:[[120, 390, 360, 360, 480, 360]]}
        if (block ~ ~ ~ minecraft:small_amethyst_bud[facing=north]) data modify storage retina:data Surfaces set value {Top:[[120, 360, 390, 360, 360, 480]], Bottom:[[120, 120, 390, 360, 120, 480]], West:[[120, 120, 390, 120, 360, 480]], East:[[360, 120, 390, 360, 360, 480]], North:[[120, 120, 390, 360, 360, 390]], South:[[120, 120, 480, 360, 360, 480]]}
        if (block ~ ~ ~ minecraft:small_amethyst_bud[facing=south]) data modify storage retina:data Surfaces set value {Top:[[120, 360, 0, 360, 360, 90]], Bottom:[[120, 120, 0, 360, 120, 90]], West:[[120, 120, 0, 120, 360, 90]], East:[[360, 120, 0, 360, 360, 90]], North:[[120, 120, 0, 360, 360, 0]], South:[[120, 120, 90, 360, 360, 90]]}
        if (block ~ ~ ~ minecraft:small_amethyst_bud[facing=east]) data modify storage retina:data Surfaces set value {Top:[[0, 360, 120, 90, 360, 360]], Bottom:[[0, 120, 120, 90, 120, 360]], West:[[0, 120, 120, 0, 360, 360]], East:[[90, 120, 120, 90, 360, 360]], North:[[0, 120, 120, 90, 360, 120]], South:[[0, 120, 360, 90, 360, 360]]}
        if (block ~ ~ ~ minecraft:small_amethyst_bud[facing=west]) data modify storage retina:data Surfaces set value {Top:[[390, 360, 120, 480, 360, 360]], Bottom:[[390, 120, 120, 480, 120, 360]], West:[[390, 120, 120, 390, 360, 360]], East:[[480, 120, 120, 480, 360, 360]], North:[[390, 120, 120, 480, 360, 120]], South:[[390, 120, 360, 480, 360, 360]]}
        if (block ~ ~ ~ minecraft:small_amethyst_bud) return 1;
    
        if (block ~ ~ ~ minecraft:medium_amethyst_bud[facing=up]) data modify storage retina:data Surfaces set value {Top:[[90, 120, 90, 390, 120, 390]], Bottom:[[90, 0, 90, 390, 0, 390]], West:[[90, 0, 90, 90, 120, 390]], East:[[390, 0, 90, 390, 120, 390]], North:[[90, 0, 90, 390, 120, 90]], South:[[90, 0, 390, 390, 120, 390]]}
        if (block ~ ~ ~ minecraft:medium_amethyst_bud[facing=down]) data modify storage retina:data Surfaces set value {Top:[[90, 480, 90, 390, 480, 390]], Bottom:[[90, 360, 90, 390, 360, 390]], West:[[90, 360, 90, 90, 480, 390]], East:[[390, 360, 90, 390, 480, 390]], North:[[90, 360, 90, 390, 480, 90]], South:[[90, 360, 390, 390, 480, 390]]}
        if (block ~ ~ ~ minecraft:medium_amethyst_bud[facing=north]) data modify storage retina:data Surfaces set value {Top:[[90, 390, 360, 390, 390, 480]], Bottom:[[90, 90, 360, 390, 90, 480]], West:[[90, 90, 360, 90, 390, 480]], East:[[390, 90, 360, 390, 390, 480]], North:[[90, 90, 360, 390, 390, 360]], South:[[90, 90, 480, 390, 390, 480]]}
        if (block ~ ~ ~ minecraft:medium_amethyst_bud[facing=south]) data modify storage retina:data Surfaces set value {Top:[[90, 390, 0, 390, 390, 120]], Bottom:[[90, 90, 0, 390, 90, 120]], West:[[90, 90, 0, 90, 390, 120]], East:[[390, 90, 0, 390, 390, 120]], North:[[90, 90, 0, 390, 390, 0]], South:[[90, 90, 120, 390, 390, 120]]}
        if (block ~ ~ ~ minecraft:medium_amethyst_bud[facing=east]) data modify storage retina:data Surfaces set value {Top:[[0, 390, 90, 120, 390, 390]], Bottom:[[0, 90, 90, 120, 90, 390]], West:[[0, 90, 90, 0, 390, 390]], East:[[120, 90, 90, 120, 390, 390]], North:[[0, 90, 90, 120, 390, 90]], South:[[0, 90, 390, 120, 390, 390]]}
        if (block ~ ~ ~ minecraft:medium_amethyst_bud[facing=west]) data modify storage retina:data Surfaces set value {Top:[[360, 390, 90, 480, 390, 390]], Bottom:[[360, 90, 90, 480, 90, 390]], West:[[360, 90, 90, 360, 390, 390]], East:[[480, 90, 90, 480, 390, 390]], North:[[360, 90, 90, 480, 390, 90]], South:[[360, 90, 390, 480, 390, 390]]}
        if (block ~ ~ ~ minecraft:medium_amethyst_bud) return 1;
    
        if (block ~ ~ ~ minecraft:large_amethyst_bud[facing=up]) data modify storage retina:data Surfaces set value {Top:[[90, 150, 90, 390, 150, 390]], Bottom:[[90, 0, 90, 390, 0, 390]], West:[[90, 0, 90, 90, 150, 390]], East:[[390, 0, 90, 390, 150, 390]], North:[[90, 0, 90, 390, 150, 90]], South:[[90, 0, 390, 390, 150, 390]]}
        if (block ~ ~ ~ minecraft:large_amethyst_bud[facing=down]) data modify storage retina:data Surfaces set value {Top:[[90, 480, 90, 390, 480, 390]], Bottom:[[90, 330, 90, 390, 330, 390]], West:[[90, 330, 90, 90, 480, 390]], East:[[390, 330, 90, 390, 480, 390]], North:[[90, 330, 90, 390, 480, 90]], South:[[90, 330, 390, 390, 480, 390]]}
        if (block ~ ~ ~ minecraft:large_amethyst_bud[facing=north]) data modify storage retina:data Surfaces set value {Top:[[90, 390, 330, 390, 390, 480]], Bottom:[[90, 90, 330, 390, 90, 480]], West:[[90, 90, 330, 90, 390, 480]], East:[[390, 90, 330, 390, 390, 480]], North:[[90, 90, 330, 390, 390, 330]], South:[[90, 90, 480, 390, 390, 480]]}
        if (block ~ ~ ~ minecraft:large_amethyst_bud[facing=south]) data modify storage retina:data Surfaces set value {Top:[[90, 390, 0, 390, 390, 150]], Bottom:[[90, 90, 0, 390, 90, 150]], West:[[90, 90, 0, 90, 390, 150]], East:[[390, 90, 0, 390, 390, 150]], North:[[90, 90, 0, 390, 390, 0]], South:[[90, 90, 150, 390, 390, 150]]}
        if (block ~ ~ ~ minecraft:large_amethyst_bud[facing=east]) data modify storage retina:data Surfaces set value {Top:[[0, 390, 90, 150, 390, 390]], Bottom:[[0, 90, 90, 150, 90, 390]], West:[[0, 90, 90, 0, 390, 390]], East:[[150, 90, 90, 150, 390, 390]], North:[[0, 90, 90, 150, 390, 90]], South:[[0, 90, 390, 150, 390, 390]]}
        if (block ~ ~ ~ minecraft:large_amethyst_bud[facing=west]) data modify storage retina:data Surfaces set value {Top:[[330, 390, 90, 480, 390, 390]], Bottom:[[330, 90, 90, 480, 90, 390]], West:[[330, 90, 90, 330, 390, 390]], East:[[480, 90, 90, 480, 390, 390]], North:[[330, 90, 90, 480, 390, 90]], South:[[330, 90, 390, 480, 390, 390]]}
        if (block ~ ~ ~ minecraft:large_amethyst_bud) return 1;

        if (block ~ ~ ~ minecraft:amethyst_cluster[facing=up]) data modify storage retina:data Surfaces set value {Top:[[90, 210, 90, 390, 210, 390]], Bottom:[[90, 0, 90, 390, 0, 390]], West:[[90, 0, 90, 90, 210, 390]], East:[[390, 0, 90, 390, 210, 390]], North:[[90, 0, 90, 390, 210, 90]], South:[[90, 0, 390, 390, 210, 390]]}
        if (block ~ ~ ~ minecraft:amethyst_cluster[facing=down]) data modify storage retina:data Surfaces set value {Top:[[90, 480, 90, 390, 480, 390]], Bottom:[[90, 270, 90, 390, 270, 390]], West:[[90, 270, 90, 90, 480, 390]], East:[[390, 270, 90, 390, 480, 390]], North:[[90, 270, 90, 390, 480, 90]], South:[[90, 270, 390, 390, 480, 390]]}
        if (block ~ ~ ~ minecraft:amethyst_cluster[facing=north]) data modify storage retina:data Surfaces set value {Top:[[90, 390, 270, 390, 390, 480]], Bottom:[[90, 90, 270, 390, 90, 480]], West:[[90, 90, 270, 90, 390, 480]], East:[[390, 90, 270, 390, 390, 480]], North:[[90, 90, 270, 390, 390, 270]], South:[[90, 90, 480, 390, 390, 480]]}
        if (block ~ ~ ~ minecraft:amethyst_cluster[facing=south]) data modify storage retina:data Surfaces set value {Top:[[90, 390, 0, 390, 390, 210]], Bottom:[[90, 90, 0, 390, 90, 210]], West:[[90, 90, 0, 90, 390, 210]], East:[[390, 90, 0, 390, 390, 210]], North:[[90, 90, 0, 390, 390, 0]], South:[[90, 90, 210, 390, 390, 210]]}
        if (block ~ ~ ~ minecraft:amethyst_cluster[facing=east]) data modify storage retina:data Surfaces set value {Top:[[0, 390, 90, 210, 390, 390]], Bottom:[[0, 90, 90, 210, 90, 390]], West:[[0, 90, 90, 0, 390, 390]], East:[[210, 90, 90, 210, 390, 390]], North:[[0, 90, 90, 210, 390, 90]], South:[[0, 90, 390, 210, 390, 390]]}
        if (block ~ ~ ~ minecraft:amethyst_cluster[facing=west]) data modify storage retina:data Surfaces set value {Top:[[270, 390, 90, 480, 390, 390]], Bottom:[[270, 90, 90, 480, 90, 390]], West:[[270, 90, 90, 270, 390, 390]], East:[[480, 90, 90, 480, 390, 390]], North:[[270, 90, 90, 480, 390, 90]], South:[[270, 90, 390, 480, 390, 390]]}
    }
    function anvil() {
        data modify storage retina:data Surfaces set value {Top: [[60, 120, 60, 420, 120, 420]], Bottom: [[60, 0, 60, 420, 0, 420]], West: [[60, 0, 60, 60, 120, 420]], East: [[420, 0, 60, 420, 120, 420]], North: [[60, 0, 60, 420, 120, 60]], South: [[60, 0, 420, 420, 120, 420]]};

        // East or West
        if (!block ~ ~ ~ #minecraft:anvil[facing=north] && !block ~ ~ ~ #minecraft:anvil[facing=south]) data modify storage retina:data NewSurfaces.Top set value [[90, 150, 120, 390, 150, 360], [120, 300, 180, 360, 300, 300], [0, 480, 90, 480, 480, 390]];
        if (!block ~ ~ ~ #minecraft:anvil[facing=north] && !block ~ ~ ~ #minecraft:anvil[facing=south]) data modify storage retina:data NewSurfaces.Bottom set value [[90, 120, 120, 390, 120, 360], [120, 150, 180, 360, 150, 300], [0, 300, 90, 480, 300, 390]];
        if (!block ~ ~ ~ #minecraft:anvil[facing=north] && !block ~ ~ ~ #minecraft:anvil[facing=south]) data modify storage retina:data NewSurfaces.West set value [[90, 120, 120, 90, 150, 360], [120, 150, 180, 120, 300, 300], [0, 300, 90, 0, 480, 390]];
        if (!block ~ ~ ~ #minecraft:anvil[facing=north] && !block ~ ~ ~ #minecraft:anvil[facing=south]) data modify storage retina:data NewSurfaces.East set value [[390, 120, 120, 390, 150, 360], [360, 150, 180, 360, 300, 300], [480, 300, 90, 480, 480, 390]];
        if (!block ~ ~ ~ #minecraft:anvil[facing=north] && !block ~ ~ ~ #minecraft:anvil[facing=south]) data modify storage retina:data NewSurfaces.North set value [[90, 120, 120, 390, 150, 120], [120, 150, 180, 360, 300, 180], [0, 300, 90, 480, 480, 90]];
        if (!block ~ ~ ~ #minecraft:anvil[facing=north] && !block ~ ~ ~ #minecraft:anvil[facing=south]) data modify storage retina:data NewSurfaces.South set value [[90, 120, 360, 390, 150, 360], [120, 150, 300, 360, 300, 300], [0, 300, 390, 480, 480, 390]];

        // North or South
        if (!block ~ ~ ~ #minecraft:anvil[facing=east] && !block ~ ~ ~ #minecraft:anvil[facing=west]) data modify storage retina:data NewSurfaces.Top set value [[120, 150, 90, 360, 150, 390], [180, 300, 120, 300, 300, 360], [90, 480, 0, 390, 480, 480]];
        if (!block ~ ~ ~ #minecraft:anvil[facing=east] && !block ~ ~ ~ #minecraft:anvil[facing=west]) data modify storage retina:data NewSurfaces.Bottom set value [[120, 120, 90, 360, 120, 390], [180, 150, 120, 300, 150, 360], [90, 300, 0, 390, 300, 480]];
        if (!block ~ ~ ~ #minecraft:anvil[facing=east] && !block ~ ~ ~ #minecraft:anvil[facing=west]) data modify storage retina:data NewSurfaces.West set value [[120, 120, 90, 120, 150, 390], [180, 150, 120, 180, 300, 360], [90, 300, 0, 90, 480, 480]];
        if (!block ~ ~ ~ #minecraft:anvil[facing=east] && !block ~ ~ ~ #minecraft:anvil[facing=west]) data modify storage retina:data NewSurfaces.East set value [[360, 120, 90, 360, 150, 390], [300, 150, 120, 300, 300, 360], [390, 300, 0, 390, 480, 480]];
        if (!block ~ ~ ~ #minecraft:anvil[facing=east] && !block ~ ~ ~ #minecraft:anvil[facing=west]) data modify storage retina:data NewSurfaces.North set value [[120, 120, 90, 360, 150, 90], [180, 150, 120, 300, 300, 120], [90, 300, 0, 390, 480, 0]];
        if (!block ~ ~ ~ #minecraft:anvil[facing=east] && !block ~ ~ ~ #minecraft:anvil[facing=west]) data modify storage retina:data NewSurfaces.South set value [[120, 120, 390, 360, 150, 390], [180, 150, 360, 300, 300, 360], [90, 300, 480, 390, 480, 480]];

        // Add to retina:data (using another storage is needed here as you cannot append several values to a list directly)
        data modify storage retina:data Surfaces.Top append from storage retina:data NewSurfaces.Top[];
        data modify storage retina:data Surfaces.Bottom append from storage retina:data NewSurfaces.Bottom[];
        data modify storage retina:data Surfaces.West append from storage retina:data NewSurfaces.West[];
        data modify storage retina:data Surfaces.East append from storage retina:data NewSurfaces.East[];
        data modify storage retina:data Surfaces.North append from storage retina:data NewSurfaces.North[];
        data modify storage retina:data Surfaces.South append from storage retina:data NewSurfaces.South[];
    }
    function attached_stem() {
        if (block ~ ~ ~ #retina:attached_stem[facing=east]) data modify storage retina:data Surfaces set value {Top: [[180, 300, 180, 480, 300, 300]], Bottom: [[180, 0, 180, 480, 0, 300]], West: [[180, 0, 180, 180, 300, 300]], East: [[480, 0, 180, 480, 300, 300]], North: [[180, 0, 180, 480, 300, 180]], South: [[180, 0, 300, 480, 300, 300]]}
        if (block ~ ~ ~ #retina:attached_stem[facing=west]) data modify storage retina:data Surfaces set value {Top: [[0, 300, 180, 300, 300, 300]], Bottom: [[0, 0, 180, 300, 0, 300]], West: [[0, 0, 180, 0, 300, 300]], East: [[300, 0, 180, 300, 300, 300]], North: [[0, 0, 180, 300, 300, 180]], South: [[0, 0, 300, 300, 300, 300]]}
        if (block ~ ~ ~ #retina:attached_stem[facing=north]) data modify storage retina:data Surfaces set value {Top: [[180, 300, 0, 300, 300, 300]], Bottom: [[180, 0, 0, 300, 0, 300]], West: [[180, 0, 0, 180, 300, 300]], East: [[300, 0, 0, 300, 300, 300]], North: [[180, 0, 0, 300, 300, 0]], South: [[180, 0, 300, 300, 300, 300]]}
        if (block ~ ~ ~ #retina:attached_stem[facing=south]) data modify storage retina:data Surfaces set value {Top: [[180, 300, 180, 300, 300, 480]], Bottom: [[180, 0, 180, 300, 0, 480]], West: [[180, 0, 180, 180, 300, 480]], East: [[300, 0, 180, 300, 300, 480]], North: [[180, 0, 180, 300, 300, 180]], South: [[180, 0, 480, 300, 300, 480]]}
    }
    function azalea() {
        data modify storage retina:data Surfaces set value {Top:[[0, 480, 0, 390, 480, 480], [180, 240, 180, 300, 240, 300]], Bottom:[[0, 240, 0, 390, 240, 480], [180, 0, 180, 300, 0, 300]], West:[[0, 240, 0, 0, 480, 480], [180, 0, 180, 180, 240, 300]], East:[[390, 240, 0, 390, 480, 480], [300, 0, 180, 300, 240, 300]], North:[[0, 240, 0, 390, 480, 0], [180, 0, 180, 300, 240, 180]], South:[[0, 240, 480, 390, 480, 480], [180, 0, 300, 300, 240, 300]]};
    }
    function bed() {
        if (block ~ ~ ~ #minecraft:beds[part=foot, facing=east]) data modify storage retina:data Surfaces set value {Top: [[0, 270, 0, 480, 270, 480], [0, 90, 0, 90, 90, 90], [0, 90, 390, 90, 90, 480]], Bottom: [[0, 90, 0, 480, 90, 480], [0, 0, 0, 90, 0, 90], [0, 0, 390, 90, 0, 480]], West: [[0, 90, 0, 0, 270, 480], [0, 0, 0, 0, 90, 90], [0, 0, 390, 0, 90, 480]], East: [[480, 90, 0, 480, 270, 480], [90, 0, 0, 90, 90, 90], [90, 0, 390, 90, 90, 480]], North: [[0, 90, 0, 480, 270, 0], [0, 0, 0, 90, 90, 0], [0, 0, 390, 90, 90, 390]], South: [[0, 90, 480, 480, 270, 480], [0, 0, 90, 90, 90, 90], [0, 0, 480, 90, 90, 480]]}
        if (block ~ ~ ~ #minecraft:beds[part=foot, facing=south]) data modify storage retina:data Surfaces set value {Top: [[0, 270, 0, 480, 270, 480], [0, 90, 0, 90, 90, 90], [390, 90, 0, 480, 90, 90]], Bottom: [[0, 90, 0, 480, 90, 480], [0, 0, 0, 90, 0, 90], [390, 0, 0, 480, 0, 90]], West: [[0, 90, 0, 0, 270, 480], [0, 0, 0, 0, 90, 90], [390, 0, 0, 390, 90, 90]], East: [[480, 90, 0, 480, 270, 480], [90, 0, 0, 90, 90, 90], [480, 0, 0, 480, 90, 90]], North: [[0, 90, 0, 480, 270, 0], [0, 0, 0, 90, 90, 0], [390, 0, 0, 480, 90, 0]], South: [[0, 90, 480, 480, 270, 480], [0, 0, 90, 90, 90, 90], [390, 0, 90, 480, 90, 90]]}
        if (block ~ ~ ~ #minecraft:beds[part=foot, facing=west]) data modify storage retina:data Surfaces set value {Top: [[0, 270, 0, 480, 270, 480], [390, 90, 390, 480, 90, 480], [390, 90, 0, 480, 90, 90]], Bottom: [[0, 90, 0, 480, 90, 480], [390, 0, 390, 480, 0, 480], [390, 0, 0, 480, 0, 90]], West: [[0, 90, 0, 0, 270, 480], [390, 0, 390, 390, 90, 480], [390, 0, 0, 390, 90, 90]], East: [[480, 90, 0, 480, 270, 480], [480, 0, 390, 480, 90, 480], [480, 0, 0, 480, 90, 90]], North: [[0, 90, 0, 480, 270, 0], [390, 0, 390, 480, 90, 390], [390, 0, 0, 480, 90, 0]], South: [[0, 90, 480, 480, 270, 480], [390, 0, 480, 480, 90, 480], [390, 0, 90, 480, 90, 90]]}
        if (block ~ ~ ~ #minecraft:beds[part=foot, facing=north]) data modify storage retina:data Surfaces set value {Top: [[0, 270, 0, 480, 270, 480], [390, 90, 390, 480, 90, 480], [0, 90, 390, 90, 90, 480]], Bottom: [[0, 90, 0, 480, 90, 480], [390, 0, 390, 480, 0, 480], [0, 0, 390, 90, 0, 480]], West: [[0, 90, 0, 0, 270, 480], [390, 0, 390, 390, 90, 480], [0, 0, 390, 0, 90, 480]], East: [[480, 90, 0, 480, 270, 480], [480, 0, 390, 480, 90, 480], [90, 0, 390, 90, 90, 480]], North: [[0, 90, 0, 480, 270, 0], [390, 0, 390, 480, 90, 390], [0, 0, 390, 90, 90, 390]], South: [[0, 90, 480, 480, 270, 480], [390, 0, 480, 480, 90, 480], [0, 0, 480, 90, 90, 480]]}

        if (block ~ ~ ~ #minecraft:beds[part=head, facing=east]) data modify storage retina:data Surfaces set value {Top: [[0, 270, 0, 480, 270, 480], [390, 90, 390, 480, 90, 480], [390, 90, 0, 480, 90, 90]], Bottom: [[0, 90, 0, 480, 90, 480], [390, 0, 390, 480, 0, 480], [390, 0, 0, 480, 0, 90]], West: [[0, 90, 0, 0, 270, 480], [390, 0, 390, 390, 90, 480], [390, 0, 0, 390, 90, 90]], East: [[480, 90, 0, 480, 270, 480], [480, 0, 390, 480, 90, 480], [480, 0, 0, 480, 90, 90]], North: [[0, 90, 0, 480, 270, 0], [390, 0, 390, 480, 90, 390], [390, 0, 0, 480, 90, 0]], South: [[0, 90, 480, 480, 270, 480], [390, 0, 480, 480, 90, 480], [390, 0, 90, 480, 90, 90]]}
        if (block ~ ~ ~ #minecraft:beds[part=head, facing=south]) data modify storage retina:data Surfaces set value {Top: [[0, 270, 0, 480, 270, 480], [390, 90, 390, 480, 90, 480], [0, 90, 390, 90, 90, 480]], Bottom: [[0, 90, 0, 480, 90, 480], [390, 0, 390, 480, 0, 480], [0, 0, 390, 90, 0, 480]], West: [[0, 90, 0, 0, 270, 480], [390, 0, 390, 390, 90, 480], [0, 0, 390, 0, 90, 480]], East: [[480, 90, 0, 480, 270, 480], [480, 0, 390, 480, 90, 480], [90, 0, 390, 90, 90, 480]], North: [[0, 90, 0, 480, 270, 0], [390, 0, 390, 480, 90, 390], [0, 0, 390, 90, 90, 390]], South: [[0, 90, 480, 480, 270, 480], [390, 0, 480, 480, 90, 480], [0, 0, 480, 90, 90, 480]]}
        if (block ~ ~ ~ #minecraft:beds[part=head, facing=west]) data modify storage retina:data Surfaces set value {Top: [[0, 270, 0, 480, 270, 480], [0, 90, 0, 90, 90, 90], [0, 90, 390, 90, 90, 480]], Bottom: [[0, 90, 0, 480, 90, 480], [0, 0, 0, 90, 0, 90], [0, 0, 390, 90, 0, 480]], West: [[0, 90, 0, 0, 270, 480], [0, 0, 0, 0, 90, 90], [0, 0, 390, 0, 90, 480]], East: [[480, 90, 0, 480, 270, 480], [90, 0, 0, 90, 90, 90], [90, 0, 390, 90, 90, 480]], North: [[0, 90, 0, 480, 270, 0], [0, 0, 0, 90, 90, 0], [0, 0, 390, 90, 90, 390]], South: [[0, 90, 480, 480, 270, 480], [0, 0, 90, 90, 90, 90], [0, 0, 480, 90, 90, 480]]}
        if (block ~ ~ ~ #minecraft:beds[part=head, facing=north]) data modify storage retina:data Surfaces set value {Top: [[0, 270, 0, 480, 270, 480], [390, 90, 0, 480, 90, 90], [0, 90, 0, 90, 90, 90]], Bottom: [[0, 90, 0, 480, 90, 480], [390, 0, 0, 480, 0, 90], [0, 0, 0, 90, 0, 90]], West: [[0, 90, 0, 0, 270, 480], [390, 0, 0, 390, 90, 90], [0, 0, 0, 0, 90, 90]], East: [[480, 90, 0, 480, 270, 480], [480, 0, 0, 480, 90, 90], [90, 0, 0, 90, 90, 90]], North: [[0, 90, 0, 480, 270, 0], [390, 0, 0, 480, 90, 0], [0, 0, 0, 90, 90, 0]], South: [[0, 90, 480, 480, 270, 480], [390, 0, 90, 480, 90, 90], [0, 0, 90, 90, 90, 90]]}
    }
    function bell() {
        // floor bell = single AABB
        if (block ~ ~ ~ minecraft:bell[attachment=floor] && !block ~ ~ ~ minecraft:bell[facing=north] && !block ~ ~ ~ minecraft:bell[facing=south]) data modify storage retina:data Surfaces set value {Top: [[120, 480, 0, 360, 480, 480]], Bottom: [[120, 0, 0, 360, 0, 480]], West: [[120, 0, 0, 120, 480, 480]], East: [[360, 0, 0, 360, 480, 480]], North: [[120, 0, 0, 360, 480, 0]], South: [[120, 0, 480, 360, 480, 480]]}
        if (block ~ ~ ~ minecraft:bell[attachment=floor] && !block ~ ~ ~ minecraft:bell[facing=east] && !block ~ ~ ~ minecraft:bell[facing=west]) data modify storage retina:data Surfaces set value {Top: [[0, 480, 120, 480, 480, 360]], Bottom: [[0, 0, 120, 480, 0, 360]], West: [[0, 0, 120, 0, 480, 360]], East: [[480, 0, 120, 480, 480, 360]], North: [[0, 0, 120, 480, 480, 120]], South: [[0, 0, 360, 480, 480, 360]]}
        if (block ~ ~ ~ minecraft:bell[attachment=floor]) return 1;

        // otherwise, bell shape is two seperate cuboids
        data modify storage retina:data Surfaces set value {Top: [[150, 390, 150, 330, 390, 330], [120, 180, 120, 360, 180, 360]], Bottom: [[150, 180, 150, 330, 180, 330], [120, 120, 120, 360, 120, 360]], West: [[150, 180, 150, 150, 390, 330], [120, 120, 120, 120, 180, 360]], East: [[330, 180, 150, 330, 390, 330], [420, 120, 120, 360, 180, 360]], North: [[150, 180, 150, 330, 390, 150], [120, 120, 120, 360, 180, 120]], South: [[150, 180, 330, 330, 390, 330], [120, 120, 360, 360, 180, 360]]};
    }
    function berries() {
        if (block ~ ~ ~ minecraft:sweet_berry_bush[age=0]) data modify storage retina:data Surfaces set value {Top: [[90, 240, 90, 390, 240, 390]], Bottom: [[90, 0, 90, 390, 0, 390]], West: [[90, 0, 90, 90, 240, 390]], East: [[390, 0, 90, 390, 240, 390]], North: [[90, 0, 90, 390, 240, 90]], South: [[90, 0, 390, 390, 240, 390]]}
        if (block ~ ~ ~ minecraft:sweet_berry_bush[age=1]) hitbox.cactus_shaped();
        if (block ~ ~ ~ minecraft:sweet_berry_bush[age=2]) hitbox.cactus_shaped();
        if (block ~ ~ ~ minecraft:sweet_berry_bush[age=3]) hitbox.cubic();
    }
    function big_dripleaf() {
        if (block ~ ~ ~ minecraft:big_dripleaf[facing=north]) data modify storage retina:data Surfaces set value {Top:[[150, 390, 270, 330, 390, 450]], Bottom:[[150, 0, 270, 330, 0, 450]], West:[[150, 0, 270, 150, 390, 450]], East:[[330, 0, 270, 330, 390, 450]], North:[[150, 0, 270, 330, 390, 270]], South:[[150, 0, 450, 330, 390, 450]]}
        if (block ~ ~ ~ minecraft:big_dripleaf[facing=south]) data modify storage retina:data Surfaces set value {Top:[[150, 390, 30, 330, 390, 210]], Bottom:[[150, 0, 30, 330, 0, 210]], West:[[150, 0, 30, 150, 390, 210]], East:[[330, 0, 30, 330, 390, 210]], North:[[150, 0, 30, 330, 390, 30]], South:[[150, 0, 210, 330, 390, 210]]}
        if (block ~ ~ ~ minecraft:big_dripleaf[facing=east]) data modify storage retina:data Surfaces set value {Top:[[30, 390, 150, 210, 390, 330]], Bottom:[[30, 0, 150, 210, 0, 330]], West:[[30, 0, 150, 30, 390, 330]], East:[[210, 0, 150, 210, 390, 330]], North:[[30, 0, 150, 210, 390, 150]], South:[[30, 0, 330, 210, 390, 330]]}
        if (block ~ ~ ~ minecraft:big_dripleaf[facing=west]) data modify storage retina:data Surfaces set value {Top:[[270, 390, 150, 450, 390, 330]], Bottom:[[270, 0, 150, 450, 0, 330]], West:[[270, 0, 150, 270, 390, 330]], East:[[450, 0, 150, 450, 390, 330]], North:[[270, 0, 150, 450, 390, 150]], South:[[270, 0, 330, 450, 390, 330]]}
        if (block ~ ~ ~ minecraft:big_dripleaf[tilt=full]) return 1;
        
        if (block ~ ~ ~ minecraft:big_dripleaf[tilt=partial]) {
            data modify storage retina:data Surfaces.Top append value [[0, 390, 0, 480, 390, 480]];
            data modify storage retina:data Surfaces.Bottom append value [[0, 330, 0, 480, 330, 480]];
            data modify storage retina:data Surfaces.West append value [[0, 330, 0, 0, 390, 480]];
            data modify storage retina:data Surfaces.East append value [[480, 330, 0, 480, 390, 480]];
            data modify storage retina:data Surfaces.North append value [[0, 330, 0, 480, 390, 0]];
            data modify storage retina:data Surfaces.South append value [[0, 330, 480, 480, 390, 480]];
        }
        if (block ~ ~ ~ minecraft:big_dripleaf[tilt=partial]) return 1;

        data modify storage retina:data Surfaces.Top append value [[0, 450, 0, 480, 450, 480]];
        data modify storage retina:data Surfaces.Bottom append value [[0, 330, 0, 480, 330, 480]]; 
        data modify storage retina:data Surfaces.West append value [[0, 330, 0, 0, 450, 480]];
        data modify storage retina:data Surfaces.East append value [[480, 330, 0, 480, 450, 480]];
        data modify storage retina:data Surfaces.North append value [[0, 330, 0, 480, 450, 0]];
        data modify storage retina:data Surfaces.South append value [[0, 330, 480, 480, 450, 480]];
    }
    function big_dripleaf_stem() {
        if (block ~ ~ ~ minecraft:big_dripleaf_stem[facing=north]) data modify storage retina:data Surfaces set value {Top:[[150, 480, 270, 330, 480, 450]], Bottom:[[150, 0, 270, 330, 0, 450]], West:[[150, 0, 270, 150, 480, 450]], East:[[330, 0, 270, 330, 480, 450]], North:[[150, 0, 270, 330, 480, 270]], South:[[150, 0, 450, 330, 480, 450]]}
        if (block ~ ~ ~ minecraft:big_dripleaf_stem[facing=south]) data modify storage retina:data Surfaces set value {Top:[[150, 480, 30, 330, 480, 210]], Bottom:[[150, 0, 30, 330, 0, 210]], West:[[150, 0, 30, 150, 480, 210]], East:[[330, 0, 30, 330, 480, 210]], North:[[150, 0, 30, 330, 480, 30]], South:[[150, 0, 210, 330, 480, 210]]}
        if (block ~ ~ ~ minecraft:big_dripleaf_stem[facing=east]) data modify storage retina:data Surfaces set value {Top:[[30, 480, 150, 210, 480, 330]], Bottom:[[30, 0, 150, 210, 0, 330]], West:[[30, 0, 150, 30, 480, 330]], East:[[210, 0, 150, 210, 480, 330]], North:[[30, 0, 150, 210, 480, 150]], South:[[30, 0, 330, 210, 480, 330]]}
        if (block ~ ~ ~ minecraft:big_dripleaf_stem[facing=west]) data modify storage retina:data Surfaces set value {Top:[[270, 480, 150, 450, 480, 330]], Bottom:[[270, 0, 150, 450, 0, 330]], West:[[270, 0, 150, 270, 480, 330]], East:[[450, 0, 150, 450, 480, 330]], North:[[270, 0, 150, 450, 480, 150]], South:[[270, 0, 330, 450, 480, 330]]}
    }
    function brewing_stand() {
        data modify storage retina:data Surfaces set value {Top: [[30, 60, 30, 450, 60, 450], [210, 420, 210, 270, 420, 270]], Bottom: [[30, 0, 30, 450, 0, 450], [210, 60, 210, 270, 60, 270]], West: [[30, 0, 30, 30, 60, 450], [210, 60, 210, 210, 420, 270]], East: [[450, 0, 30, 450, 60, 450], [270, 60, 210, 270, 420, 270]], North: [[30, 0, 30, 450, 60, 30], [210, 60, 210, 270, 420, 210]], South: [[30, 0, 450, 450, 60, 450], [210, 60, 270, 270, 420, 270]]};
    }
    function button() {
        // face=floor, powered=false
        if (block ~ ~ ~ #minecraft:buttons[face=floor, facing=west, powered=false]) data modify storage retina:data Surfaces set value {Top: [[180, 60, 150, 300, 60, 330]], Bottom: [[180, 0, 150, 300, 0, 330]], West: [[180, 0, 150, 180, 60, 330]], East: [[300, 0, 150, 300, 60, 330]], North: [[180, 0, 150, 300, 60, 150]], South: [[180, 0, 330, 300, 60, 330]]}
        if (block ~ ~ ~ #minecraft:buttons[face=floor, facing=east, powered=false]) data modify storage retina:data Surfaces set value {Top: [[180, 60, 150, 300, 60, 330]], Bottom: [[180, 0, 150, 300, 0, 330]], West: [[180, 0, 150, 180, 60, 330]], East: [[300, 0, 150, 300, 60, 330]], North: [[180, 0, 150, 300, 60, 150]], South: [[180, 0, 330, 300, 60, 330]]}
        if (block ~ ~ ~ #minecraft:buttons[face=floor, facing=south, powered=false]) data modify storage retina:data Surfaces set value {Top: [[150, 60, 180, 330, 60, 300]], Bottom: [[150, 0, 180, 330, 0, 300]], West: [[150, 0, 180, 150, 60, 300]], East: [[330, 0, 180, 330, 60, 300]], North: [[150, 0, 180, 330, 60, 180]], South: [[150, 0, 300, 330, 60, 300]]}
        if (block ~ ~ ~ #minecraft:buttons[face=floor, facing=north, powered=false]) data modify storage retina:data Surfaces set value {Top: [[150, 60, 180, 330, 60, 300]], Bottom: [[150, 0, 180, 330, 0, 300]], West: [[150, 0, 180, 150, 60, 300]], East: [[330, 0, 180, 330, 60, 300]], North: [[150, 0, 180, 330, 60, 180]], South: [[150, 0, 300, 330, 60, 300]]}

        // face=floor, powered=true
        if (block ~ ~ ~ #minecraft:buttons[face=floor, facing=west, powered=true]) data modify storage retina:data Surfaces set value {Top: [[180, 30, 150, 300, 30, 330]], Bottom: [[180, 0, 150, 300, 0, 330]], West: [[180, 0, 150, 180, 30, 330]], East: [[300, 0, 150, 300, 30, 330]], North: [[180, 0, 150, 300, 30, 150]], South: [[180, 0, 330, 300, 30, 330]]}
        if (block ~ ~ ~ #minecraft:buttons[face=floor, facing=east, powered=true]) data modify storage retina:data Surfaces set value {Top: [[180, 30, 150, 300, 30, 330]], Bottom: [[180, 0, 150, 300, 0, 330]], West: [[180, 0, 150, 180, 30, 330]], East: [[300, 0, 150, 300, 30, 330]], North: [[180, 0, 150, 300, 30, 150]], South: [[180, 0, 330, 300, 30, 330]]}
        if (block ~ ~ ~ #minecraft:buttons[face=floor, facing=south, powered=true]) data modify storage retina:data Surfaces set value {Top: [[150, 30, 180, 330, 30, 300]], Bottom: [[150, 0, 180, 330, 0, 300]], West: [[150, 0, 180, 150, 30, 300]], East: [[330, 0, 180, 330, 30, 300]], North: [[150, 0, 180, 330, 30, 180]], South: [[150, 0, 300, 330, 30, 300]]}
        if (block ~ ~ ~ #minecraft:buttons[face=floor, facing=north, powered=true]) data modify storage retina:data Surfaces set value {Top: [[150, 30, 180, 330, 30, 300]], Bottom: [[150, 0, 180, 330, 0, 300]], West: [[150, 0, 180, 150, 30, 300]], East: [[330, 0, 180, 330, 30, 300]], North: [[150, 0, 180, 330, 30, 180]], South: [[150, 0, 300, 330, 30, 300]]}

        // face=wall, powered=false
        if (block ~ ~ ~ #minecraft:buttons[face=wall, facing=north, powered=false]) data modify storage retina:data Surfaces set value {Top: [[150, 300, 420, 330, 300, 480]], Bottom: [[150, 180, 420, 330, 180, 480]], West: [[150, 180, 420, 150, 300, 480]], East: [[330, 180, 420, 330, 300, 480]], North: [[150, 180, 420, 330, 300, 420]], South: [[150, 180, 480, 330, 300, 480]]}
        if (block ~ ~ ~ #minecraft:buttons[face=wall, facing=south, powered=false]) data modify storage retina:data Surfaces set value {Top: [[150, 300, 0, 330, 300, 60]], Bottom: [[150, 180, 0, 330, 180, 60]], West: [[150, 180, 0, 150, 300, 60]], East: [[330, 180, 0, 330, 300, 60]], North: [[150, 180, 0, 330, 300, 0]], South: [[150, 180, 60, 330, 300, 60]]}
        if (block ~ ~ ~ #minecraft:buttons[face=wall, facing=west, powered=false]) data modify storage retina:data Surfaces set value {Top: [[420, 300, 150, 480, 300, 330]], Bottom: [[420, 180, 150, 480, 180, 330]], West: [[420, 180, 150, 420, 300, 330]], East: [[480, 180, 150, 480, 300, 330]], North: [[420, 180, 150, 480, 300, 150]], South: [[420, 180, 330, 480, 300, 330]]}
        if (block ~ ~ ~ #minecraft:buttons[face=wall, facing=east, powered=false]) data modify storage retina:data Surfaces set value {Top: [[0, 300, 150, 60, 300, 330]], Bottom: [[0, 180, 150, 60, 180, 330]], West: [[0, 180, 150, 0, 300, 330]], East: [[60, 180, 150, 60, 300, 330]], North: [[0, 180, 150, 60, 300, 150]], South: [[0, 180, 330, 60, 300, 330]]}

        // face=wall, powered=true
        if (block ~ ~ ~ #minecraft:buttons[face=wall, facing=north, powered=true]) data modify storage retina:data Surfaces set value {Top: [[150, 300, 450, 330, 300, 480]], Bottom: [[150, 180, 450, 330, 180, 480]], West: [[150, 180, 450, 150, 300, 480]], East: [[330, 180, 450, 330, 300, 480]], North: [[150, 180, 450, 330, 300, 450]], South: [[150, 180, 480, 330, 300, 480]]}
        if (block ~ ~ ~ #minecraft:buttons[face=wall, facing=south, powered=true]) data modify storage retina:data Surfaces set value {Top: [[150, 300, 0, 330, 300, 30]], Bottom: [[150, 180, 0, 330, 180, 30]], West: [[150, 180, 0, 150, 300, 30]], East: [[330, 180, 0, 330, 300, 30]], North: [[150, 180, 0, 330, 300, 0]], South: [[150, 180, 30, 330, 300, 30]]}
        if (block ~ ~ ~ #minecraft:buttons[face=wall, facing=west, powered=true]) data modify storage retina:data Surfaces set value {Top: [[450, 300, 150, 480, 300, 330]], Bottom: [[450, 180, 150, 480, 180, 330]], West: [[450, 180, 150, 450, 300, 330]], East: [[480, 180, 150, 480, 300, 330]], North: [[450, 180, 150, 480, 300, 150]], South: [[450, 180, 330, 480, 300, 330]]}
        if (block ~ ~ ~ #minecraft:buttons[face=wall, facing=east, powered=true]) data modify storage retina:data Surfaces set value {Top: [[0, 300, 150, 30, 300, 330]], Bottom: [[0, 180, 150, 30, 180, 330]], West: [[0, 180, 150, 0, 300, 330]], East: [[30, 180, 150, 30, 300, 330]], North: [[0, 180, 150, 30, 300, 150]], South: [[0, 180, 330, 30, 300, 330]]}

        // face=ceiling, powered=false
        if (block ~ ~ ~ #minecraft:buttons[face=ceiling, facing=west, powered=false]) data modify storage retina:data Surfaces set value {Top: [[180, 480, 150, 300, 480, 330]], Bottom: [[180, 420, 150, 300, 420, 330]], West: [[180, 420, 150, 180, 480, 330]], East: [[300, 420, 150, 300, 480, 330]], North: [[180, 420, 150, 300, 480, 150]], South: [[180, 420, 330, 300, 480, 330]]}
        if (block ~ ~ ~ #minecraft:buttons[face=ceiling, facing=east, powered=false]) data modify storage retina:data Surfaces set value {Top: [[180, 480, 150, 300, 480, 330]], Bottom: [[180, 420, 150, 300, 420, 330]], West: [[180, 420, 150, 180, 480, 330]], East: [[300, 420, 150, 300, 480, 330]], North: [[180, 420, 150, 300, 480, 150]], South: [[180, 420, 330, 300, 480, 330]]}
        if (block ~ ~ ~ #minecraft:buttons[face=ceiling, facing=north, powered=false]) data modify storage retina:data Surfaces set value {Top: [[150, 480, 180, 330, 480, 300]], Bottom: [[150, 420, 180, 330, 420, 300]], West: [[150, 420, 180, 150, 480, 300]], East: [[330, 420, 180, 330, 480, 300]], North: [[150, 420, 180, 330, 480, 180]], South: [[150, 420, 300, 330, 480, 300]]}
        if (block ~ ~ ~ #minecraft:buttons[face=ceiling, facing=south, powered=false]) data modify storage retina:data Surfaces set value {Top: [[150, 480, 180, 330, 480, 300]], Bottom: [[150, 420, 180, 330, 420, 300]], West: [[150, 420, 180, 150, 480, 300]], East: [[330, 420, 180, 330, 480, 300]], North: [[150, 420, 180, 330, 480, 180]], South: [[150, 420, 300, 330, 480, 300]]}

        // face=ceiling, powered=true
        if (block ~ ~ ~ #minecraft:buttons[face=ceiling, facing=west, powered=true]) data modify storage retina:data Surfaces set value {Top: [[180, 480, 150, 300, 480, 330]], Bottom: [[180, 450, 150, 300, 450, 330]], West: [[180, 450, 150, 180, 480, 330]], East: [[300, 450, 150, 300, 480, 330]], North: [[180, 450, 150, 300, 480, 150]], South: [[180, 450, 330, 300, 480, 330]]}
        if (block ~ ~ ~ #minecraft:buttons[face=ceiling, facing=east, powered=true]) data modify storage retina:data Surfaces set value {Top: [[180, 480, 150, 300, 480, 330]], Bottom: [[180, 450, 150, 300, 450, 330]], West: [[180, 450, 150, 180, 480, 330]], East: [[300, 450, 150, 300, 480, 330]], North: [[180, 450, 150, 300, 480, 150]], South: [[180, 450, 330, 300, 480, 330]]}
        if (block ~ ~ ~ #minecraft:buttons[face=ceiling, facing=north, powered=true]) data modify storage retina:data Surfaces set value {Top: [[150, 480, 180, 330, 480, 300]], Bottom: [[150, 450, 180, 330, 450, 300]], West: [[150, 450, 180, 150, 480, 300]], East: [[330, 450, 180, 330, 480, 300]], North: [[150, 450, 180, 330, 480, 180]], South: [[150, 450, 300, 330, 480, 300]]}
        if (block ~ ~ ~ #minecraft:buttons[face=ceiling, facing=south, powered=true]) data modify storage retina:data Surfaces set value {Top: [[150, 480, 180, 330, 480, 300]], Bottom: [[150, 450, 180, 330, 450, 300]], West: [[150, 450, 180, 150, 480, 300]], East: [[330, 450, 180, 330, 480, 300]], North: [[150, 450, 180, 330, 480, 180]], South: [[150, 450, 300, 330, 480, 300]]}
    }
    function cactus_shaped() {
        data modify storage retina:data Surfaces set value {Top: [[30, 480, 30, 450, 480, 450]], Bottom: [[30, 0, 30, 450, 0, 450]], West: [[30, 0, 30, 30, 480, 450]], East: [[450, 0, 30, 450, 480, 450]], North: [[30, 0, 30, 450, 480, 30]], South: [[30, 0, 450, 450, 480, 450]]};
    }
    function cake() {
        if (block ~ ~ ~ #minecraft:candle_cakes) data modify storage retina:data Surfaces set value {Top: [[30, 240, 30, 450, 240, 450], [210, 420, 210, 270, 420, 270]], Bottom: [[30, 0, 30, 450, 0, 450]], West: [[30, 0, 30, 30, 240, 450], [210, 240, 210, 210, 420, 270]], East: [[450, 0, 30, 450, 240, 450], [270, 240, 210, 270, 420, 270]], North: [[30, 0, 30, 450, 240, 30], [210, 240, 210, 270, 420, 210]], South: [[30, 0, 450, 450, 240, 450], [210, 240, 270, 270, 420, 270]]}

        if (block ~ ~ ~ minecraft:cake[bites=0]) data modify storage retina:data Surfaces set value {Top: [[30, 240, 30, 450, 240, 450]], Bottom: [[30, 0, 30, 450, 0, 450]], West: [[30, 0, 30, 30, 240, 450]], East: [[450, 0, 30, 450, 240, 450]], North: [[30, 0, 30, 450, 240, 30]], South: [[30, 0, 450, 450, 240, 450]]}
        if (block ~ ~ ~ minecraft:cake[bites=1]) data modify storage retina:data Surfaces set value {Top: [[90, 240, 30, 450, 240, 450]], Bottom: [[90, 0, 30, 450, 0, 450]], West: [[90, 0, 30, 90, 240, 450]], East: [[450, 0, 30, 450, 240, 450]], North: [[90, 0, 30, 450, 240, 30]], South: [[90, 0, 450, 450, 240, 450]]}
        if (block ~ ~ ~ minecraft:cake[bites=2]) data modify storage retina:data Surfaces set value {Top: [[150, 240, 30, 450, 240, 450]], Bottom: [[150, 0, 30, 450, 0, 450]], West: [[150, 0, 30, 150, 240, 450]], East: [[450, 0, 30, 450, 240, 450]], North: [[150, 0, 30, 450, 240, 30]], South: [[150, 0, 450, 450, 240, 450]]}
        if (block ~ ~ ~ minecraft:cake[bites=3]) data modify storage retina:data Surfaces set value {Top: [[210, 240, 30, 450, 240, 450]], Bottom: [[210, 0, 30, 450, 0, 450]], West: [[210, 0, 30, 210, 240, 450]], East: [[450, 0, 30, 450, 240, 450]], North: [[210, 0, 30, 450, 240, 30]], South: [[210, 0, 450, 450, 240, 450]]}
        if (block ~ ~ ~ minecraft:cake[bites=4]) data modify storage retina:data Surfaces set value {Top: [[270, 240, 30, 450, 240, 450]], Bottom: [[270, 0, 30, 450, 0, 450]], West: [[270, 0, 30, 270, 240, 450]], East: [[450, 0, 30, 450, 240, 450]], North: [[270, 0, 30, 450, 240, 30]], South: [[270, 0, 450, 450, 240, 450]]}
        if (block ~ ~ ~ minecraft:cake[bites=5]) data modify storage retina:data Surfaces set value {Top: [[330, 240, 30, 450, 240, 450]], Bottom: [[330, 0, 30, 450, 0, 450]], West: [[330, 0, 30, 330, 240, 450]], East: [[450, 0, 30, 450, 240, 450]], North: [[330, 0, 30, 450, 240, 30]], South: [[330, 0, 450, 450, 240, 450]]}
        if (block ~ ~ ~ minecraft:cake[bites=6]) data modify storage retina:data Surfaces set value {Top: [[390, 240, 30, 450, 240, 450]], Bottom: [[390, 0, 30, 450, 0, 450]], West: [[390, 0, 30, 390, 240, 450]], East: [[450, 0, 30, 450, 240, 450]], North: [[390, 0, 30, 450, 240, 30]], South: [[390, 0, 450, 450, 240, 450]]}
    }
    function campfire() {
        data modify storage retina:data Surfaces set value {Top: [[0, 210, 0, 480, 210, 480]], Bottom: [[0, 0, 0, 480, 0, 480]], West: [[0, 0, 0, 0, 210, 480]], East: [[480, 0, 0, 480, 210, 480]], North: [[0, 0, 0, 480, 210, 0]], South: [[0, 0, 480, 480, 210, 480]]};
    }
    function candle() {
        if (block ~ ~ ~ #retina:candle[candles=1]) data modify storage retina:data Surfaces set value {Top: [[210, 180, 210, 270, 180, 270]], Bottom: [[210, 0, 210, 270, 0, 270]], West: [[210, 0, 210, 210, 180, 270]], East: [[270, 0, 210, 270, 180, 270]], North: [[210, 0, 210, 270, 180, 210]], South: [[210, 0, 270, 270, 180, 270]]}
        if (block ~ ~ ~ #retina:candle[candles=2]) data modify storage retina:data Surfaces set value {Top: [[150, 180, 180, 330, 180, 270]], Bottom: [[150, 0, 180, 330, 0, 270]], West: [[150, 0, 180, 150, 180, 270]], East: [[330, 0, 180, 330, 180, 270]], North: [[150, 0, 180, 330, 180, 180]], South: [[150, 0, 270, 330, 180, 270]]}
        if (block ~ ~ ~ #retina:candle[candles=3]) data modify storage retina:data Surfaces set value  {Top: [[150, 180, 180, 300, 180, 330]], Bottom: [[150, 0, 180, 300, 0, 330]], West: [[150, 0, 180, 150, 180, 330]], East: [[300, 0, 180, 300, 180, 330]], North: [[150, 0, 180, 300, 180, 180]], South: [[150, 0, 330, 300, 180, 330]]}
        if (block ~ ~ ~ #retina:candle[candles=4]) data modify storage retina:data Surfaces set value {Top: [[150, 180, 150, 330, 180, 330]], Bottom: [[150, 0, 150, 330, 0, 330]], West: [[150, 0, 150, 150, 180, 330]], East: [[330, 0, 150, 330, 180, 330]], North: [[150, 0, 150, 330, 180, 150]], South: [[150, 0, 330, 330, 180, 330]]}
    }
    function carpet() {
        data modify storage retina:data Surfaces set value {Top: [[0, 30, 0, 480, 30, 480]], Bottom: [[0, 0, 0, 480, 0, 480]], West: [[0, 0, 0, 0, 30, 480]], East: [[480, 0, 0, 480, 30, 480]], North: [[0, 0, 0, 480, 30, 0]], South: [[0, 0, 480, 480, 30, 480]]};
    }
    function cauldron() {
        data modify storage retina:data Surfaces set value {Top: [[0, 120, 0, 480, 120, 480], [0, 90, 0, 120, 90, 120], [0, 90, 360, 120, 90, 480], [360, 90, 0, 480, 90, 120], [360, 90, 360, 480, 90, 480], [0, 480, 0, 420, 480, 60], [60, 480, 420, 480, 480, 480], [0, 480, 60, 60, 480, 480], [420, 480, 0, 480, 480, 420]], Bottom: [[0, 90, 0, 480, 90, 480], [0, 0, 0, 120, 0, 120], [0, 0, 360, 120, 0, 480], [360, 0, 0, 480, 0, 120], [360, 0, 360, 480, 0, 480], [0, 120, 0, 420, 120, 60], [60, 120, 420, 480, 120, 480], [0, 120, 60, 60, 120, 480], [420, 120, 0, 480, 120, 420]], West: [[0, 90, 0, 0, 120, 480], [0, 0, 0, 0, 90, 120], [0, 0, 360, 0, 90, 480], [360, 0, 0, 360, 90, 120], [360, 0, 360, 360, 90, 480], [0, 120, 0, 0, 480, 60], [60, 120, 420, 60, 480, 480], [0, 120, 60, 0, 480, 480], [420, 120, 0, 420, 480, 420]], East: [[480, 90, 0, 480, 120, 480], [120, 0, 0, 120, 90, 120], [120, 0, 360, 120, 90, 480], [480, 0, 0, 480, 90, 120], [480, 0, 360, 480, 90, 480], [420, 120, 0, 420, 480, 60], [480, 120, 420, 480, 480, 480], [60, 120, 60, 60, 480, 480], [480, 120, 0, 480, 480, 420]], North: [[0, 90, 0, 480, 120, 0], [0, 0, 0, 120, 90, 0], [0, 0, 360, 120, 90, 360], [360, 0, 0, 480, 90, 0], [360, 0, 360, 480, 90, 360], [0, 120, 0, 420, 480, 0], [60, 120, 420, 480, 480, 420], [0, 120, 60, 60, 480, 60], [420, 120, 0, 480, 480, 0]], South: [[0, 90, 480, 480, 120, 480], [0, 0, 120, 120, 90, 120], [0, 0, 480, 120, 90, 480], [360, 0, 120, 480, 90, 120], [360, 0, 480, 480, 90, 480], [0, 120, 60, 420, 480, 60], [60, 120, 480, 480, 480, 480], [0, 120, 480, 60, 480, 480], [420, 120, 420, 480, 480, 420]]};
    }
    function chain() {
        if (block ~ ~ ~ minecraft:chain[axis=x]) data modify storage retina:data Surfaces set value {Top: [[0, 285, 195, 480, 285, 285]], Bottom: [[0, 195, 195, 480, 195, 285]], West: [[0, 195, 195, 0, 285, 285]], East: [[480, 195, 195, 480, 285, 285]], North: [[0, 195, 195, 480, 285, 195]], South: [[0, 195, 285, 480, 285, 285]]}
        if (block ~ ~ ~ minecraft:chain[axis=y]) data modify storage retina:data Surfaces set value {Top: [[195, 480, 195, 285, 480, 285]], Bottom: [[195, 0, 195, 285, 0, 285]], West: [[195, 0, 195, 195, 480, 285]], East: [[285, 0, 195, 285, 480, 285]], North: [[195, 0, 195, 285, 480, 195]], South: [[195, 0, 285, 285, 480, 285]]}
        if (block ~ ~ ~ minecraft:chain[axis=z]) data modify storage retina:data Surfaces set value {Top: [[195, 285, 0, 285, 285, 480]], Bottom: [[195, 195, 0, 285, 195, 480]], West: [[195, 195, 0, 195, 285, 480]], East: [[285, 195, 0, 285, 285, 480]], North: [[195, 195, 0, 285, 285, 0]], South: [[195, 195, 480, 285, 285, 480]]}
    }
    function chest() {
        data modify storage retina:data Surfaces set value {Top: [[30, 420, 30, 450, 420, 450]], Bottom: [[30, 0, 30, 450, 0, 450]], West: [[30, 0, 30, 30, 420, 450]], East: [[450, 0, 30, 450, 420, 450]], North: [[30, 0, 30, 450, 420, 30]], South: [[30, 0, 450, 450, 420, 450]]};
    }
    function composter() {
        data modify storage retina:data Surfaces set value {Top: [[0, 60, 0, 480, 60, 480], [0, 480, 0, 420, 480, 60], [60, 480, 420, 480, 480, 480], [0, 480, 60, 60, 480, 480], [420, 480, 0, 480, 480, 420]], Bottom: [[0, 0, 0, 480, 0, 480], [0, 60, 0, 420, 60, 60], [60, 60, 420, 480, 60, 480], [0, 60, 60, 60, 60, 480], [420, 60, 0, 480, 60, 420]], West: [[0, 0, 0, 0, 60, 480], [0, 60, 0, 0, 480, 60], [60, 60, 420, 60, 480, 480], [0, 60, 60, 0, 480, 480], [420, 60, 0, 420, 480, 420]], East: [[480, 0, 0, 480, 60, 480], [420, 60, 0, 420, 480, 60], [480, 60, 420, 480, 480, 480], [60, 60, 60, 60, 480, 480], [480, 60, 0, 480, 480, 420]], North: [[0, 0, 0, 480, 60, 0], [0, 60, 0, 420, 480, 0], [60, 60, 420, 480, 480, 420], [0, 60, 60, 60, 480, 60], [420, 60, 0, 480, 480, 0]], South: [[0, 0, 480, 480, 60, 480], [0, 60, 60, 420, 480, 60], [60, 60, 480, 480, 480, 480], [0, 60, 480, 60, 480, 480], [420, 60, 420, 480, 480, 420]]};
    }
    function conduit() {
        data modify storage retina:data Surfaces set value {Top: [[150, 330, 150, 330, 330, 330]], Bottom: [[150, 150, 150, 330, 150, 330]], West: [[150, 150, 150, 150, 330, 330]], East: [[330, 150, 150, 330, 330, 330]], North: [[150, 150, 150, 330, 330, 150]], South: [[150, 150, 330, 330, 330, 330]]};
    }
    function coral_fan() {
        data modify storage retina:data Surfaces set value {Top: [[60, 120, 60, 420, 120, 420]], Bottom: [[60, 0, 60, 420, 0, 420]], West: [[60, 0, 60, 60, 120, 420]], East: [[420, 0, 60, 420, 120, 420]], North: [[60, 0, 60, 420, 120, 60]], South: [[60, 0, 420, 420, 120, 420]]};
    }
    function coral_plant() {
        data modify storage retina:data Surfaces set value {Top: [[60, 450, 60, 420, 450, 420]], Bottom: [[60, 0, 60, 420, 0, 420]], West: [[60, 0, 60, 60, 450, 420]], East: [[420, 0, 60, 420, 450, 420]], North: [[60, 0, 60, 420, 450, 60]], South: [[60, 0, 420, 420, 450, 420]]};
    }
    function daylight_detector() {
        data modify storage retina:data Surfaces set value {Top: [[0, 180, 0, 480, 180,  480]], Bottom: [[0, 0, 0, 480, 0, 480]], West: [[0, 0, 0, 0, 180, 480]], East: [[480, 0, 0, 480, 180, 480]], North: [[0, 0, 0, 480, 180, 0]], South: [[0, 0, 480, 480, 180, 480]]};
    }
    function door() {
        // open=false
        if (block ~ ~ ~ #minecraft:doors[facing=east, open=false]) data modify storage retina:data Surfaces set value {Top: [[0, 480, 0, 90, 480, 480]], Bottom: [[0, 0, 0, 90, 0, 480]], West: [[0, 0, 0, 0, 480, 480]], East: [[90, 0, 0, 90, 480, 480]], North: [[0, 0, 0, 90, 480, 0]], South: [[0, 0, 480, 90, 480, 480]]}
        if (block ~ ~ ~ #minecraft:doors[facing=west, open=false]) data modify storage retina:data Surfaces set value {Top: [[390, 480, 0, 480, 480, 480]], Bottom: [[390, 0, 0, 480, 0, 480]], West: [[390, 0, 0, 390, 480, 480]], East: [[480, 0, 0, 480, 480, 480]], North: [[390, 0, 0, 480, 480, 0]], South: [[390, 0, 480, 480, 480, 480]]}
        if (block ~ ~ ~ #minecraft:doors[facing=north, open=false]) data modify storage retina:data Surfaces set value {Top: [[0, 480, 390, 480, 480, 480]], Bottom: [[0, 0, 390, 480, 0, 480]], West: [[0, 0, 390, 0, 480, 480]], East: [[480, 0, 390, 480, 480, 480]], North: [[0, 0, 390, 480, 480, 390]], South: [[0, 0, 480, 480, 480, 480]]}
        if (block ~ ~ ~ #minecraft:doors[facing=south, open=false]) data modify storage retina:data Surfaces set value {Top: [[0, 480, 0, 480, 480, 90]], Bottom: [[0, 0, 0, 480, 0, 90]], West: [[0, 0, 0, 0, 480, 90]], East: [[480, 0, 0, 480, 480, 90]], North: [[0, 0, 0, 480, 480, 0]], South: [[0, 0, 90, 480, 480, 90]]}

        // open=true, hinge=left
        if (block ~ ~ ~ #minecraft:doors[facing=east, open=true, hinge=left]) data modify storage retina:data Surfaces set value {Top: [[0, 480, 0, 480, 480, 90]], Bottom: [[0, 0, 0, 480, 0, 90]], West: [[0, 0, 0, 0, 480, 90]], East: [[480, 0, 0, 480, 480, 90]], North: [[0, 0, 0, 480, 480, 0]], South: [[0, 0, 90, 480, 480, 90]]}
        if (block ~ ~ ~ #minecraft:doors[facing=west, open=true, hinge=left]) data modify storage retina:data Surfaces set value {Top: [[0, 480, 390, 480, 480, 480]], Bottom: [[0, 0, 390, 480, 0, 480]], West: [[0, 0, 390, 0, 480, 480]], East: [[480, 0, 390, 480, 480, 480]], North: [[0, 0, 390, 480, 480, 390]], South: [[0, 0, 480, 480, 480, 480]]}
        if (block ~ ~ ~ #minecraft:doors[facing=north, open=true, hinge=left]) data modify storage retina:data Surfaces set value {Top: [[0, 480, 0, 90, 480, 480]], Bottom: [[0, 0, 0, 90, 0, 480]], West: [[0, 0, 0, 0, 480, 480]], East: [[90, 0, 0, 90, 480, 480]], North: [[0, 0, 0, 90, 480, 0]], South: [[0, 0, 480, 90, 480, 480]]}
        if (block ~ ~ ~ #minecraft:doors[facing=south, open=true, hinge=left]) data modify storage retina:data Surfaces set value {Top: [[390, 480, 0, 480, 480, 480]], Bottom: [[390, 0, 0, 480, 0, 480]], West: [[390, 0, 0, 390, 480, 480]], East: [[480, 0, 0, 480, 480, 480]], North: [[390, 0, 0, 480, 480, 0]], South: [[390, 0, 480, 480, 480, 480]]}

        // open=true, hinge=right
        if (block ~ ~ ~ #minecraft:doors[facing=east, open=true, hinge=right]) data modify storage retina:data Surfaces set value {Top: [[0, 480, 390, 480, 480, 480]], Bottom: [[0, 0, 390, 480, 0, 480]], West: [[0, 0, 390, 0, 480, 480]], East: [[480, 0, 390, 480, 480, 480]], North: [[0, 0, 390, 480, 480, 390]], South: [[0, 0, 480, 480, 480, 480]]}
        if (block ~ ~ ~ #minecraft:doors[facing=west, open=true, hinge=right]) data modify storage retina:data Surfaces set value {Top: [[0, 480, 0, 480, 480, 90]], Bottom: [[0, 0, 0, 480, 0, 90]], West: [[0, 0, 0, 0, 480, 90]], East: [[480, 0, 0, 480, 480, 90]], North: [[0, 0, 0, 480, 480, 0]], South: [[0, 0, 90, 480, 480, 90]]}
        if (block ~ ~ ~ #minecraft:doors[facing=north, open=true, hinge=right]) data modify storage retina:data Surfaces set value {Top: [[390, 480, 0, 480, 480, 480]], Bottom: [[390, 0, 0, 480, 0, 480]], West: [[390, 0, 0, 390, 480, 480]], East: [[480, 0, 0, 480, 480, 480]], North: [[390, 0, 0, 480, 480, 0]], South: [[390, 0, 480, 480, 480, 480]]}
        if (block ~ ~ ~ #minecraft:doors[facing=south, open=true, hinge=right]) data modify storage retina:data Surfaces set value {Top: [[0, 480, 0, 90, 480, 480]], Bottom: [[0, 0, 0, 90, 0, 480]], West: [[0, 0, 0, 0, 480, 480]], East: [[90, 0, 0, 90, 480, 480]], North: [[0, 0, 0, 90, 480, 0]], South: [[0, 0, 480, 90, 480, 480]]}
    }
    function end_portal_frame() {
        if (block ~ ~ ~ minecraft:end_portal_frame[eye=false]) {
            data modify storage retina:data Surfaces set value {Top: [[0, 390, 0, 480, 390, 480]], Bottom: [[0, 0, 0, 480, 0, 480]], West: [[0, 0, 0, 0, 390, 480]], East: [[480, 0, 0, 480, 390, 480]], North: [[0, 0, 0, 480, 390, 0]], South: [[0, 0, 480, 480, 390, 480]]};
        }
        if (block ~ ~ ~ minecraft:end_portal_frame[eye=true]) {
            data modify storage retina:data Surfaces set value {Top: [[0, 390, 0, 480, 390, 480], [120, 480, 120, 360, 480, 360]], Bottom: [[0, 0, 0, 480, 0, 480], [120, 390, 120, 360, 390, 360]], West: [[0, 0, 0, 0, 390, 480], [120, 390, 120, 120, 480, 360]], East: [[480, 0, 0, 480, 390, 480], [360, 390, 120, 360, 480, 360]], North: [[0, 0, 0, 480, 390, 0], [120, 390, 120, 360, 480, 120]], South: [[0, 0, 480, 480, 390, 480], [120, 390, 360, 360, 480, 360]]};
        }
    }
    function extended_piston() {
        if (!block ~ ~ ~ #retina:extended_piston[extended=true]) hitbox.cubic();
        if (!block ~ ~ ~ #retina:extended_piston[extended=true]) return 1;

        if (block ~ ~ ~ #retina:extended_piston[facing=east]) data modify storage retina:data Surfaces set value {Top:[[0, 480, 0, 360, 480, 480]], Bottom:[[0, 0, 0, 360, 0, 480]], West:[[0, 0, 0, 0, 480, 480]], East:[[360, 0, 0, 360, 480, 480]], North:[[0, 0, 0, 360, 480, 0]], South:[[0, 0, 480, 360, 480, 480]]}
        if (block ~ ~ ~ #retina:extended_piston[facing=west]) data modify storage retina:data Surfaces set value {Top:[[120, 480, 0, 480, 480, 480]], Bottom:[[120, 0, 0, 480, 0, 480]], West:[[120, 0, 0, 120, 480, 480]], East:[[480, 0, 0, 480, 480, 480]], North:[[120, 0, 0, 480, 480, 0]], South:[[120, 0, 480, 480, 480, 480]]}
        if (block ~ ~ ~ #retina:extended_piston[facing=south]) data modify storage retina:data Surfaces set value {Top:[[0, 480, 0, 480, 480, 360]], Bottom:[[0, 0, 0, 480, 0, 360]], West:[[0, 0, 0, 0, 480, 360]], East:[[480, 0, 0, 480, 480, 360]], North:[[0, 0, 0, 480, 480, 0]], South:[[0, 0, 360, 480, 480, 360]]}
        if (block ~ ~ ~ #retina:extended_piston[facing=north]) data modify storage retina:data Surfaces set value {Top:[[0, 480, 120, 480, 480, 480]], Bottom:[[0, 0, 120, 480, 0, 480]], West:[[0, 0, 120, 0, 480, 480]], East:[[480, 0, 120, 480, 480, 480]], North:[[0, 0, 120, 480, 480, 120]], South:[[0, 0, 480, 480, 480, 480]]}
        if (block ~ ~ ~ #retina:extended_piston[facing=up]) data modify storage retina:data Surfaces set value {Top:[[0, 360, 0, 480, 360, 480]], Bottom:[[0, 0, 0, 480, 0, 480]], West:[[0, 0, 0, 0, 360, 480]], East:[[480, 0, 0, 480, 360, 480]], North:[[0, 0, 0, 480, 360, 0]], South:[[0, 0, 480, 480, 360, 480]]}
        if (block ~ ~ ~ #retina:extended_piston[facing=down]) data modify storage retina:data Surfaces set value {Top:[[0, 480, 0, 480, 480, 480]], Bottom:[[0, 120, 0, 480, 120, 480]], West:[[0, 120, 0, 0, 480, 480]], East:[[480, 120, 0, 480, 480, 480]], North:[[0, 120, 0, 480, 480, 0]], South:[[0, 120, 480, 480, 480, 480]]}
    }
    function farmland_shaped() {
        data modify storage retina:data Surfaces set value {Top: [[0, 450, 0, 480, 450, 480]], Bottom: [[0, 0, 0, 480, 0, 480]], West: [[0, 0, 0, 0, 450, 480]], East: [[480, 0, 0, 480, 450, 480]], North: [[0, 0, 0, 480, 450, 0]], South: [[0, 0, 480, 480, 450, 480]]};
    }
    function fence_gate() {
        // in_wall=false
        if (block ~ ~ ~ #minecraft:fence_gates[facing=east, in_wall=false]) data modify storage retina:data Surfaces set value {Top: [[180, 480, 0, 300, 480, 480]], Bottom: [[180, 0, 0, 300, 0, 480]], West: [[180, 0, 0, 180, 480, 480]], East: [[300, 0, 0, 300, 480, 480]], North: [[180, 0, 0, 300, 480, 0]], South: [[180, 0, 480, 300, 480, 480]]}
        if (block ~ ~ ~ #minecraft:fence_gates[facing=west, in_wall=false]) data modify storage retina:data Surfaces set value {Top: [[180, 480, 0, 300, 480, 480]], Bottom: [[180, 0, 0, 300, 0, 480]], West: [[180, 0, 0, 180, 480, 480]], East: [[300, 0, 0, 300, 480, 480]], North: [[180, 0, 0, 300, 480, 0]], South: [[180, 0, 480, 300, 480, 480]]}
        if (block ~ ~ ~ #minecraft:fence_gates[facing=north, in_wall=false]) data modify storage retina:data Surfaces set value {Top: [[0, 480, 180, 480, 480, 300]], Bottom: [[0, 0, 180, 480, 0, 300]], West: [[0, 0, 180, 0, 480, 300]], East: [[480, 0, 180, 480, 480, 300]], North: [[0, 0, 180, 480, 480, 180]], South: [[0, 0, 300, 480, 480, 300]]}
        if (block ~ ~ ~ #minecraft:fence_gates[facing=south, in_wall=false]) data modify storage retina:data Surfaces set value {Top: [[0, 480, 180, 480, 480, 300]], Bottom: [[0, 0, 180, 480, 0, 300]], West: [[0, 0, 180, 0, 480, 300]], East: [[480, 0, 180, 480, 480, 300]], North: [[0, 0, 180, 480, 480, 180]], South: [[0, 0, 300, 480, 480, 300]]}

        // in_wall=true
        if (block ~ ~ ~ #minecraft:fence_gates[facing=east, in_wall=true]) data modify storage retina:data Surfaces set value {Top: [[180, 390, 0, 300, 390, 480]], Bottom: [[180, 0, 0, 300, 0, 480]], West: [[180, 0, 0, 180, 390, 480]], East: [[300, 0, 0, 300, 390, 480]], North: [[180, 0, 0, 300, 390, 0]], South: [[180, 0, 480, 300, 390, 480]]}
        if (block ~ ~ ~ #minecraft:fence_gates[facing=west, in_wall=true]) data modify storage retina:data Surfaces set value {Top: [[180, 390, 0, 300, 390, 480]], Bottom: [[180, 0, 0, 300, 0, 480]], West: [[180, 0, 0, 180, 390, 480]], East: [[300, 0, 0, 300, 390, 480]], North: [[180, 0, 0, 300, 390, 0]], South: [[180, 0, 480, 300, 390, 480]]}
        if (block ~ ~ ~ #minecraft:fence_gates[facing=north, in_wall=true]) data modify storage retina:data Surfaces set value {Top: [[0, 390, 180, 480, 390, 300]], Bottom: [[0, 0, 180, 480, 0, 300]], West: [[0, 0, 180, 0, 390, 300]], East: [[480, 0, 180, 480, 390, 300]], North: [[0, 0, 180, 480, 390, 180]], South: [[0, 0, 300, 480, 390, 300]]}
        if (block ~ ~ ~ #minecraft:fence_gates[facing=south, in_wall=true]) data modify storage retina:data Surfaces set value {Top: [[0, 390, 180, 480, 390, 300]], Bottom: [[0, 0, 180, 480, 0, 300]], West: [[0, 0, 180, 0, 390, 300]], East: [[480, 0, 180, 480, 390, 300]], North: [[0, 0, 180, 480, 390, 180]], South: [[0, 0, 300, 480, 390, 300]]}
    }
    function fence() {
        data modify storage retina:data Surfaces set value {Top: [[180, 480, 180, 300, 480, 300]], Bottom: [[180, 0, 180, 300, 0, 300]], West: [[180, 0, 180, 180, 480, 300]], East: [[300, 0, 180, 300, 480, 300]], North: [[180, 0, 180, 300, 480, 180]], South: [[180, 0, 300, 300, 480, 300]]};

        if (block ~ ~ ~ #minecraft:fences[east=true]) data modify storage retina:data Surfaces.Top append value [300, 480, 180, 480, 480, 300];
        if (block ~ ~ ~ #minecraft:fences[east=true]) data modify storage retina:data Surfaces.Bottom append value [300, 0, 180, 480, 0, 300];
        if (block ~ ~ ~ #minecraft:fences[east=true]) data modify storage retina:data Surfaces.West append value [300, 0, 180, 300, 480, 300];
        if (block ~ ~ ~ #minecraft:fences[east=true]) data modify storage retina:data Surfaces.East append value [480, 0, 180, 480, 480, 300];
        if (block ~ ~ ~ #minecraft:fences[east=true]) data modify storage retina:data Surfaces.North append value [300, 0, 180, 480, 480, 180];
        if (block ~ ~ ~ #minecraft:fences[east=true]) data modify storage retina:data Surfaces.South append value [300, 0, 300, 480, 480, 300];

        if (block ~ ~ ~ #minecraft:fences[west=true]) data modify storage retina:data Surfaces.Top append value [0, 480, 180, 180, 480, 300];
        if (block ~ ~ ~ #minecraft:fences[west=true]) data modify storage retina:data Surfaces.Bottom append value [0, 0, 180, 180, 0, 300];
        if (block ~ ~ ~ #minecraft:fences[west=true]) data modify storage retina:data Surfaces.West append value [0, 0, 180, 0, 480, 300];
        if (block ~ ~ ~ #minecraft:fences[west=true]) data modify storage retina:data Surfaces.East append value [180, 0, 180, 180, 480, 300];
        if (block ~ ~ ~ #minecraft:fences[west=true]) data modify storage retina:data Surfaces.North append value [0, 0, 180, 180, 480, 180];
        if (block ~ ~ ~ #minecraft:fences[west=true]) data modify storage retina:data Surfaces.South append value [0, 0, 300, 180, 480, 300];

        if (block ~ ~ ~ #minecraft:fences[south=true]) data modify storage retina:data Surfaces.Top append value [180, 480, 300, 300, 480, 480];
        if (block ~ ~ ~ #minecraft:fences[south=true]) data modify storage retina:data Surfaces.Bottom append value [180, 0, 300, 300, 0, 480];
        if (block ~ ~ ~ #minecraft:fences[south=true]) data modify storage retina:data Surfaces.West append value [180, 0, 300, 180, 480, 480];
        if (block ~ ~ ~ #minecraft:fences[south=true]) data modify storage retina:data Surfaces.East append value [300, 0, 300, 300, 480, 480];
        if (block ~ ~ ~ #minecraft:fences[south=true]) data modify storage retina:data Surfaces.North append value [180, 0, 300, 300, 480, 300];
        if (block ~ ~ ~ #minecraft:fences[south=true]) data modify storage retina:data Surfaces.South append value [180, 0, 480, 300, 480, 480];

        if (block ~ ~ ~ #minecraft:fences[north=true]) data modify storage retina:data Surfaces.Top append value [180, 480, 0, 300, 480, 180];
        if (block ~ ~ ~ #minecraft:fences[north=true]) data modify storage retina:data Surfaces.Bottom append value [180, 0, 0, 300, 0, 180];
        if (block ~ ~ ~ #minecraft:fences[north=true]) data modify storage retina:data Surfaces.West append value [180, 0, 0, 180, 480, 180];
        if (block ~ ~ ~ #minecraft:fences[north=true]) data modify storage retina:data Surfaces.East append value [300, 0, 0, 300, 480, 180];
        if (block ~ ~ ~ #minecraft:fences[north=true]) data modify storage retina:data Surfaces.North append value [180, 0, 0, 300, 480, 0];
        if (block ~ ~ ~ #minecraft:fences[north=true]) data modify storage retina:data Surfaces.South append value [180, 0, 180, 300, 480, 180];
    }
    function fire() {
        hitbox.carpet();
    }
    function grass_shaped() {
        data modify storage retina:data Surfaces set value {Top: [[60, 390, 60, 420, 390, 420]], Bottom: [[60, 0, 60, 420, 0, 420]], West: [[60, 0, 60, 60, 390, 420]], East: [[420, 0, 60, 420, 390, 420]], North: [[60, 0, 60, 420, 390, 60]], South: [[60, 0, 420, 420, 390, 420]]};
    }
    function grindstone() {
        if (block ~ ~ ~ minecraft:grindstone[face=ceiling]) {
            if (block ~ ~ ~ minecraft:grindstone[facing=north]) data modify storage retina:data Surfaces set value {Top:[[60, 480, 180, 120, 480, 300], [60, 270, 150, 120, 270, 330], [360, 480, 180, 420, 480, 300], [360, 270, 150, 420, 270, 330], [120, 360, 60, 360, 360, 420]], Bottom:[[60, 270, 180, 120, 270, 300], [60, 90, 150, 120, 90, 330], [360, 270, 180, 420, 270, 300], [360, 90, 150, 420, 90, 330], [120, 0, 60, 360, 0, 420]], West:[[60, 270, 180, 60, 480, 300], [60, 90, 150, 60, 270, 330], [360, 270, 180, 360, 480, 300], [360, 90, 150, 360, 270, 330], [120, 0, 60, 120, 360, 420]], East:[[120, 270, 180, 120, 480, 300], [120, 90, 150, 120, 270, 330], [420, 270, 180, 420, 480, 300], [420, 90, 150, 420, 270, 330], [360, 0, 60, 360, 360, 420]], North:[[60, 270, 180, 120, 480, 180], [60, 90, 150, 120, 270, 150], [360, 270, 180, 420, 480, 180], [360, 90, 150, 420, 270, 150], [120, 0, 60, 360, 360, 60]], South:[[60, 270, 300, 120, 480, 300], [60, 90, 330, 120, 270, 330], [360, 270, 300, 420, 480, 300], [360, 90, 330, 420, 270, 330], [120, 0, 420, 360, 360, 420]]}
            if (block ~ ~ ~ minecraft:grindstone[facing=south]) data modify storage retina:data Surfaces set value {Top:[[60, 480, 180, 120, 480, 300], [60, 270, 150, 120, 270, 330], [360, 480, 180, 420, 480, 300], [360, 270, 150, 420, 270, 330], [120, 360, 60, 360, 360, 420]], Bottom:[[60, 270, 180, 120, 270, 300], [60, 90, 150, 120, 90, 330], [360, 270, 180, 420, 270, 300], [360, 90, 150, 420, 90, 330], [120, 0, 60, 360, 0, 420]], West:[[60, 270, 180, 60, 480, 300], [60, 90, 150, 60, 270, 330], [360, 270, 180, 360, 480, 300], [360, 90, 150, 360, 270, 330], [120, 0, 60, 120, 360, 420]], East:[[120, 270, 180, 120, 480, 300], [120, 90, 150, 120, 270, 330], [420, 270, 180, 420, 480, 300], [420, 90, 150, 420, 270, 330], [360, 0, 60, 360, 360, 420]], North:[[60, 270, 180, 120, 480, 180], [60, 90, 150, 120, 270, 150], [360, 270, 180, 420, 480, 180], [360, 90, 150, 420, 270, 150], [120, 0, 60, 360, 360, 60]], South:[[60, 270, 300, 120, 480, 300], [60, 90, 330, 120, 270, 330], [360, 270, 300, 420, 480, 300], [360, 90, 330, 420, 270, 330], [120, 0, 420, 360, 360, 420]]}
            if (block ~ ~ ~ minecraft:grindstone[facing=west]) data modify storage retina:data Surfaces set value {Top:[[180, 480, 60, 300, 480, 120], [150, 270, 60, 330, 270, 120], [180, 480, 360, 300, 480, 420], [150, 270, 360, 330, 270, 420], [60, 360, 120, 420, 360, 360]], Bottom:[[180, 270, 60, 300, 270, 120], [150, 90, 60, 330, 90, 120], [180, 270, 360, 300, 270, 420], [150, 90, 360, 330, 90, 420], [60, 0, 120, 420, 0, 360]], West:[[180, 270, 60, 180, 480, 120], [150, 90, 60, 150, 270, 120], [180, 270, 360, 180, 480, 420], [150, 90, 360, 150, 270, 420], [60, 0, 120, 60, 360, 360]], East:[[300, 270, 60, 300, 480, 120], [330, 90, 60, 330, 270, 120], [300, 270, 360, 300, 480, 420], [330, 90, 360, 330, 270, 420], [420, 0, 120, 420, 360, 360]], North:[[180, 270, 60, 300, 480, 60], [150, 90, 60, 330, 270, 60], [180, 270, 360, 300, 480, 360], [150, 90, 360, 330, 270, 360], [60, 0, 120, 420, 360, 120]], South:[[180, 270, 120, 300, 480, 120], [150, 90, 120, 330, 270, 120], [180, 270, 420, 300, 480, 420], [150, 90, 420, 330, 270, 420], [60, 0, 360, 420, 360, 360]]}
            if (block ~ ~ ~ minecraft:grindstone[facing=east]) data modify storage retina:data Surfaces set value {Top:[[180, 480, 60, 300, 480, 120], [150, 270, 60, 330, 270, 120], [180, 480, 360, 300, 480, 420], [150, 270, 360, 330, 270, 420], [60, 360, 120, 420, 360, 360]], Bottom:[[180, 270, 60, 300, 270, 120], [150, 90, 60, 330, 90, 120], [180, 270, 360, 300, 270, 420], [150, 90, 360, 330, 90, 420], [60, 0, 120, 420, 0, 360]], West:[[180, 270, 60, 180, 480, 120], [150, 90, 60, 150, 270, 120], [180, 270, 360, 180, 480, 420], [150, 90, 360, 150, 270, 420], [60, 0, 120, 60, 360, 360]], East:[[300, 270, 60, 300, 480, 120], [330, 90, 60, 330, 270, 120], [300, 270, 360, 300, 480, 420], [330, 90, 360, 330, 270, 420], [420, 0, 120, 420, 360, 360]], North:[[180, 270, 60, 300, 480, 60], [150, 90, 60, 330, 270, 60], [180, 270, 360, 300, 480, 360], [150, 90, 360, 330, 270, 360], [60, 0, 120, 420, 360, 120]], South:[[180, 270, 120, 300, 480, 120], [150, 90, 120, 330, 270, 120], [180, 270, 420, 300, 480, 420], [150, 90, 420, 330, 270, 420], [60, 0, 360, 420, 360, 360]]}
        }
        if (block ~ ~ ~ minecraft:grindstone[face=ceiling]) return 1;

        if (block ~ ~ ~ minecraft:grindstone[face=wall]) {
            if (block ~ ~ ~ minecraft:grindstone[facing=north]) data modify storage retina:data Surfaces set value {Top:[[60, 300, 210, 120, 300, 480], [60, 330, 90, 120, 330, 270], [360, 300, 210, 420, 300, 480], [360, 330, 90, 420, 330, 270], [120, 420, 0, 360, 420, 360]], Bottom:[[60, 180, 210, 120, 180, 480], [60, 150, 90, 120, 150, 270], [360, 180, 210, 420, 180, 480], [360, 150, 90, 420, 150, 270], [120, 60, 0, 360, 60, 360]], West:[[60, 180, 210, 60, 300, 480], [60, 150, 90, 60, 330, 270], [360, 180, 210, 360, 300, 480], [360, 150, 90, 360, 330, 270], [120, 60, 0, 120, 420, 360]], East:[[120, 180, 210, 120, 300, 480], [120, 150, 90, 120, 330, 270], [420, 180, 210, 420, 300, 480], [420, 150, 90, 420, 330, 270], [360, 60, 0, 360, 420, 360]], North:[[60, 180, 210, 120, 300, 210], [60, 150, 90, 120, 330, 90], [360, 180, 210, 420, 300, 210], [360, 150, 90, 420, 330, 90], [120, 60, 0, 360, 420, 0]], South:[[60, 180, 480, 120, 300, 480], [60, 150, 270, 120, 330, 270], [360, 180, 480, 420, 300, 480], [360, 150, 270, 420, 330, 270], [120, 60, 360, 360, 420, 360]]}
            if (block ~ ~ ~ minecraft:grindstone[facing=south]) data modify storage retina:data Surfaces set value {Top:[[60, 300, 0, 120, 300, 210], [60, 330, 210, 120, 330, 390], [360, 300, 0, 420, 300, 210], [360, 330, 210, 420, 330, 390], [120, 420, 120, 360, 420, 480]], Bottom:[[60, 180, 0, 120, 180, 210], [60, 150, 210, 120, 150, 390], [360, 180, 0, 420, 180, 210], [360, 150, 210, 420, 150, 390], [120, 60, 120, 360, 60, 480]], West:[[60, 180, 0, 60, 300, 210], [60, 150, 210, 60, 330, 390], [360, 180, 0, 360, 300, 210], [360, 150, 210, 360, 330, 390], [120, 60, 120, 120, 420, 480]], East:[[120, 180, 0, 120, 300, 210], [120, 150, 210, 120, 330, 390], [420, 180, 0, 420, 300, 210], [420, 150, 210, 420, 330, 390], [360, 60, 120, 360, 420, 480]], North:[[60, 180, 0, 120, 300, 0], [60, 150, 210, 120, 330, 210], [360, 180, 0, 420, 300, 0], [360, 150, 210, 420, 330, 210], [120, 60, 120, 360, 420, 120]], South:[[60, 180, 210, 120, 300, 210], [60, 150, 390, 120, 330, 390], [360, 180, 210, 420, 300, 210], [360, 150, 390, 420, 330, 390], [120, 60, 480, 360, 420, 480]]}
            if (block ~ ~ ~ minecraft:grindstone[facing=west]) data modify storage retina:data Surfaces set value {Top:[[210, 300, 60, 480, 300, 120], [90, 330, 60, 270, 330, 120], [210, 300, 360, 480, 300, 420], [90, 330, 360, 270, 330, 420], [0, 420, 120, 360, 420, 360]], Bottom:[[210, 180, 60, 480, 180, 120], [90, 150, 60, 270, 150, 120], [210, 180, 360, 480, 180, 420], [90, 150, 360, 270, 150, 420], [0, 60, 120, 360, 60, 360]], West:[[210, 180, 60, 210, 300, 120], [90, 150, 60, 90, 330, 120], [210, 180, 360, 210, 300, 420], [90, 150, 360, 90, 330, 420], [0, 60, 120, 0, 420, 360]], East:[[480, 180, 60, 480, 300, 120], [270, 150, 60, 270, 330, 120], [480, 180, 360, 480, 300, 420], [270, 150, 360, 270, 330, 420], [360, 60, 120, 360, 420, 360]], North:[[210, 180, 60, 480, 300, 60], [90, 150, 60, 270, 330, 60], [210, 180, 360, 480, 300, 360], [90, 150, 360, 270, 330, 360], [0, 60, 120, 360, 420, 120]], South:[[210, 180, 120, 480, 300, 120], [90, 150, 120, 270, 330, 120], [210, 180, 420, 480, 300, 420], [90, 150, 420, 270, 330, 420], [0, 60, 360, 360, 420, 360]]}
            if (block ~ ~ ~ minecraft:grindstone[facing=east]) data modify storage retina:data Surfaces set value {Top:[[0, 300, 60, 270, 300, 120], [210, 330, 60, 390, 330, 120], [0, 300, 360, 270, 300, 420], [210, 330, 360, 390, 330, 420], [120, 420, 120, 480, 420, 360]], Bottom:[[0, 180, 60, 270, 180, 120], [210, 150, 60, 390, 150, 120], [0, 180, 360, 270, 180, 420], [210, 150, 360, 390, 150, 420], [120, 60, 120, 480, 60, 360]], West:[[0, 180, 60, 0, 300, 120], [210, 150, 60, 210, 330, 120], [0, 180, 360, 0, 300, 420], [210, 150, 360, 210, 330, 420], [120, 60, 120, 120, 420, 360]], East:[[270, 180, 60, 270, 300, 120], [390, 150, 60, 390, 330, 120], [270, 180, 360, 270, 300, 420], [390, 150, 360, 390, 330, 420], [480, 60, 120, 480, 420, 360]], North:[[0, 180, 60, 270, 300, 60], [210, 150, 60, 390, 330, 60], [0, 180, 360, 270, 300, 360], [210, 150, 360, 390, 330, 360], [120, 60, 120, 480, 420, 120]], South:[[0, 180, 120, 270, 300, 120], [210, 150, 120, 390, 330, 120], [0, 180, 420, 270, 300, 420], [210, 150, 420, 390, 330, 420], [120, 60, 360, 480, 420, 360]]}
        }
        if (block ~ ~ ~ minecraft:grindstone[face=wall]) return 1;

        if (block ~ ~ ~ minecraft:grindstone[facing=north]) data modify storage retina:data Surfaces set value {Top:[[60, 210, 180, 120, 210, 300], [60, 390, 150, 120, 390, 330], [360, 210, 180, 420, 210, 300], [360, 390, 150, 420, 390, 330], [120, 480, 60, 360, 480, 420]], Bottom:[[60, 0, 180, 120, 0, 300], [60, 210, 150, 120, 210, 330], [360, 0, 180, 420, 0, 300], [360, 210, 150, 420, 210, 330], [120, 120, 60, 360, 120, 420]], West:[[60, 0, 180, 60, 210, 300], [60, 210, 150, 60, 390, 330], [360, 0, 180, 360, 210, 300], [360, 210, 150, 360, 390, 330], [120, 120, 60, 120, 480, 420]], East:[[120, 0, 180, 120, 210, 300], [120, 210, 150, 120, 390, 330], [420, 0, 180, 420, 210, 300], [420, 210, 150, 420, 390, 330], [360, 120, 60, 360, 480, 420]], North:[[60, 0, 180, 120, 210, 180], [60, 210, 150, 120, 390, 150], [360, 0, 180, 420, 210, 180], [360, 210, 150, 420, 390, 150], [120, 120, 60, 360, 480, 60]], South:[[60, 0, 300, 120, 210, 300], [60, 210, 330, 120, 390, 330], [360, 0, 300, 420, 210, 300], [360, 210, 330, 420, 390, 330], [120, 120, 420, 360, 480, 420]]}
        if (block ~ ~ ~ minecraft:grindstone[facing=south]) data modify storage retina:data Surfaces set value {Top:[[60, 210, 180, 120, 210, 300], [60, 390, 150, 120, 390, 330], [360, 210, 180, 420, 210, 300], [360, 390, 150, 420, 390, 330], [120, 480, 60, 360, 480, 420]], Bottom:[[60, 0, 180, 120, 0, 300], [60, 210, 150, 120, 210, 330], [360, 0, 180, 420, 0, 300], [360, 210, 150, 420, 210, 330], [120, 120, 60, 360, 120, 420]], West:[[60, 0, 180, 60, 210, 300], [60, 210, 150, 60, 390, 330], [360, 0, 180, 360, 210, 300], [360, 210, 150, 360, 390, 330], [120, 120, 60, 120, 480, 420]], East:[[120, 0, 180, 120, 210, 300], [120, 210, 150, 120, 390, 330], [420, 0, 180, 420, 210, 300], [420, 210, 150, 420, 390, 330], [360, 120, 60, 360, 480, 420]], North:[[60, 0, 180, 120, 210, 180], [60, 210, 150, 120, 390, 150], [360, 0, 180, 420, 210, 180], [360, 210, 150, 420, 390, 150], [120, 120, 60, 360, 480, 60]], South:[[60, 0, 300, 120, 210, 300], [60, 210, 330, 120, 390, 330], [360, 0, 300, 420, 210, 300], [360, 210, 330, 420, 390, 330], [120, 120, 420, 360, 480, 420]]}
        if (block ~ ~ ~ minecraft:grindstone[facing=west]) data modify storage retina:data Surfaces set value {Top:[[180, 210, 60, 300, 210, 120], [150, 390, 60, 330, 390, 120], [180, 210, 360, 300, 210, 420], [150, 390, 360, 330, 390, 420], [60, 480, 120, 420, 480, 360]], Bottom:[[180, 0, 60, 300, 0, 120], [150, 210, 60, 330, 210, 120], [180, 0, 360, 300, 0, 420], [150, 210, 360, 330, 210, 420], [60, 120, 120, 420, 120, 360]], West:[[180, 0, 60, 180, 210, 120], [150, 210, 60, 150, 390, 120], [180, 0, 360, 180, 210, 420], [150, 210, 360, 150, 390, 420], [60, 120, 120, 60, 480, 360]], East:[[300, 0, 60, 300, 210, 120], [330, 210, 60, 330, 390, 120], [300, 0, 360, 300, 210, 420], [330, 210, 360, 330, 390, 420], [420, 120, 120, 420, 480, 360]], North:[[180, 0, 60, 300, 210, 60], [150, 210, 60, 330, 390, 60], [180, 0, 360, 300, 210, 360], [150, 210, 360, 330, 390, 360], [60, 120, 120, 420, 480, 120]], South:[[180, 0, 120, 300, 210, 120], [150, 210, 120, 330, 390, 120], [180, 0, 420, 300, 210, 420], [150, 210, 420, 330, 390, 420], [60, 120, 360, 420, 480, 360]]}
        if (block ~ ~ ~ minecraft:grindstone[facing=east]) data modify storage retina:data Surfaces set value {Top:[[180, 210, 60, 300, 210, 120], [150, 390, 60, 330, 390, 120], [180, 210, 360, 300, 210, 420], [150, 390, 360, 330, 390, 420], [60, 480, 120, 420, 480, 360]], Bottom:[[180, 0, 60, 300, 0, 120], [150, 210, 60, 330, 210, 120], [180, 0, 360, 300, 0, 420], [150, 210, 360, 330, 210, 420], [60, 120, 120, 420, 120, 360]], West:[[180, 0, 60, 180, 210, 120], [150, 210, 60, 150, 390, 120], [180, 0, 360, 180, 210, 420], [150, 210, 360, 150, 390, 420], [60, 120, 120, 60, 480, 360]], East:[[300, 0, 60, 300, 210, 120], [330, 210, 60, 330, 390, 120], [300, 0, 360, 300, 210, 420], [330, 210, 360, 330, 390, 420], [420, 120, 120, 420, 480, 360]], North:[[180, 0, 60, 300, 210, 60], [150, 210, 60, 330, 390, 60], [180, 0, 360, 300, 210, 360], [150, 210, 360, 330, 390, 360], [60, 120, 120, 420, 480, 120]], South:[[180, 0, 120, 300, 210, 120], [150, 210, 120, 330, 390, 120], [180, 0, 420, 300, 210, 420], [150, 210, 420, 330, 390, 420], [60, 120, 360, 420, 480, 360]]}
    }
    function hanging_roots() {
        data modify storage retina:data Surfaces set value {Top: [[60, 480, 60, 420, 480, 420]], Bottom: [[60, 300, 60, 420, 300, 420]], West: [[60, 300, 60, 60, 480, 420]], East: [[420, 300, 60, 420, 480, 420]], North: [[60, 300, 60, 420, 480, 60]], South: [[60, 300, 420, 420, 480, 420]]};
    }
    function hanging_sign() {
        // usual facing
        if (!block ~ ~ ~ #minecraft:ceiling_hanging_signs[rotation=0] && !block ~ ~ ~ #minecraft:ceiling_hanging_signs[rotation=4] && !block ~ ~ ~ #minecraft:ceiling_hanging_signs[rotation=8] && !block ~ ~ ~ #minecraft:ceiling_hanging_signs[rotation=12]) data modify storage retina:data Surfaces set value {Top:[[90, 480, 90, 390, 480, 390]], Bottom:[[90, 0, 90, 390, 0, 390]], West:[[90, 0, 90, 90, 480, 390]], East:[[390, 0, 90, 390, 480, 390]], North:[[90, 0, 90, 390, 480, 90]], South:[[90, 0, 390, 390, 480, 390]]}
        if (!block ~ ~ ~ #minecraft:ceiling_hanging_signs[rotation=0] && !block ~ ~ ~ #minecraft:ceiling_hanging_signs[rotation=4] && !block ~ ~ ~ #minecraft:ceiling_hanging_signs[rotation=8] && !block ~ ~ ~ #minecraft:ceiling_hanging_signs[rotation=12]) return 1;

        // facing X axis (east-west)
        if (!block ~ ~ ~ #minecraft:ceiling_hanging_signs[rotation=4] && !block ~ ~ ~ #minecraft:ceiling_hanging_signs[rotation=12]) data modify storage retina:data Surfaces set value {Top:[[30, 300, 210, 450, 300, 270]], Bottom:[[30, 0, 210, 450, 0, 270]], West:[[30, 0, 210, 30, 300, 270]], East:[[450, 0, 210, 450, 300, 270]], North:[[30, 0, 210, 450, 300, 210]], South:[[30, 0, 270, 450, 300, 270]]}
        if (!block ~ ~ ~ #minecraft:ceiling_hanging_signs[rotation=4] && !block ~ ~ ~ #minecraft:ceiling_hanging_signs[rotation=12]) return 1;

        // facing Z axis (north-south)
        data modify storage retina:data Surfaces set value {Top:[[210, 300, 30, 270, 300, 450]], Bottom:[[210, 0, 30, 270, 0, 450]], West:[[210, 0, 30, 210, 300, 450]], East:[[270, 0, 30, 270, 300, 450]], North:[[210, 0, 30, 270, 300, 30]], South:[[210, 0, 450, 270, 300, 450]]};
    }
    function head() {
        data modify storage retina:data Surfaces set value {Top: [[120, 240, 120, 360, 240, 360]], Bottom: [[120, 0, 120, 360, 0, 360]], West: [[120, 0, 120, 120, 240, 360]], East: [[360, 0, 120, 360, 240, 360]], North: [[120, 0, 120, 360, 240, 120]], South: [[120, 0, 360, 360, 240, 360]]};
    }
    function hopper() {
        data modify storage retina:data Surfaces set value {Top: [[0, 480, 0, 480, 480, 480]], Bottom: [[0, 300, 0, 480, 300, 480], [120, 120, 120, 360, 120, 360]], West: [[0, 300, 0, 0, 480, 480], [120, 120, 120, 120, 300, 360]], East: [[480, 300, 0, 480, 480, 480], [360, 120, 120, 360, 300, 360]], North: [[0, 300, 0, 480, 480, 0], [120, 120, 120, 360, 300, 120]], South: [[0, 300, 480, 480, 480, 480], [120, 120, 360, 360, 300, 360]]};

        if (block ~ ~ ~ minecraft:hopper[facing=east]) {
            data modify storage retina:data Surfaces.Top append value [360, 300, 180, 480, 300, 300]; 
            data modify storage retina:data Surfaces.Bottom append value [360, 120, 180, 480, 120, 300];
            data modify storage retina:data Surfaces.West append value [360, 120, 180, 360, 300, 300];
            data modify storage retina:data Surfaces.East append value [480, 120, 180, 480, 300, 300];
            data modify storage retina:data Surfaces.North append value [360, 120, 180, 480, 300, 180];
            data modify storage retina:data Surfaces.South append value [360, 120, 300, 480, 300, 300];
        }
        if (block ~ ~ ~ minecraft:hopper[facing=west]) {
            data modify storage retina:data Surfaces.Top append value [0, 300, 180, 120, 300, 300]; 
            data modify storage retina:data Surfaces.Bottom append value [0, 120, 180, 120, 120, 300];
            data modify storage retina:data Surfaces.West append value [0, 120, 180, 0, 300, 300];
            data modify storage retina:data Surfaces.East append value [120, 120, 180, 120, 300, 300];
            data modify storage retina:data Surfaces.North append value [0, 120, 180, 120, 300, 180];
            data modify storage retina:data Surfaces.South append value [0, 120, 300, 120, 300, 300];
        }
        if (block ~ ~ ~ minecraft:hopper[facing=south]) {
            data modify storage retina:data Surfaces.Top append value [180, 300, 360, 300, 300, 480]; 
            data modify storage retina:data Surfaces.Bottom append value [180, 120, 360, 300, 120, 480];
            data modify storage retina:data Surfaces.West append value [180, 120, 360, 180, 300, 480];
            data modify storage retina:data Surfaces.East append value [300, 120, 360, 300, 300, 480];
            data modify storage retina:data Surfaces.North append value [180, 120, 360, 300, 300, 360];
            data modify storage retina:data Surfaces.South append value [180, 120, 480, 300, 300, 480];
        }
        if (block ~ ~ ~ minecraft:hopper[facing=north]) {
            data modify storage retina:data Surfaces.Top append value [180, 300, 0, 300, 300, 120]; 
            data modify storage retina:data Surfaces.Bottom append value [180, 120, 0, 300, 120, 120];
            data modify storage retina:data Surfaces.West append value [180, 120, 0, 180, 300, 120];
            data modify storage retina:data Surfaces.East append value [300, 120, 0, 300, 300, 120];
            data modify storage retina:data Surfaces.North append value [180, 120, 0, 300, 300, 0];
            data modify storage retina:data Surfaces.South append value [180, 120, 120, 300, 300, 120];
        }
        if (block ~ ~ ~ minecraft:hopper[facing=down]) {
            data modify storage retina:data Surfaces.Top append value [180, 120, 180, 300, 120, 300]; 
            data modify storage retina:data Surfaces.Bottom append value [180, 0, 180, 300, 0, 300];
            data modify storage retina:data Surfaces.West append value [180, 0, 180, 180, 120, 300];
            data modify storage retina:data Surfaces.East append value [300, 0, 180, 300, 120, 300];
            data modify storage retina:data Surfaces.North append value [180, 0, 180, 300, 120, 180];
            data modify storage retina:data Surfaces.South append value [180, 0, 300, 300, 120, 300];
        }
    }
    function ladder() {
        if (block ~ ~ ~ minecraft:ladder[facing=east]) data modify storage retina:data Surfaces set value {Top: [[0, 480, 0, 60, 480, 480]], Bottom: [[0, 0, 0, 60, 0, 480]], West: [[0, 0, 0, 0, 480, 480]], East: [[60, 0, 0, 60, 480, 480]], North: [[0, 0, 0, 60, 480, 0]], South: [[0, 0, 480, 60, 480, 480]]}
        if (block ~ ~ ~ minecraft:ladder[facing=west]) data modify storage retina:data Surfaces set value {Top: [[420, 480, 0, 480, 480, 480]], Bottom: [[420, 0, 0, 480, 0, 480]], West: [[420, 0, 0, 420, 480, 480]], East: [[480, 0, 0, 480, 480, 480]], North: [[420, 0, 0, 480, 480, 0]], South: [[420, 0, 480, 480, 480, 480]]}
        if (block ~ ~ ~ minecraft:ladder[facing=north]) data modify storage retina:data Surfaces set value {Top: [[0, 480, 420, 480, 480, 480]], Bottom: [[0, 0, 420, 480, 0, 480]], West: [[0, 0, 420, 0, 480, 480]], East: [[480, 0, 420, 480, 480, 480]], North: [[0, 0, 420, 480, 480, 420]], South: [[0, 0, 480, 480, 480, 480]]}
        if (block ~ ~ ~ minecraft:ladder[facing=south]) data modify storage retina:data Surfaces set value {Top: [[0, 480, 0, 480, 480, 60]], Bottom: [[0, 0, 0, 480, 0, 60]], West: [[0, 0, 0, 0, 480, 60]], East: [[480, 0, 0, 480, 480, 60]], North: [[0, 0, 0, 480, 480, 0]], South: [[0, 0, 60, 480, 480, 60]]}
    }
    function lantern() {
        if (block ~ ~ ~ #retina:lantern[hanging=false]) data modify storage retina:data Surfaces set value {Top: [[150, 210, 150, 330, 210, 330], [180, 270, 180, 300, 270, 300]], Bottom: [[150, 0, 150, 330, 0, 330], [180, 210, 180, 300, 210, 300]], West: [[150, 0, 150, 150, 210, 330], [180, 210, 180, 180, 270, 300]], East: [[330, 0, 150, 330, 210, 330], [300, 210, 180, 300, 270, 300]], North: [[150, 0, 150, 330, 210, 150], [180, 210, 180, 300, 270, 180]], South: [[150, 0, 330, 330, 210, 330], [180, 210, 300, 300, 270, 300]]}
        if (block ~ ~ ~ #retina:lantern[hanging=true]) data modify storage retina:data Surfaces set value {Top: [[150, 240, 150, 330, 240, 330], [180, 300, 180, 300, 300, 300]], Bottom: [[150, 30, 150, 330, 30, 330], [180, 240, 180, 300, 240, 300]], West: [[150, 30, 150, 150, 240, 330], [180, 240, 180, 180, 300, 300]], East: [[330, 30, 150, 330, 240, 330], [300, 240, 180, 300, 300, 300]], North: [[150, 30, 150, 330, 240, 150], [180, 240, 180, 300, 300, 180]], South: [[150, 30, 330, 330, 240, 330], [180, 240, 300, 300, 300, 300]]}
    }
    function lectern() {
        if (block ~ ~ ~ minecraft:lectern[facing=north]) data modify storage retina:data Surfaces set value {Top:[[0, 420, 30, 480, 420, 160], [0, 480, 160, 480, 480, 290]], Bottom:[[0, 300, 30, 480, 300, 160], [0, 360, 160, 480, 360, 290]], West:[[0, 300, 30, 0, 420, 160], [0, 360, 160, 0, 480, 290]], East:[[480, 300, 30, 480, 420, 160], [480, 360, 160, 480, 480, 290]], North:[[0, 300, 30, 480, 420, 30], [0, 360, 160, 480, 480, 160]], South:[[0, 300, 160, 480, 420, 160], [0, 360, 290, 480, 480, 290]]}
        if (block ~ ~ ~ minecraft:lectern[facing=south]) data modify storage retina:data Surfaces set value {Top:[[0, 420, 320, 480, 420, 450], [0, 480, 190, 480, 480, 320]], Bottom:[[0, 300, 320, 480, 300, 450], [0, 360, 190, 480, 360, 320]], West:[[0, 300, 320, 0, 420, 450], [0, 360, 190, 0, 480, 320]], East:[[480, 300, 320, 480, 420, 450], [480, 360, 190, 480, 480, 320]], North:[[0, 300, 320, 480, 420, 320], [0, 360, 190, 480, 480, 190]], South:[[0, 300, 450, 480, 420, 450], [0, 360, 320, 480, 480, 320]]}
        if (block ~ ~ ~ minecraft:lectern[facing=west]) data modify storage retina:data Surfaces set value {Top:[[30, 420, 0, 160, 420, 480], [160, 480, 0, 290, 480, 480]], Bottom:[[30, 300, 0, 160, 300, 480], [160, 360, 0, 290, 360, 480]], West:[[30, 300, 0, 30, 420, 480], [160, 360, 0, 160, 480, 480]], East:[[160, 300, 0, 160, 420, 480], [290, 360, 0, 290, 480, 480]], North:[[30, 300, 0, 160, 420, 0], [160, 360, 0, 290, 480, 0]], South:[[30, 300, 480, 160, 420, 480], [160, 360, 480, 290, 480, 480]]}
        if (block ~ ~ ~ minecraft:lectern[facing=east]) data modify storage retina:data Surfaces set value {Top:[[320, 420, 0, 450, 420, 480], [190, 480, 0, 320, 480, 480]], Bottom:[[320, 300, 0, 450, 300, 480], [190, 360, 0, 320, 360, 480]], West:[[320, 300, 0, 320, 420, 480], [190, 360, 0, 190, 480, 480]], East:[[450, 300, 0, 450, 420, 480], [320, 360, 0, 320, 480, 480]], North:[[320, 300, 0, 450, 420, 0], [190, 360, 0, 320, 480, 0]], South:[[320, 300, 480, 450, 420, 480], [190, 360, 480, 320, 480, 480]]}
    }
    function lever() {
        if (block ~ ~ ~ minecraft:lever[face=floor] && !block ~ ~ ~ minecraft:lever[facing=north] && !block ~ ~ ~ minecraft:lever[facing=south]) data modify storage retina:data Surfaces set value {Top: [[120, 180, 150, 360, 180, 330]], Bottom: [[120, 0, 150, 360, 0, 330]], West: [[120, 0, 150, 120, 180, 330]], East: [[360, 0, 150, 360, 180, 330]], North: [[120, 0, 150, 360, 180, 150]], South: [[120, 0, 330, 360, 180, 330]]}
        if (block ~ ~ ~ minecraft:lever[face=floor] && !block ~ ~ ~ minecraft:lever[facing=east] && !block ~ ~ ~ minecraft:lever[facing=west]) data modify storage retina:data Surfaces set value {Top: [[150, 180, 120, 330, 180, 360]], Bottom: [[150, 0, 120, 330, 0, 360]], West: [[150, 0, 120, 150, 180, 360]], East: [[330, 0, 120, 330, 180, 360]], North: [[150, 0, 120, 330, 180, 120]], South: [[150, 0, 360, 330, 180, 360]]}

        if (block ~ ~ ~ minecraft:lever[face=wall,facing=north]) data modify storage retina:data Surfaces set value {Top: [[330, 360, 360, 150, 360, 480]], Bottom: [[330, 120, 360, 150, 120, 480]], West: [[150, 120, 360, 150, 360, 480]], East: [[330, 120, 360, 330, 360, 480]], North: [[150, 120, 360, 330, 360, 360]], South: [[150, 120, 480, 330, 360, 480]]}
        if (block ~ ~ ~ minecraft:lever[face=wall,facing=south]) data modify storage retina:data Surfaces set value {Top: [[330, 360, 0, 150, 360, 180]], Bottom: [[330, 120, 0, 150, 120, 180]], West: [[150, 120, 0, 150, 360, 180]], East: [[330, 120, 0, 330, 360, 180]], North: [[150, 120, 0, 330, 360, 0]], South: [[150, 120, 180, 330, 360, 180]]}

        if (block ~ ~ ~ minecraft:lever[face=wall,facing=west]) data modify storage retina:data Surfaces set value {Top: [[360, 360, 150, 480, 360, 330]], Bottom: [[360, 120, 150, 480, 120, 330]], West: [[360, 120, 150, 360, 360, 330]], East: [[480, 120, 150, 480, 360, 330]], North: [[360, 120, 150, 480, 360, 150]], South: [[360, 120, 330, 480, 360, 330]]}
        if (block ~ ~ ~ minecraft:lever[face=wall,facing=east]) data modify storage retina:data Surfaces set value {Top: [[0, 360, 150, 180, 360, 330]], Bottom: [[0, 120, 150, 180, 120, 330]], West: [[0, 120, 150, 0, 360, 330]], East: [[180, 120, 150, 180, 360, 330]], North: [[0, 120, 150, 180, 360, 150]], South: [[0, 120, 330, 180, 360, 330]]}
    
        if (block ~ ~ ~ minecraft:lever[face=ceiling] && !block ~ ~ ~ minecraft:lever[facing=north] && !block ~ ~ ~ minecraft:lever[facing=south]) data modify storage retina:data Surfaces set value {Top: [[120, 480, 150, 360, 480, 330]], Bottom: [[120, 300, 150, 360, 300, 330]], West: [[120, 300, 150, 120, 480, 330]], East: [[360, 300, 150, 360, 480, 330]], North: [[120, 300, 150, 360, 480, 150]], South: [[120, 300, 330, 360, 480, 330]]}
        if (block ~ ~ ~ minecraft:lever[face=ceiling] && !block ~ ~ ~ minecraft:lever[facing=east] && !block ~ ~ ~ minecraft:lever[facing=west]) data modify storage retina:data Surfaces set value {Top: [[150, 480, 120, 330, 480, 360]], Bottom: [[150, 300, 120, 330, 300, 360]], West: [[150, 300, 120, 150, 480, 360]], East: [[330, 300, 120, 330, 480, 360]], North: [[150, 300, 120, 330, 480, 120]], South: [[150, 300, 360, 330, 480, 360]]}
    }
    function lily_pad() {
        data modify storage retina:data Surfaces set value {Top: [[30, 30, 30, 450, 30, 450]], Bottom: [[30, 0, 30, 450, 0, 450]], West: [[30, 0, 30, 30, 30, 450]], East: [[450, 0, 30, 450, 30, 450]], North: [[30, 0, 30, 450, 30, 30]], South: [[30, 0, 450, 450, 30, 450]]};
    }
    function mushroom_shaped() {
        data modify storage retina:data Surfaces set value {Top: [[150, 180, 150, 330, 180, 330]], Bottom: [[150, 0, 150, 330, 0, 330]], West: [[150, 0, 150, 150, 180, 330]], East: [[330, 0, 150, 330, 180, 330]], North: [[150, 0, 150, 330, 180, 150]], South: [[150, 0, 330, 330, 180, 330]]};
    }
    function nether_fungus() {
        data modify storage retina:data Surfaces set value {Top: [[120, 270, 120, 360, 270, 360]], Bottom: [[120, 0, 120, 360, 0, 360]], West: [[120, 0, 120, 120, 270, 360]], East: [[360, 0, 120, 360, 270, 360]], North: [[120, 0, 120, 360, 270, 120]], South: [[120, 0, 360, 360, 270, 360]]};
    }
    function nether_sprouts() {
        data modify storage retina:data Surfaces set value {Top: [[60, 90, 60, 420, 90, 420]], Bottom: [[60, 0, 60, 420, 0, 420]], West: [[60, 0, 60, 60, 90, 420]], East: [[420, 0, 60, 420, 90, 420]], North: [[60, 0, 60, 420, 90, 60]], South: [[60, 0, 420, 420, 90, 420]]};
    }
    function nether_wart() {
        if (block ~ ~ ~ nether_wart[age=0]) {
            data modify storage retina:data Surfaces set value {Top: [[0, 150, 0, 480, 150, 480]], Bottom: [[0, 0, 0, 480, 0, 480]], West: [[0, 0, 0, 0, 150, 480]], East: [[480, 0, 0, 480, 150, 480]], North: [[0, 0, 0, 480, 150, 0]], South: [[0, 0, 480, 480, 150, 480]]};
        }
        if (block ~ ~ ~ nether_wart[age=1]) {
            data modify storage retina:data Surfaces set value {Top: [[0, 240, 0, 480, 240, 480]], Bottom: [[0, 0, 0, 480, 0, 480]], West: [[0, 0, 0, 0, 240, 480]], East: [[480, 0, 0, 480, 240, 480]], North: [[0, 0, 0, 480, 240, 0]], South: [[0, 0, 480, 480, 240, 480]]};
        }
        if (block ~ ~ ~ nether_wart[age=2]) {
            data modify storage retina:data Surfaces set value {Top: [[0, 330, 0, 480, 330, 480]], Bottom: [[0, 0, 0, 480, 0, 480]], West: [[0, 0, 0, 0, 330, 480]], East: [[480, 0, 0, 480, 330, 480]], North: [[0, 0, 0, 480, 330, 0]], South: [[0, 0, 480, 480, 330, 480]]};
        }
        if (block ~ ~ ~ nether_wart[age=3]) {
            data modify storage retina:data Surfaces set value {Top: [[0, 420, 0, 480, 420, 480]], Bottom: [[0, 0, 0, 480, 0, 480]], West: [[0, 0, 0, 0, 420, 480]], East: [[480, 0, 0, 480, 420, 480]], North: [[0, 0, 0, 480, 420, 0]], South: [[0, 0, 480, 480, 420, 480]]};
        }
    }
    function pane_shaped() {
        data modify storage retina:data Surfaces set value {Top: [[210, 480, 210, 270, 480, 270]], Bottom: [[210, 0, 210, 270, 0, 270]], West: [[210, 0, 210, 210, 480, 270]], East: [[270, 0, 210, 270, 480, 270]], North: [[210, 0, 210, 270, 480, 210]], South: [[210, 0, 270, 270, 480, 270]]};

        if (block ~ ~ ~ #retina:pane_shaped[east=true]) data modify storage retina:data Surfaces.Top append value [270, 480, 210, 480, 480, 270];
        if (block ~ ~ ~ #retina:pane_shaped[east=true]) data modify storage retina:data Surfaces.Bottom append value [270, 0, 210, 480, 0, 270];
        if (block ~ ~ ~ #retina:pane_shaped[east=true]) data modify storage retina:data Surfaces.West append value [270, 0, 210, 270, 480, 270];
        if (block ~ ~ ~ #retina:pane_shaped[east=true]) data modify storage retina:data Surfaces.East append value [480, 0, 210, 480, 480, 270];
        if (block ~ ~ ~ #retina:pane_shaped[east=true]) data modify storage retina:data Surfaces.North append value [270, 0, 210, 480, 480, 210];
        if (block ~ ~ ~ #retina:pane_shaped[east=true]) data modify storage retina:data Surfaces.South append value [270, 0, 270, 480, 480, 270];

        if (block ~ ~ ~ #retina:pane_shaped[west=true]) data modify storage retina:data Surfaces.Top append value [0, 480, 210, 210, 480, 270];
        if (block ~ ~ ~ #retina:pane_shaped[west=true]) data modify storage retina:data Surfaces.Bottom append value [0, 0, 210, 210, 0, 270];
        if (block ~ ~ ~ #retina:pane_shaped[west=true]) data modify storage retina:data Surfaces.West append value [0, 0, 210, 0, 480, 270];
        if (block ~ ~ ~ #retina:pane_shaped[west=true]) data modify storage retina:data Surfaces.East append value [210, 0, 210, 210, 480, 270];
        if (block ~ ~ ~ #retina:pane_shaped[west=true]) data modify storage retina:data Surfaces.North append value [0, 0, 210, 210, 480, 210];
        if (block ~ ~ ~ #retina:pane_shaped[west=true]) data modify storage retina:data Surfaces.South append value [0, 0, 270, 210, 480, 270];

        if (block ~ ~ ~ #retina:pane_shaped[south=true]) data modify storage retina:data Surfaces.Top append value [210, 480, 270, 270, 480, 480];
        if (block ~ ~ ~ #retina:pane_shaped[south=true]) data modify storage retina:data Surfaces.Bottom append value [210, 0, 270, 270, 0, 480];
        if (block ~ ~ ~ #retina:pane_shaped[south=true]) data modify storage retina:data Surfaces.West append value [210, 0, 270, 210, 480, 480];
        if (block ~ ~ ~ #retina:pane_shaped[south=true]) data modify storage retina:data Surfaces.East append value [270, 0, 270, 270, 480, 480];
        if (block ~ ~ ~ #retina:pane_shaped[south=true]) data modify storage retina:data Surfaces.North append value [210, 0, 270, 270, 480, 270];
        if (block ~ ~ ~ #retina:pane_shaped[south=true]) data modify storage retina:data Surfaces.South append value [210, 0, 480, 270, 480, 480];

        if (block ~ ~ ~ #retina:pane_shaped[north=true]) data modify storage retina:data Surfaces.Top append value [210, 480, 0, 270, 480, 210];
        if (block ~ ~ ~ #retina:pane_shaped[north=true]) data modify storage retina:data Surfaces.Bottom append value [210, 0, 0, 270, 0, 210];
        if (block ~ ~ ~ #retina:pane_shaped[north=true]) data modify storage retina:data Surfaces.West append value [210, 0, 0, 210, 480, 210];
        if (block ~ ~ ~ #retina:pane_shaped[north=true]) data modify storage retina:data Surfaces.East append value [270, 0, 0, 270, 480, 210];
        if (block ~ ~ ~ #retina:pane_shaped[north=true]) data modify storage retina:data Surfaces.North append value [210, 0, 0, 270, 480, 0];
        if (block ~ ~ ~ #retina:pane_shaped[north=true]) data modify storage retina:data Surfaces.South append value [210, 0, 210, 270, 480, 210];
    }
    function pickle() {
        if (block ~ ~ ~ minecraft:sea_pickle[pickles=1]) data modify storage retina:data Surfaces set value {Top: [[180, 180, 180, 300, 180, 300]], Bottom: [[180, 0, 180, 300, 0, 300]], West: [[180, 0, 180, 180, 180, 300]], East: [[300, 0, 180, 300, 180, 300]], North: [[180, 0, 180, 300, 180, 180]], South: [[180, 0, 300, 300, 180, 300]]}
        if (block ~ ~ ~ minecraft:sea_pickle[pickles=2]) data modify storage retina:data Surfaces set value {Top: [[90, 180, 90, 390, 180, 390]], Bottom: [[90, 0, 90, 390, 0, 390]], West: [[90, 0, 90, 90, 180, 390]], East: [[390, 0, 90, 390, 180, 390]], North: [[90, 0, 90, 390, 180, 90]], South: [[90, 0, 390, 390, 180, 390]]}
        if (block ~ ~ ~ minecraft:sea_pickle[pickles=3]) data modify storage retina:data Surfaces set value {Top: [[60, 180, 60, 420, 180, 420]], Bottom: [[60, 0, 60, 420, 0, 420]], West: [[60, 0, 60, 60, 180, 420]], East: [[420, 0, 60, 420, 180, 420]], North: [[60, 0, 60, 420, 180, 60]], South: [[60, 0, 420, 420, 180, 420]]}
        if (block ~ ~ ~ minecraft:sea_pickle[pickles=4]) data modify storage retina:data Surfaces set value {Top: [[60, 210, 60, 420, 210, 420]], Bottom: [[60, 0, 60, 420, 0, 420]], West: [[60, 0, 60, 60, 210, 420]], East: [[420, 0, 60, 420, 210, 420]], North: [[60, 0, 60, 420, 210, 60]], South: [[60, 0, 420, 420, 210, 420]]}
    }
    function pink_petals() {
        data modify storage retina:data Surfaces set value {Top: [[0, 90, 0, 480, 90, 480]], Bottom: [[0, 0, 0, 480, 0, 480]], West: [[0, 0, 0, 0, 90, 480]], East: [[480, 0, 0, 480, 90, 480]], North: [[0, 0, 0, 480, 90, 0]], South: [[0, 0, 480, 480, 90, 480]]};
    }
    function piglin_head() {
        data modify storage retina:data Surfaces set value {Top: [[90, 240, 90, 390, 240, 390]], Bottom: [[90, 0, 90, 390, 0, 390]], West: [[90, 0, 90, 90, 240, 390]], East: [[390, 0, 90, 390, 240, 390]], North: [[90, 0, 90, 390, 240, 90]], South: [[90, 0, 390, 390, 240, 390]]};
    }
    function piglin_wall_head() {
        if (block ~ ~ ~ minecraft:piglin_wall_head[facing=north]) data modify storage retina:data Surfaces set value {Top:[[90, 360, 240, 390, 360, 480]], Bottom:[[90, 120, 240, 390, 120, 480]], West:[[90, 120, 240, 90, 360, 480]], East:[[390, 120, 240, 390, 360, 480]], North:[[90, 120, 240, 390, 360, 240]], South:[[90, 120, 480, 390, 360, 480]]}
        if (block ~ ~ ~ minecraft:piglin_wall_head[facing=south]) data modify storage retina:data Surfaces set value {Top:[[90, 360, 0, 390, 360, 240]], Bottom:[[90, 120, 0, 390, 120, 240]], West:[[90, 120, 0, 90, 360, 240]], East:[[390, 120, 0, 390, 360, 240]], North:[[90, 120, 0, 390, 360, 0]], South:[[90, 120, 240, 390, 360, 240]]}
        if (block ~ ~ ~ minecraft:piglin_wall_head[facing=east]) data modify storage retina:data Surfaces set value {Top:[[0, 360, 90, 240, 360, 390]], Bottom:[[0, 120, 90, 240, 120, 390]], West:[[0, 120, 90, 0, 360, 390]], East:[[240, 120, 90, 240, 360, 390]], North:[[0, 120, 90, 240, 360, 90]], South:[[0, 120, 390, 240, 360, 390]]}
        if (block ~ ~ ~ minecraft:piglin_wall_head[facing=west]) data modify storage retina:data Surfaces set value {Top:[[240, 360, 90, 480, 360, 390]], Bottom:[[240, 120, 90, 480, 120, 390]], West:[[240, 120, 90, 240, 360, 390]], East:[[480, 120, 90, 480, 360, 390]], North:[[240, 120, 90, 480, 360, 90]], South:[[240, 120, 390, 480, 360, 390]]}
    }
    function piston_head() {
        if (block ~ ~ ~ minecraft:piston_head[facing=down]) data modify storage retina:data Surfaces set value {Top:[[0, 120, 0, 480, 120, 480], [180, 480, 180, 300, 480, 300]], Bottom:[[0, 0, 0, 480, 0, 480], [180, 120, 180, 300, 120, 300]], West:[[0, 0, 0, 0, 120, 480], [180, 120, 180, 180, 480, 300]], East:[[480, 0, 0, 480, 120, 480], [300, 120, 180, 300, 480, 300]], North:[[0, 0, 0, 480, 120, 0], [180, 120, 180, 300, 480, 180]], South:[[0, 0, 480, 480, 120, 480], [180, 120, 300, 300, 480, 300]]}
        if (block ~ ~ ~ minecraft:piston_head[facing=up]) data modify storage retina:data Surfaces set value {Top:[[0, 480, 0, 480, 480, 480], [180, 360, 180, 300, 360, 300]], Bottom:[[0, 360, 0, 480, 360, 480], [180, 0, 180, 300, 0, 300]], West:[[0, 360, 0, 0, 480, 480], [180, 0, 180, 180, 360, 300]], East:[[480, 360, 0, 480, 480, 480], [300, 0, 180, 300, 360, 300]], North:[[0, 360, 0, 480, 480, 0], [180, 0, 180, 300, 360, 180]], South:[[0, 360, 480, 480, 480, 480], [180, 0, 300, 300, 360, 300]]}
        if (block ~ ~ ~ minecraft:piston_head[facing=north]) data modify storage retina:data Surfaces set value {Top:[[0, 480, 0, 480, 480, 120], [180, 300, 120, 300, 300, 480]], Bottom:[[0, 0, 0, 480, 0, 120], [180, 180, 120, 300, 180, 480]], West:[[0, 0, 0, 0, 480, 120], [180, 180, 120, 180, 300, 480]], East:[[480, 0, 0, 480, 480, 120], [300, 180, 120, 300, 300, 480]], North:[[0, 0, 0, 480, 480, 0], [180, 180, 120, 300, 300, 120]], South:[[0, 0, 120, 480, 480, 120], [180, 180, 480, 300, 300, 480]]}
        if (block ~ ~ ~ minecraft:piston_head[facing=south]) data modify storage retina:data Surfaces set value {Top:[[0, 480, 360, 480, 480, 480], [180, 300, 0, 300, 300, 360]], Bottom:[[0, 0, 360, 480, 0, 480], [180, 180, 0, 300, 180, 360]], West:[[0, 0, 360, 0, 480, 480], [180, 180, 0, 180, 300, 360]], East:[[480, 0, 360, 480, 480, 480], [300, 180, 0, 300, 300, 360]], North:[[0, 0, 360, 480, 480, 360], [180, 180, 0, 300, 300, 0]], South:[[0, 0, 480, 480, 480, 480], [180, 180, 360, 300, 300, 360]]}
        if (block ~ ~ ~ minecraft:piston_head[facing=west]) data modify storage retina:data Surfaces set value {Top:[[0, 480, 0, 120, 480, 480], [120, 300, 180, 480, 300, 300]], Bottom:[[0, 0, 0, 120, 0, 480], [120, 180, 180, 480, 180, 300]], West:[[0, 0, 0, 0, 480, 480], [120, 180, 180, 120, 300, 300]], East:[[120, 0, 0, 120, 480, 480], [480, 180, 180, 480, 300, 300]], North:[[0, 0, 0, 120, 480, 0], [120, 180, 180, 480, 300, 180]], South:[[0, 0, 480, 120, 480, 480], [120, 180, 300, 480, 300, 300]]}
        if (block ~ ~ ~ minecraft:piston_head[facing=east]) data modify storage retina:data Surfaces set value {Top:[[360, 480, 0, 480, 480, 480], [0, 300, 180, 360, 300, 300]], Bottom:[[360, 0, 0, 480, 0, 480], [0, 180, 180, 360, 180, 300]], West:[[360, 0, 0, 360, 480, 480], [0, 180, 180, 0, 300, 300]], East:[[480, 0, 0, 480, 480, 480], [360, 180, 180, 360, 300, 300]], North:[[360, 0, 0, 480, 480, 0], [0, 180, 180, 360, 300, 180]], South:[[360, 0, 480, 480, 480, 480], [0, 180, 300, 360, 300, 300]]}
    }
    function pitcher_crop() {
        if (block ~ ~ ~ minecraft:pitcher_crop[age=0]) data modify storage retina:data Surfaces set value {Top: [[150, 90, 150, 330, 90, 330]], Bottom: [[150, 0, 150, 330, 0, 330]], West: [[150, 0, 150, 150, 90, 330]], East: [[330, 0, 150, 330, 90, 330]], North: [[150, 0, 150, 330, 90, 150]], South: [[150, 0, 330, 330, 90, 330]]}
        if (block ~ ~ ~ minecraft:pitcher_crop[age=1]) data modify storage retina:data Surfaces set value {Top: [[90, 420, 90, 390, 420, 390]], Bottom: [[90, 0, 90, 390, 0, 390]], West: [[90, 0, 90, 90, 420, 390]], East: [[390, 0, 90, 390, 420, 390]], North: [[90, 0, 90, 390, 420, 90]], South: [[90, 0, 390, 390, 420, 390]]}
        if (block ~ ~ ~ minecraft:pitcher_crop[age=2]) data modify storage retina:data Surfaces set value {Top: [[90, 480, 90, 390, 480, 390]], Bottom: [[90, 0, 90, 390, 0, 390]], West: [[90, 0, 90, 90, 480, 390]], East: [[390, 0, 90, 390, 480, 390]], North: [[90, 0, 90, 390, 480, 90]], South: [[90, 0, 390, 390, 480, 390]]}

        if (block ~ ~ ~ minecraft:pitcher_crop[age=3,half=lower]) data modify storage retina:data Surfaces set value {Top: [[90, 480, 90, 390, 480, 390]], Bottom: [[90, 0, 90, 390, 0, 390]], West: [[90, 0, 90, 90, 480, 390]], East: [[390, 0, 90, 390, 480, 390]], North: [[90, 0, 90, 390, 480, 90]], South: [[90, 0, 390, 390, 480, 390]]}
        if (block ~ ~ ~ minecraft:pitcher_crop[age=3,half=upper]) data modify storage retina:data Surfaces set value {Top: [[90, 330, 90, 390, 330, 390]], Bottom: [[90, 0, 90, 390, 0, 390]], West: [[90, 0, 90, 90, 330, 390]], East: [[390, 0, 90, 390, 330, 390]], North: [[90, 0, 90, 390, 330, 90]], South: [[90, 0, 390, 390, 330, 390]]}

        if (block ~ ~ ~ minecraft:pitcher_crop[age=4,half=lower]) data modify storage retina:data Surfaces set value {Top: [[90, 480, 90, 390, 480, 390]], Bottom: [[90, 0, 90, 390, 0, 390]], West: [[90, 0, 90, 90, 480, 390]], East: [[390, 0, 90, 390, 480, 390]], North: [[90, 0, 90, 390, 480, 90]], South: [[90, 0, 390, 390, 480, 390]]}
        if (block ~ ~ ~ minecraft:pitcher_crop[age=4,half=upper]) data modify storage retina:data Surfaces set value {Top: [[90, 450, 90, 390, 450, 390]], Bottom: [[90, 0, 90, 390, 0, 390]], West: [[90, 0, 90, 90, 450, 390]], East: [[390, 0, 90, 390, 450, 390]], North: [[90, 0, 90, 390, 450, 90]], South: [[90, 0, 390, 390, 450, 390]]}  
    }
    function pressure_plate() {
        if (block ~ ~ ~ #minecraft:pressure_plates[powered=false]) data modify storage retina:data Surfaces set value {Top: [[30, 30, 30, 450, 30, 450]], Bottom: [[30, 0, 30, 450, 0, 450]], West: [[30, 0, 30, 30, 30, 450]], East: [[450, 0, 30, 450, 30, 450]], North: [[30, 0, 30, 450, 30, 30]], South: [[30, 0, 450, 450, 30, 450]]}
        if (block ~ ~ ~ #minecraft:pressure_plates[powered=true]) data modify storage retina:data Surfaces set value {Top: [[30, 15, 30, 450, 15, 450]], Bottom: [[30, 0, 30, 450, 0, 450]], West: [[30, 0, 30, 30, 15, 450]], East: [[450, 0, 30, 450, 15, 450]], North: [[30, 0, 30, 450, 15, 30]], South: [[30, 0, 450, 450, 15, 450]]}
    }
    function rail() {
        if (!block ~ ~ ~ #retina:rail[shape=ascending_east] && !block ~ ~ ~ #retina:rail[shape=ascending_west] && !block ~ ~ ~ #retina:rail[shape=ascending_north] && !block ~ ~ ~ #retina:rail[shape=ascending_south]) {
            data modify storage retina:data Surfaces set value {Top: [[0, 60, 0, 480, 60, 480]], Bottom: [[0, 0, 0, 480, 0, 480]], West: [[0, 0, 0, 0, 60, 480]], East: [[480, 0, 0, 480, 60, 480]], North: [[0, 0, 0, 480, 60, 0]], South: [[0, 0, 480, 480, 60, 480]]};
        }
        if (!block ~ ~ ~ #retina:rail[shape=east_west] && !block ~ ~ ~ #retina:rail[shape=north_south] && !block ~ ~ ~ #retina:rail[shape=north_west] && !block ~ ~ ~ #retina:rail[shape=north_east] && !block ~ ~ ~ #retina:rail[shape=south_west] && !block ~ ~ ~ #retina:rail[shape=south_east]) {
            data modify storage retina:data Surfaces set value {Top: [[0, 240, 0, 480, 240, 480]], Bottom: [[0, 0, 0, 480, 0, 480]], West: [[0, 0, 0, 0, 240, 480]], East: [[480, 0, 0, 480, 240, 480]], North: [[0, 0, 0, 480, 240, 0]], South: [[0, 0, 480, 480, 240, 480]]};
        }
    }
    function repeater_shaped() {
        data modify storage retina:data Surfaces set value {Top: [[0, 60, 0, 480, 60, 480]], Bottom: [[0, 0, 0, 480, 0, 480]], West: [[0, 0, 0, 0, 60, 480]], East: [[480, 0, 0, 480, 60, 480]], North: [[0, 0, 0, 480, 60, 0]], South: [[0, 0, 480, 480, 60, 480]]};
    }
    function rod() {
        if (!block ~ ~ ~ #retina:rod[facing=north] && !block ~ ~ ~ #retina:rod[facing=south] && !block ~ ~ ~ #retina:rod[facing=up] && !block ~ ~ ~ #retina:rod[facing=down]) data modify storage retina:data Surfaces set value {Top: [[0, 285, 180, 480, 300, 300]], Bottom: [[0, 180, 180, 480, 180, 300]], West: [[0, 180, 180, 0, 300, 300]], East: [[480, 180, 180, 480, 300, 300]], North: [[0, 180, 180, 480, 300, 180]], South: [[0, 180, 300, 480, 300, 300]]}
        if (!block ~ ~ ~ #retina:rod[facing=north] && !block ~ ~ ~ #retina:rod[facing=south] && !block ~ ~ ~ #retina:rod[facing=east] && !block ~ ~ ~ #retina:rod[facing=west]) data modify storage retina:data Surfaces set value {Top: [[180, 480, 180, 300, 480, 300]], Bottom: [[180, 0, 180, 300, 0, 300]], West: [[180, 0, 180, 180, 480, 300]], East: [[300, 0, 180, 300, 480, 300]], North: [[180, 0, 180, 300, 480, 180]], South: [[180, 0, 300, 300, 480, 300]]}
        if (!block ~ ~ ~ #retina:rod[facing=east] && !block ~ ~ ~ #retina:rod[facing=west] && !block ~ ~ ~ #retina:rod[facing=up] && !block ~ ~ ~ #retina:rod[facing=down]) data modify storage retina:data Surfaces set value {Top: [[180, 300, 0, 300, 300, 480]], Bottom: [[180, 180, 0, 300, 180, 480]], West: [[180, 180, 0, 180, 300, 480]], East: [[300, 180, 0, 300, 300, 480]], North: [[180, 180, 0, 300, 300, 0]], South: [[180, 180, 480, 300, 300, 480]]}
    }
    function sapling() {
        data modify storage retina:data Surfaces set value {Top: [[60, 360, 60, 420, 360, 420]], Bottom: [[60, 0, 60, 420, 0, 420]], West: [[60, 0, 60, 60, 360, 420]], East: [[420, 0, 60, 420, 360, 420]], North: [[60, 0, 60, 420, 360, 60]], South: [[60, 0, 420, 420, 360, 420]]};
    }
    function seagrass() {
        data modify storage retina:data Surfaces set value {Top: [[60, 360, 60, 420, 360, 420]], Bottom: [[60, 0, 60, 420, 0, 420]], West: [[60, 0, 60, 60, 360, 420]], East: [[420, 0, 60, 420, 360, 420]], North: [[60, 0, 60, 420, 360, 60]], South: [[60, 0, 420, 420, 360, 420]]};
    }
    function short_crop() {
        if (block ~ ~ ~ #retina:short_crop[age=0]) data modify storage retina:data Surfaces set value {Top: [[0, 60, 0, 480, 60, 480]], Bottom: [[0, 0, 0, 480, 0, 480]], West: [[0, 0, 0, 0, 60, 480]], East: [[480, 0, 0, 480, 60, 480]], North: [[0, 0, 0, 480, 60, 0]], South: [[0, 0, 480, 480, 60, 480]]}
        if (block ~ ~ ~ #retina:short_crop[age=1]) data modify storage retina:data Surfaces set value {Top: [[0, 90, 0, 480, 90, 480]], Bottom: [[0, 0, 0, 480, 0, 480]], West: [[0, 0, 0, 0, 90, 480]], East: [[480, 0, 0, 480, 90, 480]], North: [[0, 0, 0, 480, 90, 0]], South: [[0, 0, 480, 480, 90, 480]]}
        if (block ~ ~ ~ #retina:short_crop[age=2]) data modify storage retina:data Surfaces set value {Top: [[0, 120, 0, 480, 120, 480]], Bottom: [[0, 0, 0, 480, 0, 480]], West: [[0, 0, 0, 0, 120, 480]], East: [[480, 0, 0, 480, 120, 480]], North: [[0, 0, 0, 480, 120, 0]], South: [[0, 0, 480, 480, 120, 480]]}
        if (block ~ ~ ~ #retina:short_crop[age=3]) data modify storage retina:data Surfaces set value {Top: [[0, 150, 0, 480, 150, 480]], Bottom: [[0, 0, 0, 480, 0, 480]], West: [[0, 0, 0, 0, 150, 480]], East: [[480, 0, 0, 480, 150, 480]], North: [[0, 0, 0, 480, 150, 0]], South: [[0, 0, 480, 480, 150, 480]]}
        if (block ~ ~ ~ #retina:short_crop[age=4]) data modify storage retina:data Surfaces set value {Top: [[0, 180, 0, 480, 180, 480]], Bottom: [[0, 0, 0, 480, 0, 480]], West: [[0, 0, 0, 0, 180, 480]], East: [[480, 0, 0, 480, 180, 480]], North: [[0, 0, 0, 480, 180, 0]], South: [[0, 0, 480, 480, 180, 480]]}
        if (block ~ ~ ~ #retina:short_crop[age=5]) data modify storage retina:data Surfaces set value {Top: [[0, 210, 0, 480, 210, 480]], Bottom: [[0, 0, 0, 480, 0, 480]], West: [[0, 0, 0, 0, 210, 480]], East: [[480, 0, 0, 480, 210, 480]], North: [[0, 0, 0, 480, 210, 0]], South: [[0, 0, 480, 480, 210, 480]]}
        if (block ~ ~ ~ #retina:short_crop[age=6]) data modify storage retina:data Surfaces set value {Top: [[0, 240, 0, 480, 240, 480]], Bottom: [[0, 0, 0, 480, 0, 480]], West: [[0, 0, 0, 0, 240, 480]], East: [[480, 0, 0, 480, 240, 480]], North: [[0, 0, 0, 480, 240, 0]], South: [[0, 0, 480, 480, 240, 480]]}
        if (block ~ ~ ~ #retina:short_crop[age=7]) data modify storage retina:data Surfaces set value {Top: [[0, 270, 0, 480, 270, 480]], Bottom: [[0, 0, 0, 480, 0, 480]], West: [[0, 0, 0, 0, 270, 480]], East: [[480, 0, 0, 480, 270, 480]], North: [[0, 0, 0, 480, 270, 0]], South: [[0, 0, 480, 480, 270, 480]]}
    }
    function slab() {
        if (block ~ ~ ~ #retina:sculk_sensor) data modify storage retina:data Surfaces set value {Top: [[0, 240,  0, 480, 240,  480]], Bottom: [[0, 0, 0, 480, 0, 480]], West: [[0, 0, 0, 0, 240, 480]], East: [[480, 0, 0, 480, 240, 480]], North: [[0, 0, 0, 480, 240, 0]], South: [[0, 0, 480, 480, 240, 480]]}
        if (block ~ ~ ~ #minecraft:slabs[type=bottom]) data modify storage retina:data Surfaces set value {Top: [[0, 240,  0, 480, 240,  480]], Bottom: [[0, 0, 0, 480, 0, 480]], West: [[0, 0, 0, 0, 240, 480]], East: [[480, 0, 0, 480, 240, 480]], North: [[0, 0, 0, 480, 240, 0]], South: [[0, 0, 480, 480, 240, 480]]}
        if (block ~ ~ ~ #minecraft:slabs[type=top]) data modify storage retina:data Surfaces set value {Top: [[0, 480, 0, 480, 480, 480]], Bottom: [[0, 240, 0, 480, 240, 480]], West: [[0, 240, 0, 0, 480, 480]], East: [[480, 240, 0, 480, 480, 480]], North: [[0, 240, 0, 480, 480, 0]], South: [[0, 240, 480, 480, 480, 480]]}
        if (block ~ ~ ~ #minecraft:slabs[type=double]) data modify storage retina:data Surfaces set value {Top: [[0, 480, 0, 480, 480, 480]], Bottom: [[0, 0, 0, 480, 0, 480]], West: [[0, 0, 0, 0, 480, 480]], East: [[480, 0, 0, 480, 480, 480]], North: [[0, 0, 0, 480, 480, 0]], South: [[0, 0, 480, 480, 480, 480]]}
    }
    function small_dripleaf() {
        data modify storage retina:data Surfaces set value {Top: [[60, 390, 60, 420, 390, 420]], Bottom: [[60, 0, 60, 420, 0, 420]], West: [[60, 0, 60, 60, 390, 420]], East: [[420, 0, 60, 420, 390, 420]], North: [[60, 0, 60, 420, 390, 60]], South: [[60, 0, 420, 420, 390, 420]]};
    }
    function sniffer_egg() {
        data modify storage retina:data Surfaces set value {Top:[[30, 480, 60, 450, 480, 420]], Bottom:[[30, 0, 60, 450, 0, 420]], West:[[30, 480, 60, 30, 480, 420]], East:[[450, 480, 60, 450, 480, 420]], North:[[30, 0, 60, 450, 480, 60]], South:[[30, 0, 420, 450, 480, 420]]};
    }
    function snow() {
        if (block ~ ~ ~ #retina:snow[layers=1]) data modify storage retina:data Surfaces set value {Top: [[0, 60, 0, 480, 60, 480]], Bottom: [[0, 0, 0, 480, 0, 480]], West: [[0, 0, 0, 0, 60, 480]], East: [[480, 0, 0, 480, 60, 480]], North: [[0, 0, 0, 480, 60, 0]], South: [[0, 0, 480, 480, 60, 480]]}
        if (block ~ ~ ~ #retina:snow[layers=2]) data modify storage retina:data Surfaces set value {Top: [[0, 120, 0, 480, 120, 480]], Bottom: [[0, 0, 0, 480, 0, 480]], West: [[0, 0, 0, 0, 120, 480]], East: [[480, 0, 0, 480, 120, 480]], North: [[0, 0, 0, 480, 120, 0]], South: [[0, 0, 480, 480, 120, 480]]}
        if (block ~ ~ ~ #retina:snow[layers=3]) data modify storage retina:data Surfaces set value {Top: [[0, 180, 0, 480, 180, 480]], Bottom: [[0, 0, 0, 480, 0, 480]], West: [[0, 0, 0, 0, 180, 480]], East: [[480, 0, 0, 480, 180, 480]], North: [[0, 0, 0, 480, 180, 0]], South: [[0, 0, 480, 480, 180, 480]]}
        if (block ~ ~ ~ #retina:snow[layers=4]) data modify storage retina:data Surfaces set value {Top: [[0, 240, 0, 480, 240, 480]], Bottom: [[0, 0, 0, 480, 0, 480]], West: [[0, 0, 0, 0, 240, 480]], East: [[480, 0, 0, 480, 240, 480]], North: [[0, 0, 0, 480, 240, 0]], South: [[0, 0, 480, 480, 240, 480]]}
        if (block ~ ~ ~ #retina:snow[layers=5]) data modify storage retina:data Surfaces set value {Top: [[0, 300, 0, 480, 300, 480]], Bottom: [[0, 0, 0, 480, 0, 480]], West: [[0, 0, 0, 0, 300, 480]], East: [[480, 0, 0, 480, 300, 480]], North: [[0, 0, 0, 480, 300, 0]], South: [[0, 0, 480, 480, 300, 480]]}
        if (block ~ ~ ~ #retina:snow[layers=6]) data modify storage retina:data Surfaces set value {Top: [[0, 360, 0, 480, 360, 480]], Bottom: [[0, 0, 0, 480, 0, 480]], West: [[0, 0, 0, 0, 360, 480]], East: [[480, 0, 0, 480, 360, 480]], North: [[0, 0, 0, 480, 360, 0]], South: [[0, 0, 480, 480, 360, 480]]}
        if (block ~ ~ ~ #retina:snow[layers=7]) data modify storage retina:data Surfaces set value {Top: [[0, 420, 0, 480, 420, 480]], Bottom: [[0, 0, 0, 480, 0, 480]], West: [[0, 0, 0, 0, 420, 480]], East: [[480, 0, 0, 480, 420, 480]], North: [[0, 0, 0, 480, 420, 0]], South: [[0, 0, 480, 480, 420, 480]]}
        if (block ~ ~ ~ #retina:snow[layers=8]) data modify storage retina:data Surfaces set value {Top: [[0, 480, 0, 480, 480, 480]], Bottom: [[0, 0, 0, 480, 0, 480]], West: [[0, 0, 0, 0, 480, 480]], East: [[480, 0, 0, 480, 480, 480]], North: [[0, 0, 0, 480, 480, 0]], South: [[0, 0, 480, 480, 480, 480]]}
    }
    function spore_blossom() {
        data modify storage retina:data Surfaces set value {Top: [[60, 480, 60, 420, 480, 420]], Bottom: [[60, 390, 60, 420, 390, 420]], West: [[60, 390, 60, 60, 480, 420]], East: [[420, 390, 60, 420, 480, 420]], North: [[60, 390, 60, 420, 480, 60]], South: [[60, 390, 420, 420, 480, 420]]};
    }
    function stair() {
        // half=bottom, shape=straight
        if (block ~ ~ ~ #minecraft:stairs[half=bottom, facing=east, shape=straight]) data modify storage retina:data Surfaces set value {Top: [[0, 240, 0, 480, 240, 480], [240, 480, 0, 480, 480, 480]], Bottom: [[0, 0, 0, 480, 0, 480], [240, 240, 0, 480, 240, 480]], West: [[0, 0, 0, 0, 240, 480], [240, 240, 0, 240, 480, 480]], East: [[480, 0, 0, 480, 240, 480], [480, 240, 0, 480, 480, 480]], North: [[0, 0, 0, 480, 240, 0], [240, 240, 0, 480, 480, 0]], South: [[0, 0, 480, 480, 240, 480], [240, 240, 480, 480, 480, 480]]}
        if (block ~ ~ ~ #minecraft:stairs[half=bottom, facing=west, shape=straight]) data modify storage retina:data Surfaces set value {Top: [[0, 240, 0, 480, 240, 480], [0, 480, 0, 240, 480, 480]], Bottom: [[0, 0, 0, 480, 0, 480], [0, 240, 0, 240, 240, 480]], West: [[0, 0, 0, 0, 240, 480], [0, 240, 0, 0, 480, 480]], East: [[480, 0, 0, 480, 240, 480], [240, 240, 0, 240, 480, 480]], North: [[0, 0, 0, 480, 240, 0], [0, 240, 0, 240, 480, 0]], South: [[0, 0, 480, 480, 240, 480], [0, 240, 480, 240, 480, 480]]}
        if (block ~ ~ ~ #minecraft:stairs[half=bottom, facing=south, shape=straight]) data modify storage retina:data Surfaces set value {Top: [[0, 240, 0, 480, 240, 480], [0, 480, 240, 480, 480, 480]], Bottom: [[0, 0, 0, 480, 0, 480], [0, 240, 240, 480, 240, 480]], West: [[0, 0, 0, 0, 240, 480], [0, 240, 240, 0, 480, 480]], East: [[480, 0, 0, 480, 240, 480], [480, 240, 240, 480, 480, 480]], North: [[0, 0, 0, 480, 240, 0], [0, 240, 240, 480, 480, 240]], South: [[0, 0, 480, 480, 240, 480], [0, 240, 480, 480, 480, 480]]}
        if (block ~ ~ ~ #minecraft:stairs[half=bottom, facing=north, shape=straight]) data modify storage retina:data Surfaces set value {Top: [[0, 240, 0, 480, 240, 480], [0, 480, 0, 480, 480, 240]], Bottom: [[0, 0, 0, 480, 0, 480], [0, 240, 0, 480, 240, 240]], West: [[0, 0, 0, 0, 240, 480], [0, 240, 0, 0, 480, 240]], East: [[480, 0, 0, 480, 240, 480], [480, 240, 0, 480, 480, 240]], North: [[0, 0, 0, 480, 240, 0], [0, 240, 0, 480, 480, 0]], South: [[0, 0, 480, 480, 240, 480], [0, 240, 240, 480, 480, 240]]}

        // half=top, shape=straight
        if (block ~ ~ ~ #minecraft:stairs[half=top, facing=east, shape=straight]) data modify storage retina:data Surfaces set value {Top: [[0, 480, 0, 480, 480, 480], [240, 240, 0, 480, 240, 480]], Bottom: [[0, 240, 0, 480, 240, 480], [240, 0, 0, 480, 0, 480]], West: [[0, 240, 0, 0, 480, 480], [240, 0, 0, 240, 240, 480]], East: [[480, 240, 0, 480, 480, 480], [480, 0, 0, 480, 240, 480]], North: [[0, 240, 0, 480, 480, 0], [240, 0, 0, 480, 240, 0]], South: [[0, 240, 480, 480, 480, 480], [240, 0, 480, 480, 240, 480]]}
        if (block ~ ~ ~ #minecraft:stairs[half=top, facing=west, shape=straight]) data modify storage retina:data Surfaces set value {Top: [[0, 480, 0, 480, 480, 480], [0, 240, 0, 240, 240, 480]], Bottom: [[0, 240, 0, 480, 240, 480], [0, 0, 0, 240, 0, 480]], West: [[0, 240, 0, 0, 480, 480], [0, 0, 0, 0, 240, 480]], East: [[480, 240, 0, 480, 480, 480], [240, 0, 0, 240, 240, 480]], North: [[0, 240, 0, 480, 480, 0], [0, 0, 0, 240, 240, 0]], South: [[0, 240, 480, 480, 480, 480], [0, 0, 480, 240, 240, 480]]}
        if (block ~ ~ ~ #minecraft:stairs[half=top, facing=south, shape=straight]) data modify storage retina:data Surfaces set value {Top: [[0, 480, 0, 480, 480, 480], [0, 240, 240, 480, 240, 480]], Bottom: [[0, 240, 0, 480, 240, 480], [0, 0, 240, 480, 0, 480]], West: [[0, 240, 0, 0, 480, 480], [0, 0, 240, 0, 240, 480]], East: [[480, 240, 0, 480, 480, 480], [480, 0, 240, 480, 240, 480]], North: [[0, 240, 0, 480, 480, 0], [0, 0, 240, 480, 240, 240]], South: [[0, 240, 480, 480, 480, 480], [0, 0, 480, 480, 240, 480]]}
        if (block ~ ~ ~ #minecraft:stairs[half=top, facing=north, shape=straight]) data modify storage retina:data Surfaces set value {Top: [[0, 480, 0, 480, 480, 480], [0, 240, 0, 480, 240, 240]], Bottom: [[0, 240, 0, 480, 240, 480], [0, 0, 0, 480, 0, 240]], West: [[0, 240, 0, 0, 480, 480], [0, 0, 0, 0, 240, 240]], East: [[480, 240, 0, 480, 480, 480], [480, 0, 0, 480, 240, 240]], North: [[0, 240, 0, 480, 480, 0], [0, 0, 0, 480, 240, 0]], South: [[0, 240, 480, 480, 480, 480], [0, 0, 240, 480, 240, 240]]}

        // half=bottom, shape=inner_left
        if (block ~ ~ ~ #minecraft:stairs[half=bottom, facing=east, shape=inner_left]) data modify storage retina:data Surfaces set value {Top: [[0, 240, 0, 480, 240, 480], [240, 480, 0, 480, 480, 480], [0, 480, 0, 240, 480, 240]], Bottom: [[0, 0, 0, 480, 0, 480], [240, 240, 0, 480, 240, 480], [0, 240, 0, 240, 240, 240]], West: [[0, 0, 0, 0, 240, 480], [240, 240, 0, 240, 480, 480], [0, 240, 0, 0, 480, 240]], East: [[480, 0, 0, 480, 240, 480], [480, 240, 0, 480, 480, 480], [240, 240, 0, 240, 480, 240]], North: [[0, 0, 0, 480, 240, 0], [240, 240, 0, 480, 480, 0], [0, 240, 0, 240, 480, 0]], South: [[0, 0, 480, 480, 240, 480], [240, 240, 480, 480, 480, 480], [0, 240, 240, 240, 480, 240]]}
        if (block ~ ~ ~ #minecraft:stairs[half=bottom, facing=west, shape=inner_left]) data modify storage retina:data Surfaces set value {Top: [[0, 240, 0, 480, 240, 480], [0, 480, 0, 240, 480, 480], [240, 480, 240, 480, 480, 480]], Bottom: [[0, 0, 0, 480, 0, 480], [0, 240, 0, 240, 240, 480], [240, 240, 240, 480, 240, 480]], West: [[0, 0, 0, 0, 240, 480], [0, 240, 0, 0, 480, 480], [240, 240, 240, 240, 480, 480]], East: [[480, 0, 0, 480, 240, 480], [240, 240, 0, 240, 480, 480], [480, 240, 240, 480, 480, 480]], North: [[0, 0, 0, 480, 240, 0], [0, 240, 0, 240, 480, 0], [240, 240, 240, 480, 480, 240]], South: [[0, 0, 480, 480, 240, 480], [0, 240, 480, 240, 480, 480], [240, 240, 480, 480, 480, 480]]}
        if (block ~ ~ ~ #minecraft:stairs[half=bottom, facing=south, shape=inner_left]) data modify storage retina:data Surfaces set value {Top: [[0, 240, 0, 480, 240, 480], [0, 480, 240, 480, 480, 480], [240, 480, 0, 480, 480, 240]], Bottom: [[0, 0, 0, 480, 0, 480], [0, 240, 240, 480, 240, 480], [240, 240, 0, 480, 240, 240]], West: [[0, 0, 0, 0, 240, 480], [0, 240, 240, 0, 480, 480], [240, 240, 0, 240, 480, 240]], East: [[480, 0, 0, 480, 240, 480], [480, 240, 240, 480, 480, 480], [480, 240, 0, 480, 480, 240]], North: [[0, 0, 0, 480, 240, 0], [0, 240, 240, 480, 480, 240], [240, 240, 0, 480, 480, 0]], South: [[0, 0, 480, 480, 240, 480], [0, 240, 480, 480, 480, 480], [240, 240, 240, 480, 480, 240]]}
        if (block ~ ~ ~ #minecraft:stairs[half=bottom, facing=north, shape=inner_left]) data modify storage retina:data Surfaces set value {Top: [[0, 240, 0, 480, 240, 480], [0, 480, 0, 480, 480, 240], [0, 480, 240, 240, 480, 480]], Bottom: [[0, 0, 0, 480, 0, 480], [0, 240, 0, 480, 240, 240], [0, 240, 240, 240, 240, 480]], West: [[0, 0, 0, 0, 240, 480], [0, 240, 0, 0, 480, 240], [0, 240, 240, 0, 480, 480]], East: [[480, 0, 0, 480, 240, 480], [480, 240, 0, 480, 480, 240], [240, 240, 240, 240, 480, 480]], North: [[0, 0, 0, 480, 240, 0], [0, 240, 0, 480, 480, 0], [0, 240, 240, 240, 480, 240]], South: [[0, 0, 480, 480, 240, 480], [0, 240, 240, 480, 480, 240], [0, 240, 480, 240, 480, 480]]}

        // half=top, shape=inner_left
        if (block ~ ~ ~ #minecraft:stairs[half=top, facing=east, shape=inner_left]) data modify storage retina:data Surfaces set value {Top: [[0, 480, 0, 480, 480, 480], [240, 240, 0, 480, 240, 480], [0, 240, 0, 240, 240, 240]], Bottom: [[0, 240, 0, 480, 240, 480], [240, 0, 0, 480, 0, 480], [0, 0, 0, 240, 0, 240]], West: [[0, 240, 0, 0, 480, 480], [240, 0, 0, 240, 240, 480], [0, 0, 0, 0, 240, 240]], East: [[480, 240, 0, 480, 480, 480], [480, 0, 0, 480, 240, 480], [240, 0, 0, 240, 240, 240]], North: [[0, 240, 0, 480, 480, 0], [240, 0, 0, 480, 240, 0], [0, 0, 0, 240, 240, 0]], South: [[0, 240, 480, 480, 480, 480], [240, 0, 480, 480, 240, 480], [0, 0, 240, 240, 240, 240]]}
        if (block ~ ~ ~ #minecraft:stairs[half=top, facing=west, shape=inner_left]) data modify storage retina:data Surfaces set value {Top: [[0, 480, 0, 480, 480, 480], [0, 240, 0, 240, 240, 480], [240, 240, 240, 480, 240, 480]], Bottom: [[0, 240, 0, 480, 240, 480], [0, 0, 0, 240, 0, 480], [240, 0, 240, 480, 0, 480]], West: [[0, 240, 0, 0, 480, 480], [0, 0, 0, 0, 240, 480], [240, 0, 240, 240, 240, 480]], East: [[480, 240, 0, 480, 480, 480], [240, 0, 0, 240, 240, 480], [480, 0, 240, 480, 240, 480]], North: [[0, 240, 0, 480, 480, 0], [0, 0, 0, 240, 240, 0], [240, 0, 240, 480, 240, 240]], South: [[0, 240, 480, 480, 480, 480], [0, 0, 480, 240, 240, 480], [240, 0, 480, 480, 240, 480]]}
        if (block ~ ~ ~ #minecraft:stairs[half=top, facing=south, shape=inner_left]) data modify storage retina:data Surfaces set value {Top: [[0, 480, 0, 480, 480, 480], [0, 240, 240, 480, 240, 480], [240, 240, 0, 480, 240, 240]], Bottom: [[0, 240, 0, 480, 240, 480], [0, 0, 240, 480, 0, 480], [240, 0, 0, 480, 0, 240]], West: [[0, 240, 0, 0, 480, 480], [0, 0, 240, 0, 240, 480], [240, 0, 0, 240, 240, 240]], East: [[480, 240, 0, 480, 480, 480], [480, 0, 240, 480, 240, 480], [480, 0, 0, 480, 240, 240]], North: [[0, 240, 0, 480, 480, 0], [0, 0, 240, 480, 240, 240], [240, 0, 0, 480, 240, 0]], South: [[0, 240, 480, 480, 480, 480], [0, 0, 480, 480, 240, 480], [240, 0, 240, 480, 240, 240]]}
        if (block ~ ~ ~ #minecraft:stairs[half=top, facing=north, shape=inner_left]) data modify storage retina:data Surfaces set value {Top: [[0, 480, 0, 480, 480, 480], [0, 240, 0, 480, 240, 240], [0, 240, 240, 240, 240, 480]], Bottom: [[0, 240, 0, 480, 240, 480], [0, 0, 0, 480, 0, 240], [0, 0, 240, 240, 0, 480]], West: [[0, 240, 0, 0, 480, 480], [0, 0, 0, 0, 240, 240], [0, 0, 240, 0, 240, 480]], East: [[480, 240, 0, 480, 480, 480], [480, 0, 0, 480, 240, 240], [240, 0, 240, 240, 240, 480]], North: [[0, 240, 0, 480, 480, 0], [0, 0, 0, 480, 240, 0], [0, 0, 240, 240, 240, 240]], South: [[0, 240, 480, 480, 480, 480], [0, 0, 240, 480, 240, 240], [0, 0, 480, 240, 240, 480]]}

        // half=bottom, shape=inner_right
        if (block ~ ~ ~ #minecraft:stairs[half=bottom, facing=east, shape=inner_right]) data modify storage retina:data Surfaces set value {Top: [[0, 240, 0, 480, 240, 480], [0, 480, 240, 480, 480, 480], [240, 480, 0, 480, 480, 240]], Bottom: [[0, 0, 0, 480, 0, 480], [0, 240, 240, 480, 240, 480], [240, 240, 0, 480, 240, 240]], West: [[0, 0, 0, 0, 240, 480], [0, 240, 240, 0, 480, 480], [240, 240, 0, 240, 480, 240]], East: [[480, 0, 0, 480, 240, 480], [480, 240, 240, 480, 480, 480], [480, 240, 0, 480, 480, 240]], North: [[0, 0, 0, 480, 240, 0], [0, 240, 240, 480, 480, 240], [240, 240, 0, 480, 480, 0]], South: [[0, 0, 480, 480, 240, 480], [0, 240, 480, 480, 480, 480], [240, 240, 240, 480, 480, 240]]}
        if (block ~ ~ ~ #minecraft:stairs[half=bottom, facing=west, shape=inner_right]) data modify storage retina:data Surfaces set value {Top: [[0, 240, 0, 480, 240, 480], [0, 480, 0, 480, 480, 240], [0, 480, 240, 240, 480, 480]], Bottom: [[0, 0, 0, 480, 0, 480], [0, 240, 0, 480, 240, 240], [0, 240, 240, 240, 240, 480]], West: [[0, 0, 0, 0, 240, 480], [0, 240, 0, 0, 480, 240], [0, 240, 240, 0, 480, 480]], East: [[480, 0, 0, 480, 240, 480], [480, 240, 0, 480, 480, 240], [240, 240, 240, 240, 480, 480]], North: [[0, 0, 0, 480, 240, 0], [0, 240, 0, 480, 480, 0], [0, 240, 240, 240, 480, 240]], South: [[0, 0, 480, 480, 240, 480], [0, 240, 240, 480, 480, 240], [0, 240, 480, 240, 480, 480]]}
        if (block ~ ~ ~ #minecraft:stairs[half=bottom, facing=south, shape=inner_right]) data modify storage retina:data Surfaces set value {Top: [[0, 240, 0, 480, 240, 480], [0, 480, 240, 480, 480, 480], [0, 480, 0, 240, 480, 240]], Bottom: [[0, 0, 0, 480, 0, 480], [0, 240, 240, 480, 240, 480], [0, 240, 0, 240, 240, 240]], West: [[0, 0, 0, 0, 240, 480], [0, 240, 240, 0, 480, 480], [0, 240, 0, 0, 480, 240]], East: [[480, 0, 0, 480, 240, 480], [480, 240, 240, 480, 480, 480], [240, 240, 0, 240, 480, 240]], North: [[0, 0, 0, 480, 240, 0], [0, 240, 240, 480, 480, 240], [0, 240, 0, 240, 480, 0]], South: [[0, 0, 480, 480, 240, 480], [0, 240, 480, 480, 480, 480], [0, 240, 240, 240, 480, 240]]}
        if (block ~ ~ ~ #minecraft:stairs[half=bottom, facing=north, shape=inner_right]) data modify storage retina:data Surfaces set value {Top: [[0, 240, 0, 480, 240, 480], [240, 480, 0, 480, 480, 480], [0, 480, 0, 240, 480, 240]], Bottom: [[0, 0, 0, 480, 0, 480], [240, 240, 0, 480, 240, 480], [0, 240, 0, 240, 240, 240]], West: [[0, 0, 0, 0, 240, 480], [240, 240, 0, 240, 480, 480], [0, 240, 0, 0, 480, 240]], East: [[480, 0, 0, 480, 240, 480], [480, 240, 0, 480, 480, 480], [240, 240, 0, 240, 480, 240]], North: [[0, 0, 0, 480, 240, 0], [240, 240, 0, 480, 480, 0], [0, 240, 0, 240, 480, 0]], South: [[0, 0, 480, 480, 240, 480], [240, 240, 480, 480, 480, 480], [0, 240, 240, 240, 480, 240]]}

        // half=top, shape=inner_right
        if (block ~ ~ ~ #minecraft:stairs[half=top, facing=east, shape=inner_right]) data modify storage retina:data Surfaces set value {Top: [[0, 480, 0, 480, 480, 480], [0, 240, 240, 480, 240, 480], [240, 240, 0, 480, 240, 240]], Bottom: [[0, 240, 0, 480, 240, 480], [0, 0, 240, 480, 0, 480], [240, 0, 0, 480, 0, 240]], West: [[0, 240, 0, 0, 480, 480], [0, 0, 240, 0, 240, 480], [240, 0, 0, 240, 240, 240]], East: [[480, 240, 0, 480, 480, 480], [480, 0, 240, 480, 240, 480], [480, 0, 0, 480, 240, 240]], North: [[0, 240, 0, 480, 480, 0], [0, 0, 240, 480, 240, 240], [240, 0, 0, 480, 240, 0]], South: [[0, 240, 480, 480, 480, 480], [0, 0, 480, 480, 240, 480], [240, 0, 240, 480, 240, 240]]}
        if (block ~ ~ ~ #minecraft:stairs[half=top, facing=west, shape=inner_right]) data modify storage retina:data Surfaces set value {Top: [[0, 480, 0, 480, 480, 480], [0, 240, 0, 480, 240, 240], [0, 240, 240, 240, 240, 480]], Bottom: [[0, 240, 0, 480, 240, 480], [0, 0, 0, 480, 0, 240], [0, 0, 240, 240, 0, 480]], West: [[0, 240, 0, 0, 480, 480], [0, 0, 0, 0, 240, 240], [0, 0, 240, 0, 240, 480]], East: [[480, 240, 0, 480, 480, 480], [480, 0, 0, 480, 240, 240], [240, 0, 240, 240, 240, 480]], North: [[0, 240, 0, 480, 480, 0], [0, 0, 0, 480, 240, 0], [0, 0, 240, 240, 240, 240]], South: [[0, 240, 480, 480, 480, 480], [0, 0, 240, 480, 240, 240], [0, 0, 480, 240, 240, 480]]}
        if (block ~ ~ ~ #minecraft:stairs[half=top, facing=south, shape=inner_right]) data modify storage retina:data Surfaces set value {Top: [[0, 480, 0, 480, 480, 480], [0, 240, 0, 240, 240, 480], [240, 240, 240, 480, 240, 480]], Bottom: [[0, 240, 0, 480, 240, 480], [0, 0, 0, 240, 0, 480], [240, 0, 240, 480, 0, 480]], West: [[0, 240, 0, 0, 480, 480], [0, 0, 0, 0, 240, 480], [240, 0, 240, 240, 240, 480]], East: [[480, 240, 0, 480, 480, 480], [240, 0, 0, 240, 240, 480], [480, 0, 240, 480, 240, 480]], North: [[0, 240, 0, 480, 480, 0], [0, 0, 0, 240, 240, 0], [240, 0, 240, 480, 240, 240]], South: [[0, 240, 480, 480, 480, 480], [0, 0, 480, 240, 240, 480], [240, 0, 480, 480, 240, 480]]}
        if (block ~ ~ ~ #minecraft:stairs[half=top, facing=north, shape=inner_right]) data modify storage retina:data Surfaces set value {Top: [[0, 480, 0, 480, 480, 480], [240, 240, 0, 480, 240, 480], [0, 240, 0, 240, 240, 240]], Bottom: [[0, 240, 0, 480, 240, 480], [240, 0, 0, 480, 0, 480], [0, 0, 0, 240, 0, 240]], West: [[0, 240, 0, 0, 480, 480], [240, 0, 0, 240, 240, 480], [0, 0, 0, 0, 240, 240]], East: [[480, 240, 0, 480, 480, 480], [480, 0, 0, 480, 240, 480], [240, 0, 0, 240, 240, 240]], North: [[0, 240, 0, 480, 480, 0], [240, 0, 0, 480, 240, 0], [0, 0, 0, 240, 240, 0]], South: [[0, 240, 480, 480, 480, 480], [240, 0, 480, 480, 240, 480], [0, 0, 240, 240, 240, 240]]}

        // half=bottom, shape=outer_left
        if (block ~ ~ ~ #minecraft:stairs[half=bottom, facing=east, shape=outer_left]) data modify storage retina:data Surfaces set value {Top: [[0, 240, 0, 480, 240, 480], [240, 480, 0, 480, 480, 240]], Bottom: [[0, 0, 0, 480, 0, 480], [240, 240, 0, 480, 240, 240]], West: [[0, 0, 0, 0, 240, 480], [240, 240, 0, 240, 480, 240]], East: [[480, 0, 0, 480, 240, 480], [480, 240, 0, 480, 480, 240]], North: [[0, 0, 0, 480, 240, 0], [240, 240, 0, 480, 480, 0]], South: [[0, 0, 480, 480, 240, 480], [240, 240, 240, 480, 480, 240]]}
        if (block ~ ~ ~ #minecraft:stairs[half=bottom, facing=west, shape=outer_left]) data modify storage retina:data Surfaces set value {Top: [[0, 240, 0, 480, 240, 480], [0, 480, 240, 240, 480, 480]], Bottom: [[0, 0, 0, 480, 0, 480], [0, 240, 240, 240, 240, 480]], West: [[0, 0, 0, 0, 240, 480], [0, 240, 240, 0, 480, 480]], East: [[480, 0, 0, 480, 240, 480], [240, 240, 240, 240, 480, 480]], North: [[0, 0, 0, 480, 240, 0], [0, 240, 240, 240, 480, 240]], South: [[0, 0, 480, 480, 240, 480], [0, 240, 480, 240, 480, 480]]}
        if (block ~ ~ ~ #minecraft:stairs[half=bottom, facing=south, shape=outer_left]) data modify storage retina:data Surfaces set value {Top: [[0, 240, 0, 480, 240, 480], [240, 480, 240, 480, 480, 480]], Bottom: [[0, 0, 0, 480, 0, 480], [240, 240, 240, 480, 240, 480]], West: [[0, 0, 0, 0, 240, 480], [240, 240, 240, 240, 480, 480]], East: [[480, 0, 0, 480, 240, 480], [480, 240, 240, 480, 480, 480]], North: [[0, 0, 0, 480, 240, 0], [240, 240, 240, 480, 480, 240]], South: [[0, 0, 480, 480, 240, 480], [240, 240, 480, 480, 480, 480]]}
        if (block ~ ~ ~ #minecraft:stairs[half=bottom, facing=north, shape=outer_left]) data modify storage retina:data Surfaces set value {Top: [[0, 240, 0, 480, 240, 480], [0, 480, 0, 240, 480, 240]], Bottom: [[0, 0, 0, 480, 0, 480], [0, 240, 0, 240, 240, 240]], West: [[0, 0, 0, 0, 240, 480], [0, 240, 0, 0, 480, 240]], East: [[480, 0, 0, 480, 240, 480], [240, 240, 0, 240, 480, 240]], North: [[0, 0, 0, 480, 240, 0], [0, 240, 0, 240, 480, 0]], South: [[0, 0, 480, 480, 240, 480], [0, 240, 240, 240, 480, 240]]}

        // half=top, shape=outer_left
        if (block ~ ~ ~ #minecraft:stairs[half=top, facing=east, shape=outer_left]) data modify storage retina:data Surfaces set value {Top: [[0, 480, 0, 480, 480, 480], [240, 240, 0, 480, 240, 240]], Bottom: [[0, 240, 0, 480, 240, 480], [240, 0, 0, 480, 0, 240]], West: [[0, 240, 0, 0, 480, 480], [240, 0, 0, 240, 240, 240]], East: [[480, 240, 0, 480, 480, 480], [480, 0, 0, 480, 240, 240]], North: [[0, 240, 0, 480, 480, 0], [240, 0, 0, 480, 240, 0]], South: [[0, 240, 480, 480, 480, 480], [240, 0, 240, 480, 240, 240]]}
        if (block ~ ~ ~ #minecraft:stairs[half=top, facing=west, shape=outer_left]) data modify storage retina:data Surfaces set value {Top: [[0, 480, 0, 480, 480, 480], [0, 240, 240, 240, 240, 480]], Bottom: [[0, 240, 0, 480, 240, 480], [0, 0, 240, 240, 0, 480]], West: [[0, 240, 0, 0, 480, 480], [0, 0, 240, 0, 240, 480]], East: [[480, 240, 0, 480, 480, 480], [240, 0, 240, 240, 240, 480]], North: [[0, 240, 0, 480, 480, 0], [0, 0, 240, 240, 240, 240]], South: [[0, 240, 480, 480, 480, 480], [0, 0, 480, 240, 240, 480]]}
        if (block ~ ~ ~ #minecraft:stairs[half=top, facing=south, shape=outer_left]) data modify storage retina:data Surfaces set value {Top: [[0, 480, 0, 480, 480, 480], [240, 240, 240, 480, 240, 480]], Bottom: [[0, 240, 0, 480, 240, 480], [240, 0, 240, 480, 0, 480]], West: [[0, 240, 0, 0, 480, 480], [240, 0, 240, 240, 240, 480]], East: [[480, 240, 0, 480, 480, 480], [480, 0, 240, 480, 240, 480]], North: [[0, 240, 0, 480, 480, 0], [240, 0, 240, 480, 240, 240]], South: [[0, 240, 480, 480, 480, 480], [240, 0, 480, 480, 240, 480]]}
        if (block ~ ~ ~ #minecraft:stairs[half=top, facing=north, shape=outer_left]) data modify storage retina:data Surfaces set value {Top: [[0, 480, 0, 480, 480, 480], [0, 240, 0, 240, 240, 240]], Bottom: [[0, 240, 0, 480, 240, 480], [0, 0, 0, 240, 0, 240]], West: [[0, 240, 0, 0, 480, 480], [0, 0, 0, 0, 240, 240]], East: [[480, 240, 0, 480, 480, 480], [240, 0, 0, 240, 240, 240]], North: [[0, 240, 0, 480, 480, 0], [0, 0, 0, 240, 240, 0]], South: [[0, 240, 480, 480, 480, 480], [0, 0, 240, 240, 240, 240]]}

        // half=bottom, shape=outer_right
        if (block ~ ~ ~ #minecraft:stairs[half=bottom, facing=east, shape=outer_right]) data modify storage retina:data Surfaces set value {Top: [[0, 240, 0, 480, 240, 480], [240, 480, 240, 480, 480, 480]], Bottom: [[0, 0, 0, 480, 0, 480], [240, 240, 240, 480, 240, 480]], West: [[0, 0, 0, 0, 240, 480], [240, 240, 240, 240, 480, 480]], East: [[480, 0, 0, 480, 240, 480], [480, 240, 240, 480, 480, 480]], North: [[0, 0, 0, 480, 240, 0], [240, 240, 240, 480, 480, 240]], South: [[0, 0, 480, 480, 240, 480], [240, 240, 480, 480, 480, 480]]}
        if (block ~ ~ ~ #minecraft:stairs[half=bottom, facing=west, shape=outer_right]) data modify storage retina:data Surfaces set value {Top: [[0, 240, 0, 480, 240, 480], [0, 480, 0, 240, 480, 240]], Bottom: [[0, 0, 0, 480, 0, 480], [0, 240, 0, 240, 240, 240]], West: [[0, 0, 0, 0, 240, 480], [0, 240, 0, 0, 480, 240]], East: [[480, 0, 0, 480, 240, 480], [240, 240, 0, 240, 480, 240]], North: [[0, 0, 0, 480, 240, 0], [0, 240, 0, 240, 480, 0]], South: [[0, 0, 480, 480, 240, 480], [0, 240, 240, 240, 480, 240]]}
        if (block ~ ~ ~ #minecraft:stairs[half=bottom, facing=south, shape=outer_right]) data modify storage retina:data Surfaces set value {Top: [[0, 240, 0, 480, 240, 480], [0, 480, 240, 240, 480, 480]], Bottom: [[0, 0, 0, 480, 0, 480], [0, 240, 240, 240, 240, 480]], West: [[0, 0, 0, 0, 240, 480], [0, 240, 240, 0, 480, 480]], East: [[480, 0, 0, 480, 240, 480], [240, 240, 240, 240, 480, 480]], North: [[0, 0, 0, 480, 240, 0], [0, 240, 240, 240, 480, 240]], South: [[0, 0, 480, 480, 240, 480], [0, 240, 480, 240, 480, 480]]}
        if (block ~ ~ ~ #minecraft:stairs[half=bottom, facing=north, shape=outer_right]) data modify storage retina:data Surfaces set value {Top: [[0, 240, 0, 480, 240, 480], [240, 480, 0, 480, 480, 240]], Bottom: [[0, 0, 0, 480, 0, 480], [240, 240, 0, 480, 240, 240]], West: [[0, 0, 0, 0, 240, 480], [240, 240, 0, 240, 480, 240]], East: [[480, 0, 0, 480, 240, 480], [480, 240, 0, 480, 480, 240]], North: [[0, 0, 0, 480, 240, 0], [240, 240, 0, 480, 480, 0]], South: [[0, 0, 480, 480, 240, 480], [240, 240, 240, 480, 480, 240]]}

        // half=top, shape=outer_right
        if (block ~ ~ ~ #minecraft:stairs[half=top, facing=east, shape=outer_right]) data modify storage retina:data Surfaces set value {Top: [[0, 480, 0, 480, 480, 480], [240, 240, 240, 480, 240, 480]], Bottom: [[0, 240, 0, 480, 240, 480], [240, 0, 240, 480, 0, 480]], West: [[0, 240, 0, 0, 480, 480], [240, 0, 240, 240, 240, 480]], East: [[480, 240, 0, 480, 480, 480], [480, 0, 240, 480, 240, 480]], North: [[0, 240, 0, 480, 480, 0], [240, 0, 240, 480, 240, 240]], South: [[0, 240, 480, 480, 480, 480], [240, 0, 480, 480, 240, 480]]}
        if (block ~ ~ ~ #minecraft:stairs[half=top, facing=west, shape=outer_right]) data modify storage retina:data Surfaces set value {Top: [[0, 480, 0, 480, 480, 480], [0, 240, 0, 240, 240, 240]], Bottom: [[0, 240, 0, 480, 240, 480], [0, 0, 0, 240, 0, 240]], West: [[0, 240, 0, 0, 480, 480], [0, 0, 0, 0, 240, 240]], East: [[480, 240, 0, 480, 480, 480], [240, 0, 0, 240, 240, 240]], North: [[0, 240, 0, 480, 480, 0], [0, 0, 0, 240, 240, 0]], South: [[0, 240, 480, 480, 480, 480], [0, 0, 240, 240, 240, 240]]}
        if (block ~ ~ ~ #minecraft:stairs[half=top, facing=south, shape=outer_right]) data modify storage retina:data Surfaces set value {Top: [[0, 480, 0, 480, 480, 480], [0, 240, 240, 240, 240, 480]], Bottom: [[0, 240, 0, 480, 240, 480], [0, 0, 240, 240, 0, 480]], West: [[0, 240, 0, 0, 480, 480], [0, 0, 240, 0, 240, 480]], East: [[480, 240, 0, 480, 480, 480], [240, 0, 240, 240, 240, 480]], North: [[0, 240, 0, 480, 480, 0], [0, 0, 240, 240, 240, 240]], South: [[0, 240, 480, 480, 480, 480], [0, 0, 480, 240, 240, 480]]}
        if (block ~ ~ ~ #minecraft:stairs[half=top, facing=north, shape=outer_right]) data modify storage retina:data Surfaces set value {Top: [[0, 480, 0, 480, 480, 480], [240, 240, 0, 480, 240, 240]], Bottom: [[0, 240, 0, 480, 240, 480], [240, 0, 0, 480, 0, 240]], West: [[0, 240, 0, 0, 480, 480], [240, 0, 0, 240, 240, 240]], East: [[480, 240, 0, 480, 480, 480], [480, 0, 0, 480, 240, 240]], North: [[0, 240, 0, 480, 480, 0], [240, 0, 0, 480, 240, 0]], South: [[0, 240, 480, 480, 480, 480], [240, 0, 240, 480, 240, 240]]}
    }
    function standing_sign_or_banner() {
        data modify storage retina:data Surfaces set value {Top: [[120, 480, 120, 360, 480, 360]], Bottom: [[120, 0, 120, 360, 0, 360]], West: [[120, 0, 120, 120, 480, 360]], East: [[360, 0, 120, 360, 480, 360]], North: [[120, 0, 120, 360, 480, 120]], South: [[120, 0, 360, 360, 480, 360]]};
    }
    function stonecutter() {
        data modify storage retina:data Surfaces set value {Top: [[0, 270, 0, 480, 270, 480]], Bottom: [[0, 0, 0, 480, 0, 480]], West: [[0, 0, 0, 0, 270, 480]], East: [[480, 0, 0, 480, 270, 480]], North: [[0, 0, 0, 480, 270, 0]], South: [[0, 0, 480, 480, 270, 480]]};
    }
    function stem() {
        if (block ~ ~ ~ #retina:stem[age=0]) data modify storage retina:data Surfaces set value {Top: [[210, 60, 210, 270, 60, 270]], Bottom: [[210, 0, 210, 270, 0, 270]], West: [[210, 0, 210, 210, 60, 270]], East: [[270, 0, 210, 270, 60, 270]], North: [[210, 0, 210, 270, 60, 210]], South: [[210, 0, 270, 270, 60, 270]]}
        if (block ~ ~ ~ #retina:stem[age=1]) data modify storage retina:data Surfaces set value {Top: [[210, 120, 210, 270, 120, 270]], Bottom: [[210, 0, 210, 270, 0, 270]], West: [[210, 0, 210, 210, 120, 270]], East: [[270, 0, 210, 270, 120, 270]], North: [[210, 0, 210, 270, 120, 210]], South: [[210, 0, 270, 270, 120, 270]]}
        if (block ~ ~ ~ #retina:stem[age=2]) data modify storage retina:data Surfaces set value {Top: [[210, 180, 210, 270, 180, 270]], Bottom: [[210, 0, 210, 270, 0, 270]], West: [[210, 0, 210, 210, 180, 270]], East: [[270, 0, 210, 270, 180, 270]], North: [[210, 0, 210, 270, 180, 210]], South: [[210, 0, 270, 270, 180, 270]]}
        if (block ~ ~ ~ #retina:stem[age=3]) data modify storage retina:data Surfaces set value {Top: [[210, 240, 210, 270, 240, 270]], Bottom: [[210, 0, 210, 270, 0, 270]], West: [[210, 0, 210, 210, 240, 270]], East: [[270, 0, 210, 270, 240, 270]], North: [[210, 0, 210, 270, 240, 210]], South: [[210, 0, 270, 270, 240, 270]]}
        if (block ~ ~ ~ #retina:stem[age=4]) data modify storage retina:data Surfaces set value {Top: [[210, 300, 210, 270, 300, 270]], Bottom: [[210, 0, 210, 270, 0, 270]], West: [[210, 0, 210, 210, 300, 270]], East: [[270, 0, 210, 270, 300, 270]], North: [[210, 0, 210, 270, 300, 210]], South: [[210, 0, 270, 270, 300, 270]]}
        if (block ~ ~ ~ #retina:stem[age=5]) data modify storage retina:data Surfaces set value {Top: [[210, 360, 210, 270, 360, 270]], Bottom: [[210, 0, 210, 270, 0, 270]], West: [[210, 0, 210, 210, 360, 270]], East: [[270, 0, 210, 270, 360, 270]], North: [[210, 0, 210, 270, 360, 210]], South: [[210, 0, 270, 270, 360, 270]]}
        if (block ~ ~ ~ #retina:stem[age=6]) data modify storage retina:data Surfaces set value {Top: [[210, 420, 210, 270, 420, 270]], Bottom: [[210, 0, 210, 270, 0, 270]], West: [[210, 0, 210, 210, 420, 270]], East: [[270, 0, 210, 270, 420, 270]], North: [[210, 0, 210, 270, 420, 210]], South: [[210, 0, 270, 270, 420, 270]]}
        if (block ~ ~ ~ #retina:stem[age=7]) data modify storage retina:data Surfaces set value {Top: [[210, 480, 210, 270, 480, 270]], Bottom: [[210, 0, 210, 270, 0, 270]], West: [[210, 0, 210, 210, 480, 270]], East: [[270, 0, 210, 270, 480, 270]], North: [[210, 0, 210, 270, 480, 210]], South: [[210, 0, 270, 270, 480, 270]]}
    }
    function structure_void() {
        data modify storage retina:data Surfaces set value {Top: [[180, 330, 180, 330, 330, 330]], Bottom: [[180, 180, 180, 330, 180, 330]], West: [[180, 180, 180, 180, 330, 330]], East: [[330, 180, 180, 330, 330, 330]], North: [[180, 180, 180, 330, 330, 180]], South: [[180, 180, 330, 330, 330, 330]]};
    }
    function sugar_cane_like() {
        data modify storage retina:data Surfaces set value {Top: [[60, 480, 60, 420, 480, 420]], Bottom: [[60, 0, 60, 420, 0, 420]], West: [[60, 0, 60, 60, 480, 420]], East: [[420, 0, 60, 420, 480, 420]], North: [[60, 0, 60, 420, 480, 60]], South: [[60, 0, 420, 420, 480, 420]]};
    }
    function tall_crop() {
        if (block ~ ~ ~ #retina:tall_crop[age=0]) data modify storage retina:data Surfaces set value {Top: [[0, 60, 0, 480, 60, 480]], Bottom: [[0, 0, 0, 480, 0, 480]], West: [[0, 0, 0, 0, 60, 480]], East: [[480, 0, 0, 480, 60, 480]], North: [[0, 0, 0, 480, 60, 0]], South: [[0, 0, 480, 480, 60, 480]]}
        if (block ~ ~ ~ #retina:tall_crop[age=1]) data modify storage retina:data Surfaces set value {Top: [[0, 120, 0, 480, 120, 480]], Bottom: [[0, 0, 0, 480, 0, 480]], West: [[0, 0, 0, 0, 120, 480]], East: [[480, 0, 0, 480, 120, 480]], North: [[0, 0, 0, 480, 120, 0]], South: [[0, 0, 480, 480, 120, 480]]}
        if (block ~ ~ ~ #retina:tall_crop[age=2]) data modify storage retina:data Surfaces set value {Top: [[0, 180, 0, 480, 180, 480]], Bottom: [[0, 0, 0, 480, 0, 480]], West: [[0, 0, 0, 0, 180, 480]], East: [[480, 0, 0, 480, 180, 480]], North: [[0, 0, 0, 480, 180, 0]], South: [[0, 0, 480, 480, 180, 480]]}
        if (block ~ ~ ~ #retina:tall_crop[age=3]) data modify storage retina:data Surfaces set value {Top: [[0, 240, 0, 480, 240, 480]], Bottom: [[0, 0, 0, 480, 0, 480]], West: [[0, 0, 0, 0, 240, 480]], East: [[480, 0, 0, 480, 240, 480]], North: [[0, 0, 0, 480, 240, 0]], South: [[0, 0, 480, 480, 240, 480]]}
        if (block ~ ~ ~ #retina:tall_crop[age=4]) data modify storage retina:data Surfaces set value {Top: [[0, 300, 0, 480, 300, 480]], Bottom: [[0, 0, 0, 480, 0, 480]], West: [[0, 0, 0, 0, 300, 480]], East: [[480, 0, 0, 480, 300, 480]], North: [[0, 0, 0, 480, 300, 0]], South: [[0, 0, 480, 480, 300, 480]]}
        if (block ~ ~ ~ #retina:tall_crop[age=5]) data modify storage retina:data Surfaces set value {Top: [[0, 360, 0, 480, 360, 480]], Bottom: [[0, 0, 0, 480, 0, 480]], West: [[0, 0, 0, 0, 360, 480]], East: [[480, 0, 0, 480, 360, 480]], North: [[0, 0, 0, 480, 360, 0]], South: [[0, 0, 480, 480, 360, 480]]}
        if (block ~ ~ ~ #retina:tall_crop[age=6]) data modify storage retina:data Surfaces set value {Top: [[0, 420, 0, 480, 420, 480]], Bottom: [[0, 0, 0, 480, 0, 480]], West: [[0, 0, 0, 0, 420, 480]], East: [[480, 0, 0, 480, 420, 480]], North: [[0, 0, 0, 480, 420, 0]], South: [[0, 0, 480, 480, 420, 480]]}
        if (block ~ ~ ~ #retina:tall_crop[age=7]) data modify storage retina:data Surfaces set value {Top: [[0, 480, 0, 480, 480, 480]], Bottom: [[0, 0, 0, 480, 0, 480]], West: [[0, 0, 0, 0, 480, 480]], East: [[480, 0, 0, 480, 480, 480]], North: [[0, 0, 0, 480, 480, 0]], South: [[0, 0, 480, 480, 480, 480]]}
    }
    function torchflower_crop() {
        if (block ~ ~ ~ minecraft:torchflower_crop[age=0]) data modify storage retina:data Surfaces set value {Top: [[150, 180, 150, 330, 180, 330]], Bottom: [[150, 0, 150, 330, 0, 330]], West: [[150, 0, 150, 150, 180, 330]], East: [[330, 0, 150, 330, 180, 330]], North: [[150, 0, 150, 330, 180, 150]], South: [[150, 0, 330, 330, 180, 330]]}
        if (block ~ ~ ~ minecraft:torchflower_crop[age=1]) data modify storage retina:data Surfaces set value {Top: [[150, 300, 150, 330, 300, 330]], Bottom: [[150, 0, 150, 330, 0, 330]], West: [[150, 0, 150, 150, 300, 330]], East: [[330, 0, 150, 330, 300, 330]], North: [[150, 0, 150, 330, 300, 150]], South: [[150, 0, 330, 330, 300, 330]]}
    }
    function trapdoor() {
        // open=false
        if (block ~ ~ ~ #minecraft:trapdoors[half=bottom, open=false]) data modify storage retina:data Surfaces set value {Top: [[0, 90, 0, 480, 90, 480]], Bottom: [[0, 0, 0, 480, 0, 480]], West: [[0, 0, 0, 0, 90, 480]], East: [[480, 0, 0, 480, 90, 480]], North: [[0, 0, 0, 480, 90, 0]], South: [[0, 0, 480, 480, 90, 480]]}
        if (block ~ ~ ~ #minecraft:trapdoors[half=top, open=false]) data modify storage retina:data Surfaces set value {Top: [[0, 480, 0, 480, 480, 480]], Bottom: [[0, 390, 0, 480, 390, 480]], West: [[0, 390, 0, 0, 480, 480]], East: [[480, 390, 0, 480, 480, 480]], North: [[0, 390, 0, 480, 480, 0]], South: [[0, 390, 480, 480, 480, 480]]}

        // open=true
        if (block ~ ~ ~ #minecraft:trapdoors[facing=east, open=true]) data modify storage retina:data Surfaces set value {Top: [[0, 480, 0, 90, 480, 480]], Bottom: [[0, 0, 0, 90, 0, 480]], West: [[0, 0, 0, 0, 480, 480]], East: [[90, 0, 0, 90, 480, 480]], North: [[0, 0, 0, 90, 480, 0]], South: [[0, 0, 480, 90, 480, 480]]}
        if (block ~ ~ ~ #minecraft:trapdoors[facing=west, open=true]) data modify storage retina:data Surfaces set value {Top: [[390, 480, 0, 480, 480, 480]], Bottom: [[390, 0, 0, 480, 0, 480]], West: [[390, 0, 0, 390, 480, 480]], East: [[480, 0, 0, 480, 480, 480]], North: [[390, 0, 0, 480, 480, 0]], South: [[390, 0, 480, 480, 480, 480]]}
        if (block ~ ~ ~ #minecraft:trapdoors[facing=south, open=true]) data modify storage retina:data Surfaces set value {Top: [[0, 480, 0, 480, 480, 90]], Bottom: [[0, 0, 0, 480, 0, 90]], West: [[0, 0, 0, 0, 480, 90]], East: [[480, 0, 0, 480, 480, 90]], North: [[0, 0, 0, 480, 480, 0]], South: [[0, 0, 90, 480, 480, 90]]}
        if (block ~ ~ ~ #minecraft:trapdoors[facing=north, open=true]) data modify storage retina:data Surfaces set value {Top: [[0, 480, 390, 480, 480, 480]], Bottom: [[0, 0, 390, 480, 0, 480]], West: [[0, 0, 390, 0, 480, 480]], East: [[480, 0, 390, 480, 480, 480]], North: [[0, 0, 390, 480, 480, 390]], South: [[0, 0, 480, 480, 480, 480]]}
    }
    function tripwire() {
        if (block ~ ~ ~ minecraft:tripwire[attached=false]) data modify storage retina:data Surfaces set value {Top: [[0, 240, 0, 480, 240, 480]], Bottom: [[0, 0, 0, 480, 0, 480]], West: [[0, 0, 0, 0, 240, 480]], East: [[480, 0, 0, 480, 240, 480]], North: [[0, 0, 0, 480, 240, 0]], South: [[0, 0, 480, 480, 240, 480]]}
        if (block ~ ~ ~ minecraft:tripwire[attached=true]) data modify storage retina:data Surfaces set value {Top: [[0, 30, 0, 480, 30, 480]], Bottom: [[0, 0, 0, 480, 0, 480]], West: [[0, 0, 0, 0, 30, 480]], East: [[480, 0, 0, 480, 30, 480]], North: [[0, 0, 0, 480, 30, 0]], South: [[0, 0, 480, 480, 30, 480]]}
    }
    function tripwire_hook() {
        if (block ~ ~ ~ minecraft:tripwire_hook[facing=east]) data modify storage retina:data Surfaces set value {Top: [[0, 300, 150, 210, 300, 330]], Bottom: [[0, 0, 150, 210, 0, 330]], West: [[0, 0, 150, 0, 300, 330]], East: [[210, 0, 150, 210, 300, 330]], North: [[0, 0, 150, 210, 300, 150]], South: [[0, 0, 330, 210, 300, 330]]}
        if (block ~ ~ ~ minecraft:tripwire_hook[facing=west]) data modify storage retina:data Surfaces set value {Top: [[270, 300, 150, 480, 300, 330]], Bottom: [[270, 0, 150, 480, 0, 330]], West: [[270, 0, 150, 270, 300, 330]], East: [[480, 0, 150, 480, 300, 330]], North: [[270, 0, 150, 480, 300, 150]], South: [[270, 0, 330, 480, 300, 330]]}

        if (block ~ ~ ~ minecraft:tripwire_hook[facing=south]) data modify storage retina:data Surfaces set value {Top: [[150, 300, 0, 330, 300, 210]], Bottom: [[150, 0, 0, 330, 0, 210]], West: [[150, 0, 0, 150, 300, 210]], East: [[330, 0, 0, 330, 300, 210]], North: [[150, 0, 0, 330, 300, 0]], South: [[150, 0, 210, 330, 300, 210]]}
        if (block ~ ~ ~ minecraft:tripwire_hook[facing=north]) data modify storage retina:data Surfaces set value {Top: [[150, 300, 270, 330, 300, 480]], Bottom: [[150, 0, 270, 330, 0, 480]], West: [[150, 0, 270, 150, 300, 480]], East: [[330, 0, 270, 330, 300, 480]], North: [[150, 0, 270, 330, 300, 270]], South: [[150, 0, 480, 330, 300, 480]]}
    }
    function turtle_egg() {
        if (block ~ ~ ~ minecraft:turtle_egg[eggs=1]) data modify storage retina:data Surfaces set value {Top: [[90, 210, 90, 360, 210, 360]], Bottom: [[90, 0, 90, 360, 0, 360]], West: [[90, 0, 90, 90, 210, 360]], East: [[360, 0, 90, 360, 210, 360]], North: [[90, 0, 90, 360, 210, 90]], South: [[90, 0, 360, 360, 210, 360]]}
        if (!block ~ ~ ~ minecraft:turtle_egg[eggs=1]) data modify storage retina:data Surfaces set value {Top: [[30, 210, 30, 450, 210, 450]], Bottom: [[30, 0, 30, 450, 0, 450]], West: [[30, 0, 30, 30, 210, 450]], East: [[450, 0, 30, 450, 210, 450]], North: [[30, 0, 30, 450, 210, 30]], South: [[30, 0, 450, 450, 210, 450]]}
    }
    function twisting_vines() {
        data modify storage retina:data Surfaces set value {Top: [[120, 450, 120, 360, 450, 360]], Bottom: [[120, 0, 120, 360, 0, 360]], West: [[120, 0, 120, 120, 450, 360]], East: [[360, 0, 120, 360, 450, 360]], North: [[120, 0, 120, 360, 450, 120]], South: [[120, 0, 360, 360, 450, 360]]};
    }
    function vertical_torch() {
        data modify storage retina:data Surfaces set value {Top: [[180, 360, 180, 360, 360, 360]], Bottom: [[180, 0, 180, 360, 0, 360]], West: [[180, 0, 180, 180, 360, 360]], East: [[360, 0, 180, 360, 360, 360]], North: [[180, 0, 180, 360, 360, 180]], South: [[180, 0, 360, 360, 360, 360]]};
    }
    function vine_like() {
        if (block ~ ~ ~ #retina:vine_like[up=true]) {
            data modify storage retina:data Surfaces.Top append value [0, 480, 0, 480, 480, 480]; 
            data modify storage retina:data Surfaces.Bottom append value [0, 450, 0, 480, 450, 480]; 
            data modify storage retina:data Surfaces.West append value [0, 450, 0, 0, 480, 480]; 
            data modify storage retina:data Surfaces.East append value [480, 450, 0, 480, 480, 480]; 
            data modify storage retina:data Surfaces.North append value [0, 450, 0, 480, 480, 0];
            data modify storage retina:data Surfaces.South append value [0, 450, 480, 480, 480, 480];
        }
        if (block ~ ~ ~ #retina:vine_like[down=true]) {
            data modify storage retina:data Surfaces.Top append value [0, 30, 0, 480, 30, 480]; 
            data modify storage retina:data Surfaces.Bottom append value [0, 0, 0, 480, 0, 480]; 
            data modify storage retina:data Surfaces.West append value [0, 0, 0, 0, 30, 480]; 
            data modify storage retina:data Surfaces.East append value [480, 0, 0, 480, 30, 480]; 
            data modify storage retina:data Surfaces.North append value [0, 0, 0, 480, 30, 0];
            data modify storage retina:data Surfaces.South append value [0, 0, 480, 480, 30, 480];
        }
        if (block ~ ~ ~ #retina:vine_like[north=true]) {
            data modify storage retina:data Surfaces.Top append value [0, 480, 0, 480, 480, 30];
            data modify storage retina:data Surfaces.Bottom append value [0, 0, 0, 480, 0, 30];
            data modify storage retina:data Surfaces.West append value [0, 0, 0, 0, 480, 30];
            data modify storage retina:data Surfaces.East append value [480, 0, 0, 480, 480, 30];
            data modify storage retina:data Surfaces.North append value [0, 0, 0, 480, 480, 0];
            data modify storage retina:data Surfaces.South append value [0, 0, 30, 480, 480, 30];
        }
        if (block ~ ~ ~ #retina:vine_like[south=true]) {
            data modify storage retina:data Surfaces.Top append value [0, 480, 450, 480, 480, 480];
            data modify storage retina:data Surfaces.Bottom append value [0, 0, 450, 480, 0, 480];
            data modify storage retina:data Surfaces.West append value [0, 0, 450, 0, 480, 480];
            data modify storage retina:data Surfaces.East append value [480, 0, 450, 480, 480, 480];
            data modify storage retina:data Surfaces.North append value [0, 0, 450, 480, 480, 450];
            data modify storage retina:data Surfaces.South append value [0, 0, 480, 480, 480, 480];
        }
        if (block ~ ~ ~ #retina:vine_like[west=true]) {
            data modify storage retina:data Surfaces.Top append value [0, 480, 0, 30, 480, 480];
            data modify storage retina:data Surfaces.Bottom append value [0, 0, 0, 30, 0, 480];
            data modify storage retina:data Surfaces.West append value [0, 0, 0, 0, 480, 480];
            data modify storage retina:data Surfaces.East append value [30, 0, 0, 30, 480, 480];
            data modify storage retina:data Surfaces.North append value [0, 0, 0, 30, 480, 0];
            data modify storage retina:data Surfaces.South append value [0, 0, 480, 30, 480, 480];
        }
        if (block ~ ~ ~ #retina:vine_like[east=true]) {
            data modify storage retina:data Surfaces.Top append value [450, 480, 0, 480, 480, 480];
            data modify storage retina:data Surfaces.Bottom append value [450, 0, 0, 480, 0, 480];
            data modify storage retina:data Surfaces.West append value [450, 0, 0, 450, 480, 480];
            data modify storage retina:data Surfaces.East append value [480, 0, 0, 480, 480, 480];
            data modify storage retina:data Surfaces.North append value [450, 0, 0, 480, 480, 0];
            data modify storage retina:data Surfaces.South append value [450, 0, 480, 480, 480, 480];
        }
    }
    function wall_banner() {
        if (block ~ ~ ~ #retina:wall_banner[facing=north]) data modify storage retina:data Surfaces set value {Top:[[0, 375, 420, 480, 375, 480]], Bottom:[[0, 0, 420, 480, 0, 480]], West:[[0, 0, 420, 0, 375, 480]], East:[[480, 0, 420, 480, 375, 480]], North:[[0, 0, 420, 480, 375, 420]], South:[[0, 0, 480, 480, 375, 480]]}
        if (block ~ ~ ~ #retina:wall_banner[facing=south]) data modify storage retina:data Surfaces set value {Top:[[0, 375, 0, 480, 375, 60]], Bottom:[[0, 0, 0, 480, 0, 60]], West:[[0, 0, 0, 0, 375, 60]], East:[[480, 0, 0, 480, 375, 60]], North:[[0, 0, 0, 480, 375, 0]], South:[[0, 0, 60, 480, 375, 60]]}
        if (block ~ ~ ~ #retina:wall_banner[facing=east]) data modify storage retina:data Surfaces set value {Top:[[420, 375, 0, 480, 375, 480]], Bottom:[[420, 0, 0, 480, 0, 480]], West:[[420, 0, 0, 420, 375, 480]], East:[[480, 0, 0, 480, 375, 480]], North:[[420, 0, 0, 480, 375, 0]], South:[[420, 0, 480, 480, 375, 480]]}
        if (block ~ ~ ~ #retina:wall_banner[facing=west]) data modify storage retina:data Surfaces set value {Top:[[0, 375, 0, 60, 375, 480]], Bottom:[[0, 0, 0, 60, 0, 480]], West:[[0, 0, 0, 0, 375, 480]], East:[[60, 0, 0, 60, 375, 480]], North:[[0, 0, 0, 60, 375, 0]], South:[[0, 0, 480, 60, 375, 480]]}
    }
    function wall_hanging_sign() {
        if (!block ~ ~ ~ #minecraft:wall_hanging_signs[facing=east] && !block ~ ~ ~ #minecraft:wall_hanging_signs[facing=west]) data modify storage retina:data Surfaces set value {Top:[[0, 480, 180, 480, 480, 300], [30, 300, 210, 450, 300, 270]], Bottom:[[0, 420, 180, 480, 420, 300], [30, 0, 210, 450, 0, 270]], West:[[0, 420, 180, 0, 480, 300], [30, 0, 210, 30, 300, 270]], East:[[480, 420, 180, 480, 480, 300], [450, 0, 210, 450, 300, 270]], North:[[0, 420, 180, 480, 480, 180], [30, 0, 210, 450, 300, 210]], South:[[0, 420, 300, 480, 480, 300], [30, 0, 270, 450, 300, 270]]}
        if (!block ~ ~ ~ #minecraft:wall_hanging_signs[facing=north] && !block ~ ~ ~ #minecraft:wall_hanging_signs[facing=south]) data modify storage retina:data Surfaces set value {Top:[[180, 480, 0, 300, 480, 480], [210, 300, 30, 270, 300, 450]], Bottom:[[180, 420, 0, 300, 420, 480], [210, 0, 30, 270, 0, 450]], West:[[180, 420, 0, 180, 480, 480], [210, 0, 30, 210, 300, 450]], East:[[300, 420, 0, 300, 480, 480], [270, 0, 30, 270, 300, 450]], North:[[180, 420, 0, 300, 480, 0], [210, 0, 30, 270, 300, 30]], South:[[180, 420, 480, 300, 480, 480], [210, 0, 450, 270, 300, 450]]}
    }
    function wall_head() {
        if (block ~ ~ ~ #retina:wall_head[facing=north]) data modify storage retina:data Surfaces set value {Top:[[120, 360, 240, 360, 360, 480]], Bottom:[[120, 120, 240, 360, 120, 480]], West:[[120, 120, 240, 120, 360, 480]], East:[[360, 120, 240, 360, 360, 480]], North:[[120, 120, 240, 360, 360, 240]], South:[[120, 120, 480, 360, 360, 480]]}
        if (block ~ ~ ~ #retina:wall_head[facing=south]) data modify storage retina:data Surfaces set value {Top:[[120, 360, 0, 360, 360, 240]], Bottom:[[120, 120, 0, 360, 120, 240]], West:[[120, 120, 0, 120, 360, 240]], East:[[360, 120, 0, 360, 360, 240]], North:[[120, 120, 0, 360, 360, 0]], South:[[120, 120, 240, 360, 360, 240]]}
        if (block ~ ~ ~ #retina:wall_head[facing=east]) data modify storage retina:data Surfaces set value {Top:[[0, 360, 120, 240, 360, 360]], Bottom:[[0, 120, 120, 240, 120, 360]], West:[[0, 120, 120, 0, 360, 360]], East:[[240, 120, 120, 240, 360, 360]], North:[[0, 120, 120, 240, 360, 120]], South:[[0, 120, 360, 240, 360, 360]]}
        if (block ~ ~ ~ #retina:wall_head[facing=west]) data modify storage retina:data Surfaces set value {Top:[[240, 360, 120, 480, 360, 360]], Bottom:[[240, 120, 120, 480, 120, 360]], West:[[240, 120, 120, 240, 360, 360]], East:[[480, 120, 120, 480, 360, 360]], North:[[240, 120, 120, 480, 360, 120]], South:[[240, 120, 360, 480, 360, 360]]}
    }
    function wall_sign() {
        if (block ~ ~ ~ #minecraft:wall_signs[facing=east]) data modify storage retina:data Surfaces set value {Top: [[0, 375, 0, 60, 375, 480]], Bottom: [[0, 105, 0, 60, 105, 480]], West: [[0, 105, 0, 0, 375, 480]], East: [[60, 105, 0, 60, 375, 480]], North: [[0, 105, 0, 60, 375, 0]], South: [[0, 105, 480, 60, 375, 480]]}
        if (block ~ ~ ~ #minecraft:wall_signs[facing=west]) data modify storage retina:data Surfaces set value {Top: [[420, 375, 0, 480, 375, 480]], Bottom: [[420, 105, 0, 480, 105, 480]], West: [[420, 105, 0, 420, 375, 480]], East: [[480, 105, 0, 480, 375, 480]], North: [[420, 105, 0, 480, 375, 0]], South: [[420, 105, 480, 480, 375, 480]]}
        if (block ~ ~ ~ #minecraft:wall_signs[facing=south]) data modify storage retina:data Surfaces set value {Top: [[0, 375, 0, 480, 375, 60]], Bottom: [[0, 105, 0, 480, 105, 60]], West: [[0, 105, 0, 0, 375, 60]], East: [[480, 105, 0, 480, 375, 60]], North: [[0, 105, 0, 480, 375, 0]], South: [[0, 105, 60, 480, 375, 60]]}
        if (block ~ ~ ~ #minecraft:wall_signs[facing=north]) data modify storage retina:data Surfaces set value {Top: [[0, 375, 420, 480, 375, 480]], Bottom: [[0, 105, 420, 480, 105, 480]], West: [[0, 105, 420, 0, 375, 480]], East: [[480, 105, 420, 480, 375, 480]], North: [[0, 105, 420, 480, 375, 420]], South: [[0, 105, 480, 480, 375, 480]]}
    }
    function wall_torch() {
        if (block ~ ~ ~ #retina:wall_torch[facing=east]) data modify storage retina:data Surfaces set value {Top: [[0, 390, 165, 150, 390, 315]], Bottom: [[0, 90, 165, 150, 90, 315]], West: [[0, 90, 165, 0, 390, 315]], East: [[150, 90, 165, 150, 390, 315]], North: [[0, 90, 165, 150, 390, 165]], South: [[0, 90, 315, 150, 390, 315]]}
        if (block ~ ~ ~ #retina:wall_torch[facing=west]) data modify storage retina:data Surfaces set value {Top: [[330, 390, 165, 480, 390, 315]], Bottom: [[330, 90, 165, 480, 90, 315]], West: [[330, 90, 165, 330, 390, 315]], East: [[480, 90, 165, 480, 390, 315]], North: [[330, 90, 165, 480, 390, 165]], South: [[330, 90, 315, 480, 390, 315]]}
        if (block ~ ~ ~ #retina:wall_torch[facing=north]) data modify storage retina:data Surfaces set value {Top: [[165, 390, 330, 315, 390, 480]], Bottom: [[165, 90, 330, 315, 90, 480]], West: [[165, 90, 330, 165, 390, 480]], East: [[315, 90, 330, 315, 390, 480]], North: [[165, 90, 330, 315, 390, 330]], South: [[165, 90, 480, 315, 390, 480]]}
        if (block ~ ~ ~ #retina:wall_torch[facing=south]) data modify storage retina:data Surfaces set value {Top: [[165, 390, 0, 315, 390, 150]], Bottom: [[165, 90, 0, 315, 90, 150]], West: [[165, 90, 0, 165, 390, 150]], East: [[315, 90, 0, 315, 390, 150]], North: [[165, 90, 0, 315, 390, 0]], South: [[165, 90, 150, 315, 390, 150]]}
    }
    function wall() {
        data modify storage retina:data Surfaces set value {Top: [[120, 480, 120, 360, 480, 360]], Bottom: [[120, 0, 120, 360, 0, 360]], West: [[120, 0, 120, 120, 480, 360]], East: [[360, 0, 120, 360, 480, 360]], North: [[120, 0, 120, 360, 480, 120]], South: [[120, 0, 360, 360, 480, 360]]};

        // Low
        if (block ~ ~ ~ #minecraft:walls[east=low]) data modify storage retina:data Surfaces.Top append value [360, 420, 150, 480, 420, 330];
        if (block ~ ~ ~ #minecraft:walls[east=low]) data modify storage retina:data Surfaces.Bottom append value [360, 0, 150, 480, 0, 330];
        if (block ~ ~ ~ #minecraft:walls[east=low]) data modify storage retina:data Surfaces.West append value [360, 0, 150, 360, 420, 330];
        if (block ~ ~ ~ #minecraft:walls[east=low]) data modify storage retina:data Surfaces.East append value [480, 0, 150, 480, 420, 330];
        if (block ~ ~ ~ #minecraft:walls[east=low]) data modify storage retina:data Surfaces.North append value [360, 0, 150, 480, 420, 150];
        if (block ~ ~ ~ #minecraft:walls[east=low]) data modify storage retina:data Surfaces.South append value [360, 0, 330, 480, 420, 330];

        if (block ~ ~ ~ #minecraft:walls[west=low]) data modify storage retina:data Surfaces.Top append value [0, 420, 150, 120, 420, 330];
        if (block ~ ~ ~ #minecraft:walls[west=low]) data modify storage retina:data Surfaces.Bottom append value [0, 0, 150, 120, 0, 330];
        if (block ~ ~ ~ #minecraft:walls[west=low]) data modify storage retina:data Surfaces.West append value [0, 0, 150, 0, 420, 330];
        if (block ~ ~ ~ #minecraft:walls[west=low]) data modify storage retina:data Surfaces.East append value [120, 0, 150, 120, 420, 330];
        if (block ~ ~ ~ #minecraft:walls[west=low]) data modify storage retina:data Surfaces.North append value [0, 0, 150, 120, 420, 150];
        if (block ~ ~ ~ #minecraft:walls[west=low]) data modify storage retina:data Surfaces.South append value [0, 0, 330, 120, 420, 330];

        if (block ~ ~ ~ #minecraft:walls[north=low]) data modify storage retina:data Surfaces.Top append value [150, 420, 0, 330, 420, 120];
        if (block ~ ~ ~ #minecraft:walls[north=low]) data modify storage retina:data Surfaces.Bottom append value [150, 0, 0, 330, 0, 120];
        if (block ~ ~ ~ #minecraft:walls[north=low]) data modify storage retina:data Surfaces.West append value [150, 0, 0, 150, 420, 120];
        if (block ~ ~ ~ #minecraft:walls[north=low]) data modify storage retina:data Surfaces.East append value [330, 0, 0, 330, 420, 120];
        if (block ~ ~ ~ #minecraft:walls[north=low]) data modify storage retina:data Surfaces.North append value [150, 0, 0, 330, 420, 0];
        if (block ~ ~ ~ #minecraft:walls[north=low]) data modify storage retina:data Surfaces.South append value [150, 0, 120, 330, 420, 120];

        if (block ~ ~ ~ #minecraft:walls[south=low]) data modify storage retina:data Surfaces.Top append value [150, 420, 360, 330, 420, 480];
        if (block ~ ~ ~ #minecraft:walls[south=low]) data modify storage retina:data Surfaces.Bottom append value [150, 0, 360, 330, 0, 480];
        if (block ~ ~ ~ #minecraft:walls[south=low]) data modify storage retina:data Surfaces.West append value [150, 0, 360, 150, 420, 480];
        if (block ~ ~ ~ #minecraft:walls[south=low]) data modify storage retina:data Surfaces.East append value [330, 0, 360, 330, 420, 480];
        if (block ~ ~ ~ #minecraft:walls[south=low]) data modify storage retina:data Surfaces.North append value [150, 0, 360, 330, 420, 360];
        if (block ~ ~ ~ #minecraft:walls[south=low]) data modify storage retina:data Surfaces.South append value [150, 0, 480, 330, 420, 480];

        // Tall
        if (block ~ ~ ~ #minecraft:walls[east=tall]) data modify storage retina:data Surfaces.Top append value [360, 480, 150, 480, 480, 330];
        if (block ~ ~ ~ #minecraft:walls[east=tall]) data modify storage retina:data Surfaces.Bottom append value [360, 0, 150, 480, 0, 330];
        if (block ~ ~ ~ #minecraft:walls[east=tall]) data modify storage retina:data Surfaces.West append value [360, 0, 150, 360, 480, 330];
        if (block ~ ~ ~ #minecraft:walls[east=tall]) data modify storage retina:data Surfaces.East append value [480, 0, 150, 480, 480, 330];
        if (block ~ ~ ~ #minecraft:walls[east=tall]) data modify storage retina:data Surfaces.North append value [360, 0, 150, 480, 480, 150];
        if (block ~ ~ ~ #minecraft:walls[east=tall]) data modify storage retina:data Surfaces.South append value [360, 0, 330, 480, 480, 330];

        if (block ~ ~ ~ #minecraft:walls[west=tall]) data modify storage retina:data Surfaces.Top append value [0, 480, 150, 120, 480, 330];
        if (block ~ ~ ~ #minecraft:walls[west=tall]) data modify storage retina:data Surfaces.Bottom append value [0, 0, 150, 120, 0, 330];
        if (block ~ ~ ~ #minecraft:walls[west=tall]) data modify storage retina:data Surfaces.West append value [0, 0, 150, 0, 480, 330];
        if (block ~ ~ ~ #minecraft:walls[west=tall]) data modify storage retina:data Surfaces.East append value [120, 0, 150, 120, 480, 330];
        if (block ~ ~ ~ #minecraft:walls[west=tall]) data modify storage retina:data Surfaces.North append value [0, 0, 150, 120, 480, 150];
        if (block ~ ~ ~ #minecraft:walls[west=tall]) data modify storage retina:data Surfaces.South append value [0, 0, 330, 120, 480, 330];

        if (block ~ ~ ~ #minecraft:walls[north=tall]) data modify storage retina:data Surfaces.Top append value [150, 480, 0, 330, 480, 120];
        if (block ~ ~ ~ #minecraft:walls[north=tall]) data modify storage retina:data Surfaces.Bottom append value [150, 0, 0, 330, 0, 120];
        if (block ~ ~ ~ #minecraft:walls[north=tall]) data modify storage retina:data Surfaces.West append value [150, 0, 0, 150, 480, 120];
        if (block ~ ~ ~ #minecraft:walls[north=tall]) data modify storage retina:data Surfaces.East append value [330, 0, 0, 330, 480, 120];
        if (block ~ ~ ~ #minecraft:walls[north=tall]) data modify storage retina:data Surfaces.North append value [150, 0, 0, 330, 480, 0];
        if (block ~ ~ ~ #minecraft:walls[north=tall]) data modify storage retina:data Surfaces.South append value [150, 0, 120, 330, 480, 120];

        if (block ~ ~ ~ #minecraft:walls[south=tall]) data modify storage retina:data Surfaces.Top append value [150, 480, 360, 330, 480, 480];
        if (block ~ ~ ~ #minecraft:walls[south=tall]) data modify storage retina:data Surfaces.Bottom append value [150, 0, 360, 330, 0, 480];
        if (block ~ ~ ~ #minecraft:walls[south=tall]) data modify storage retina:data Surfaces.West append value [150, 0, 360, 150, 480, 480];
        if (block ~ ~ ~ #minecraft:walls[south=tall]) data modify storage retina:data Surfaces.East append value [330, 0, 360, 330, 480, 480];
        if (block ~ ~ ~ #minecraft:walls[south=tall]) data modify storage retina:data Surfaces.North append value [150, 0, 360, 330, 480, 360];
        if (block ~ ~ ~ #minecraft:walls[south=tall]) data modify storage retina:data Surfaces.South append value [150, 0, 480, 330, 480, 480];
    }
    function weeping_vines() {
        data modify storage retina:data Surfaces set value {Top: [[120, 480, 120, 360, 480, 360]], Bottom: [[120, 300, 120, 360, 300, 360]], West: [[120, 300, 120, 120, 480, 360]], East: [[360, 300, 120, 360, 480, 360]], North: [[120, 300, 120, 360, 480, 120]], South: [[120, 300, 360, 360, 480, 360]]};
    }
    function cubic() {
        // Runs for 1x1x1 cubic blocks and for any other block that isn't supported by retina
        data modify storage retina:data Surfaces.Top set value [[    0,       480, 0,       480, 480, 480 ]];
        data modify storage retina:data Surfaces.Bottom set value [[ 0,       0,       0,       480, 0,       480 ]];
        data modify storage retina:data Surfaces.West set value [[   0,       0,       0,       0,       480, 480 ]];
        data modify storage retina:data Surfaces.East set value [[   480, 0,       0,       480, 480, 480 ]];
        data modify storage retina:data Surfaces.North set value [[  0,       0,       0,       480, 480, 0       ]];
        data modify storage retina:data Surfaces.South set value [[  0,       0,       480, 480, 480, 480 ]];
        $contact = true;
    }
}

class entity_hitbox {
    function allay() {
        $entity_half_width = 84;
        $entity_height = 288;
    }
    function armor_stand() {
        data modify storage retina:data EntityTag set from entity @s;
        if (data storage retina:data EntityTag{Small: 1b}) $entity_half_width = 60;
        if (data storage retina:data EntityTag{Small: 1b}) $entity_height = 474;
        if (!data storage retina:data EntityTag{Small: 1b}) $entity_half_width = 120;
        if (!data storage retina:data EntityTag{Small: 1b}) $entity_height = 948;
        if (data storage retina:data EntityTag{Marker: 1b}) $entity_half_width = execute run $entity_height = 0;
    }
    function axolotl() {
        $entity_half_width = 180;
        $entity_height = 202; // rounded from 201.6;
    }
    function bat_like() {
        $entity_half_width = 216;
        $entity_height = 672;
    }
    function bee() {
        $entity_half_width = 144;
        $entity_height = 336;
    }
    function boat() {
        $entity_half_width = 330;
        $entity_height = 270;
    }
    function camel() {
        $entity_half_width = 408;
        $entity_height = 1140;
    }
    function cat_like() {
        $entity_half_width = 144;
        $entity_height = 336;
    }
    function cave_spider() {
        $entity_half_width = 168;
        $entity_height = 240;
    }
    function chicken() {
        $entity_half_width = 96;
        $entity_height = 336;
    }
    function cod() {
        $entity_half_width = 120;
        $entity_height = 144;
    }
    function cow() {
        $entity_half_width = 216;
        $entity_height = 672;
    }
    function creeper() {
        $entity_half_width = 144;
        $entity_height = 816;
    }
    function dolphin() {
        $entity_half_width = 216;
        $entity_height = 288;
    }
    function donkey() {
        $entity_half_width = 335; // rounded from 335.156256;
        $entity_height = 720;
    }
    function elder_guardian() {
        $entity_half_width = 479; // rounded from 479.4;
        $entity_height = 959; // rounded from 958.8;
    }
    function end_crystal() {
        $entity_half_width = 480;
        $entity_height = 960;
    }
    function enderman() {
        $entity_half_width = 144;
        $entity_height = 1392;
    }
    function falling_block_like() {
        $entity_half_width = 235; // rounded from 235.2;
        $entity_height = 470; // rounded from 470.4;
    }
    function frog() {
        $entity_half_width = 120;
        $entity_height = 240;
    }
    function ghast() {
        $entity_half_width = 960;
        $entity_height = 1920;
    }
    function giant() {
        $entity_half_width = 864;
        $entity_height = 5760;
    }
    function guardian() {
        $entity_half_width = 204;
        $entity_height = 408;
    }
    function hoglin() {
        $entity_half_width = 335; // rounded from 335.156256;
        $entity_height = 672;
    }
    function horse_like() {
        $entity_half_width = 335; // rounded from 335.156256;
        $entity_height = 768;
    }
    function iron_golem() {
        $entity_half_width = 336;
        $entity_height = 1296;
    }
    function item_frame() {
        $item_frame_facing = data get entity @s Facing;
        switch ($item_frame_facing) {
            case 0: data modify storage retina:data Surfaces set value {Top: [[60, 480, 60, 420, 480, 420]], Bottom: [[60, 450, 60, 420, 450, 420]], West: [[60, 450, 60, 60, 480, 420]], East: [[420, 450, 60, 420, 480, 420]], North: [[60, 450, 60, 420, 480, 60]], South: [[60, 450, 420, 420, 480, 420]]};
            case 1: data modify storage retina:data Surfaces set value {Top: [[60, 30, 60, 420, 30, 420]], Bottom: [[60, 0, 60, 420, 0, 420]], West: [[60, 0, 60, 60, 30, 420]], East: [[420, 0, 60, 420, 30, 420]], North: [[60, 0, 60, 420, 30, 60]], South: [[60, 0, 420, 420, 30, 420]]};
            case 2: data modify storage retina:data Surfaces set value {Top: [[60, 420, 450, 420, 420, 480]], Bottom: [[60, 60, 450, 420, 60, 480]], West: [[60, 60, 450, 60, 420, 480]], East: [[420, 60, 450, 420, 420, 480]], North: [[60, 60, 450, 420, 420, 450]], South: [[60, 60, 480, 420, 420, 480]]};
            case 3: data modify storage retina:data Surfaces set value {Top: [[60, 420, 0, 420, 420, 30]], Bottom: [[60, 60, 0, 420, 60, 30]], West: [[60, 60, 0, 60, 420, 30]], East: [[420, 60, 0, 420, 420, 30]], North: [[60, 60, 0, 420, 420, 0]], South: [[60, 60, 30, 420, 420, 30]]};
            case 4: data modify storage retina:data Surfaces set value {Top: [[450, 420, 60, 480, 420, 420]], Bottom: [[450, 60, 60, 480, 60, 420]], West: [[450, 60, 60, 450, 420, 420]], East: [[480, 60, 60, 480, 420, 420]], North: [[450, 60, 60, 480, 420, 60]], South: [[450, 60, 420, 480, 420, 420]]};
            case 5: data modify storage retina:data Surfaces set value {Top: [[0, 420, 60, 30, 420, 420]], Bottom: [[0, 60, 60, 30, 60, 420]], West: [[0, 60, 60, 0, 420, 420]], East: [[30, 60, 60, 30, 420, 420]], North: [[0, 60, 60, 30, 420, 60]], South: [[0, 60, 420, 30, 420, 420]]};
        }
    }
    function leash_knot() {
        $entity_half_width = 90;
        $entity_height = 240;
    }
    function llama() {
        $entity_half_width = 216;
        $entity_height = 898; // rounded from 897.6;
    }
    function minecart() {
        $entity_half_width = 235; // rounded from 235.2;
        $entity_height = 336;
    }
    function panda() {
        $entity_half_width = 312;
        $entity_height = 600;
    }
    function phantom() {
        $entity_half_width = 216;
        $entity_height = 240;
    }
    function pig() {
        $entity_half_width = 216;
        $entity_height = 432;
    }
    function player_like() {
        $entity_half_width = 144;
        $entity_height = 864;
        $check_for_head = true;
        $head_Y = 720;
    }
    function polar_bear() {
        $entity_half_width = 336;
        $entity_height = 672;
    }
    function pufferfish() {
        $pufferfish_puffstate = data get entity @s PuffState;
        if ($pufferfish_puffstate = 0) $entity_half_width = 84;
        if ($pufferfish_puffstate = 0) $entity_height = 168;
        if ($pufferfish_puffstate = 1) $entity_half_width = 120;
        if ($pufferfish_puffstate = 1) $entity_height = 240;
        if ($pufferfish_puffstate = 2) $entity_half_width = 168;
        if ($pufferfish_puffstate = 2) $entity_height = 336;
    }
    function rabbit() {
        $entity_half_width = 96;
        $entity_height = 240;
    }
    function ravager() {
        $entity_half_width = 468;
        $entity_height = 960;
    }
    function salmon() {
        $entity_half_width = 168;
        $entity_height = 192;
    }
    function sheep_like() {
        $entity_half_width = 216;
        $entity_height = 624;
    }
    function shulker() {
        // TODO: take peek/rotation into account and move this to the end of get_hitbox.entity(), along with item frames and paintings maybe
        $entity_half_width = 240;
        $entity_height = 480;
    }
    function skeleton() {
        $entity_half_width = 144;
        $entity_height = 955; // rounded from 955.2;
    }
    function slime_like() {
        $entity_half_width = 122; // rounded from 122.4;
        $entity_height = 245; // rounded from 244.8;
        $slime_size = data get entity @s Size;
        $slime_size ++;
        $entity_half_width *= $slime_size;
        $entity_height *= $slime_size;
    }
    function small_arthropod() {
        $entity_half_width = 96;
        $entity_height = 144;
    }
    function sniffer() {
        $entity_half_width = 456;
        $entity_height = 840;
    }
    function snow_golem() {
        $entity_half_width = 168;
        $entity_height = 912;
    }
    function spider() {
        $entity_half_width = 336;
        $entity_height = 432;
    }
    function squid() {
        $entity_half_width = 192;
        $entity_height = 384;
    }
    function strider() {
        $entity_half_width = 216;
        $entity_height = 816;
    }
    function tropical_fish() {
        $entity_half_width = 120;
        $entity_height = 192;
    }
    function turtle() {
        $entity_half_width = 288;
        $entity_height = 192;
    }
    function vex() {
        $entity_half_width = 96;
        $entity_height = 384;
    }
    function warden() {
        $entity_half_width = 216;
        $entity_height = 1392;
    }
    function wither() {
        $entity_half_width = 216;
        $entity_height = 1680;
    }
    function wither_skeleton() {
        $entity_half_width = 168;
        $entity_height = 1152;
    }
    function wolf() {
        $entity_half_width = 144;
        $entity_height = 408;
    }
    function zombie_like() {
        $entity_half_width = 144;
        $entity_height = 936;
        $check_for_head = true;
        $head_Y = 720;
    }
}

class storage {
    //	var $total_distance
    //		The distance travelled by the ray before it hits a block. 480 corresponds to one block. Unset if the maximum recursion depth is reached (i.e. if the ray travels at least 20 blocks).
    //	storage retina:output
    //		Target: string
    //			"BLOCK" if the ray hits a block, "ENTITY" if the ray hits an entity, "NONE" if the ray hits nothing.
    //		Distance: double
    //			How long the ray travels before hitting an obstacle.
    //      HitFace: string
    //			Cardinal direction for which face of the block/entity was hit.
    //		TargetedBlock: int[]
    //			The integer coordinates of the block that the ray finds itself in when it hits something (i.e. the "targeted block"). Unset if the ray hits an entity or if no block is found.
    //		TargetedEntity.Pos: float[]
    //			The position of the targeted entity. Unset if the ray hits a block or if no entity is found.
    //		TargetedEntity.UUID: int[]
    //			The UUID of the targeted entity. Unset if the ray hits a block or if no entity is found.
    //		ContactSurface: double[]
    //			The surface of the block or entity the ray hits (six coordinates between 0 and 480, where 0 0 0 and 480 480 480 are opposite corners of the block). Unset if no block or entity is found.
    //		ContactCoordinates: double[]
    //			The exact position where the ray hits something within the targeted block (three coordinates between 0 and 480, where 0 0 0 and 480 480 480 are opposite corners of the block). Unset if no block or entity is found.
    //		PlacingPosition: int[]
    //			The integer coordinates of the block before the ray hits something (i.e. where a block would be placed, if a player were to place a block). Unset if the ray hits an entity or if no block is found.

    function block() {
        data modify storage retina:output Target set value "BLOCK"; 

        // Reset previous values
        data modify storage retina:output TargetedBlock set value [0, 0, 0];
        data modify storage retina:output PlacingPosition set value [0, 0, 0];
        data modify storage retina:output ContactCoordinates set value [0.0d, 0.0d, 0.0d];

        // Contact surface
        data modify storage retina:output ContactSurface set from storage retina:data ContactSurface;

        // I have no clue why X and Y need this but Z doesn't.
        if ($X0 < 0) $X0 += 480;
        if ($Y0 < 0) $Y0 += 480;

        Hardcode.repeatLists(
            ["[axis]", "index"],
            () => {
                // Targeted block
                execute store result storage retina:output TargetedBlock[index] int 1 run $int_[axis].get();

                // Placing position
                execute store result storage retina:output PlacingPosition[index] int 1 run $prev_[axis].get();

                // Contact coordinates
                $targeted_[axis] += $origin_[axis];
                execute store result storage retina:output ContactCoordinates[index] double 0.0020833333333333333 run $targeted_[axis].get();

                // Total distance
                if ($nearest_axis == index) {
                    $total_distance = $delta_[axis];
                    $total_distance *= $[axis]0;
                }
            },
            [["X", "Y", "Z"], ["0", "1", "2"]]
        );
        $total_distance /= SCALE;
        if ($total_distance < 0) $total_distance *= -1;
        execute store result storage retina:output Distance double 0.0020833333333333333 run $total_distance.get();

        if (data storage retina:input {EndpointEntity: true}) execute summon minecraft:marker run {
            tag @s add retina.endpoint;
            data modify entity @s Pos set from storage retina:output ContactCoordinates;
            if ($end_particle) execute at @s run particle minecraft:electric_spark ~ ~ ~ 0 0 0 0 1 force @a;
        }
    }
    function entity() {
        // Target type
        data modify storage retina:output Target set value "ENTITY";

        // Targeted entity
        data modify storage retina:output TargetedEntity set value {UUID: [I; 0, 0, 0, 0], Pos: [0.0f, 0.0f, 0.0f]};
        execute as @e[type=!#retina:ignore, tag=retina.possible_target] if score @s retina.id = $closest_cuboid_id retina.__variable__ run {
            tag @s add retina.target;
            retina.hit:@s++;
        }
        data modify storage retina:data Entity set from entity @e[type=!#retina:ignore, tag=retina.target, limit=1];
        data modify storage retina:output TargetedEntity.UUID set from storage retina:data Entity.UUID;
        data modify storage retina:output TargetedEntity.Pos set from storage retina:data Entity.Pos;
        data remove storage retina:data Entity;

        // Contact surface
        data modify storage retina:output ContactSurface set from storage retina:data ContactSurface;

        // Contact coordinates
        data modify storage retina:output ContactCoordinates set value [0.0d, 0.0d, 0.0d];

        // I have no clue why X and Y need this but Z doesn't.
        if ($X0 < 0) $X0 += 480;
        if ($Y0 < 0) $Y0 += 480;
        
        Hardcode.repeatLists(
            ["[axis]", "_index"],
            () => {
                $targeted_[axis] += $origin_[axis];
                execute store result storage retina:output ContactCoordinates[_index] double 0.0020833333333333333 run $targeted_[axis].get();

                // Total distance
                if ($nearest_axis == _index) {
                    $total_distance = $delta_[axis];
                    $total_distance *= $[axis]0;
                }
            },
            [["X", "Y", "Z"], ["0", "1", "2"]]
        );
        $total_distance /= SCALE;
        if ($total_distance < 0) $total_distance *= -1;
        execute store result storage retina:output Distance double 0.0020833333333333333 run $total_distance.get();
        if (data storage retina:input {EndpointEntity: true}) execute summon minecraft:marker run {
            tag @s add retina.endpoint;
            data modify entity @s Pos set from storage retina:output ContactCoordinates;
            if ($end_particle) execute at @s run particle minecraft:electric_spark ~ ~ ~ 0 0 0 0 1 force @a;
        }
    }
}

$old_version_installed ?= scoreboard players add * retina 1;
if ($old_version_installed) {
    scoreboard objectives remove retina;
    scoreboard objectives remove retina.show_particle;
    scoreboard objectives remove retina.show_line;
    scoreboard objectives remove retina.raycast_count;
    scoreboard objectives remove retinacasttemp;
    kill @e[type=marker, tag=retina.ray];
    kill @e[type=marker, tag=retina.get_coordinates];
}
function uninstall() {}
return 1;